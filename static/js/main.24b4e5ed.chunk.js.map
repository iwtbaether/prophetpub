{"version":3,"sources":["engine/util.ts","engine/modules/PietyPurchases.ts","engine/modules/AbstractModule.ts","engine/interfaces/ExpoCurve.ts","engine/modules/PantheonBuys.ts","engine/modules/ItemPowers.ts","engine/modules/Followers.ts","engine/modules/USDRelicPurchases.ts","engine/modules/Pantheon/Time.ts","engine/modules/Pantheon/Production.ts","engine/modules/Pantheon/Wealth.ts","engine/modules/Pantheon/Persuasion.ts","engine/modules/Pantheon/Maintainance.ts","engine/modules/Pantheon/Greed.ts","engine/modules/Pantheon/Pantheons.tsx","engine/modules/Pantheon/Types.ts","engine/interfaces/ExpoCommand.ts","engine/modules/USDPurchases.ts","engine/modules/Prophet.ts","engine/modules/Gametime.ts","engine/modules/NavArea.ts","engine/modules/Exploring.ts","engine/modules/Adornments.ts","engine/modules/RocketTypes.ts","engine/modules/NameAndCode.ts","engine/Datamap.ts","engine/CoreEngine.ts","engine/modules/Rocket.ts","engine/Engine.ts","context/context.ts","ui/comps/TipFC.tsx","ui/comps/ProgressFC.tsx","ui/BottomBar.tsx","ui/comps/CommandButtonFC.tsx","ui/ProphetUI.tsx","ui/comps/NavBar.tsx","ui/comps/ConfirmCommandButton.tsx","ui/comps/CommandButton2.tsx","ui/comps/ResetUI.tsx","ui/comps/ParitionerBox.tsx","ui/comps/ExpoButton.tsx","ui/FollowersUI.tsx","ui/comps/AdornmentUI.tsx","ui/comps/OfflineOverlay.tsx","ui/comps/StatFC.tsx","ui/comps/RocketUI.tsx","ui/comps/RelicTip.tsx","ui/comps/RelicBox.tsx","ui/comps/RelicUI.tsx","ui/comps/PantheonUI.tsx","ui/App.tsx","serviceWorker.ts","index.tsx"],"names":["getRandomInt","min","max","Math","ceil","floor","random","formatNumber","num","abs","toString","toExponential","msToFullHMS","msTime","hour","HOUR_MS","minute","length","second","MINUTE_MS","SECOND_MS","WORLD_POP","congregationCost","reincarnationCost","holyPowerCost","piety_purchase_canBuy","data","cost","prophetData","piety","piety_purchase_canBuy_congregation","piety_purchase_canBuy_reincarnation","piety_purchase_canBuy_holypower","piety_purchase_hide_reincarnation","relics","prestigeUnlocked","piety_purchase_hide_congregation","congregation","unlocked","piety_purchase_hide_holypower","holyPowerUnlocked","holiness_holyPowerUpgradeCost","pow","holinessUpgrades","holypowerUpgrade","holiness_holypower1","name","command","able","holiness","hidden","maxHolyPowerUpgrade","holiness_holyPumpUpgradeCost","holyPumpUpgrade","holiness_holyPumpUpgrade_command","holiness_maxHolyPowerUpgradeCost","holiness_maxHolyPowerUpgrade_command","holiness_believerRetentionCost","believerRetention","holiness_believerRetention_command","holiness_exRelationsCost","exRelations","holiness_exRelations_command","ex_believers","holiness_buildingMultiCost","buildingMulti","holiness_buildingMulti_command","holiness_devotionEffectivenessCost","devotionEffectiveness","holiness_devotionEffectiveness_command","UnlockMiracles","AbstractModule","engine","expoI_getCost","expo","owned","initial","coefficient","expoI_maxBuyAmount","currency","b","r","k","c","logchange","log","expoI_maxBuyCost","expoI_buyNCost","n","ABC_cost","ABC_able","devotion","ABC_hidden","paritioners","ABC_bought","devotionUpgrades","abc","a","Devotion_Upgrade_ShorterDays","costName","change","Devotion_Upgrade_NoHPDecay","Devotion_Upgrade_RelicPower","DEF_cost","DEF_able","DEF_hidden","def","DEF_bought","Devotion_Upgrade_D","Devotion_Upgrade_E","Devotion_Upgrade_F","ITEM_POWERS","effective_devotee_mult","adornments","equiped","book","origin","level","devotee_power_mult","ring","prayer_upgrades","prodctionCallback","eq","cane","believers","USD","piety_eq_mult_gain","mult","cap","robe","devotion_eq_mult_gain","usd_eq_mult_gain","Followers","handle_followers_command","cmdArray","handle_recruit_command","handle_upgrade_command","recruitParitioner","recruitMaxParitioner","recruitHalfMaxParitioner","handle_unlock_command","handle_divinity_command","doDevotionUpgrade","datamap","Object","values","DP_Upgrades","forEach","dp","split","dp_key","divinityPurcase","dp_able","action","buy_divinityPurchase","DPUpgrades","reset","recruit_preacher","recruit_devotee","recruit_doorknocker","recruit_preacher_max","recruit_devotee_max","recruit_doorknocker_max","automation","auto_buyToNext","upgrade_preacher","upgrade_devotee","upgrade_doorknocker","unlockAdornments","preacher_cmd_able","preachers","old","preacher_upgrade_cmd_able","preacherLevel","doorknocker_cmd_able","doorknocker","doorknocker_upgrade_cmd_able","doorknockerLevel","devotee_cmd_able","devotee","devotee_upgrade_cmd_able","devoteeLevel","preacher_cost","preacher_upgrade_cost","devotee_cost","devotee_upgrade_cost","doorknocker_cost","doorknocker_upgrade_cost","arg0","console","index","parseInt","paritioner_cost","this","amount","paritioner_maxBuyAmount","paritioner_buyNCost","paritioner_buyHalfMax_amount","days","proudDay","wealthDay","curiousDay","smartDay","dumbDay","badDay","dailyBelieverGain","proudBeliever_believer_gain","WealthyBeliever_USD_gain","WealthyBeliever_Believer_gain","questions","crediblity","UnlockAdornments_able","followers","adornmentsUnlocked","devotion_mult","base","count","recruit_preacher_cmd","upgrade_preacher_cmd","recruit_devotee_cmd","upgrade_devotee_cmd","recruit_doorknocker_cmd","upgrade_doorknocker_cmd","ParitionerExpos","Paritioners","costbound","peopleBound","availablePeople","paritioner_maxBuyCost","full","paritioner_buyHalfMax_cost","gain","USDUpgrades","pamphlets","pantheon","persuasion","harm","helper_prophet_exBeliever_harm","realPossibleGain","realGain","tithe","wealth","greed","UnlockAdornments_cost","UnlockAdornments","getDivinity","devotedPrestige","availableDivinity","specificSpentDivinity","DP_beliverGain","DP_fasterRelicProduction","DP_heavyHolyPower","DP_monthMultiplier","DP_superHolyPump","DP_yearMultiplier","spentDivinity","countFn","divinityPurcase_getCost","tierOne_Divinity_hidden","description","fasterRelicProduction","heavyHolyPower","monthMultiplier","superHolyPump","yearMultiplier","RelicUSDUpgradeExpos","relicUSDupgrade_cost","relicUSDUpgrades","ThisPantheon","key","do","buy_pantheonPurchase","Upgrade_A","Upgrade_B","Upgrade_C","buyMax_pantheonPurchase","getData","time","UpgradeData_init","bonusDays","production","godOfPersuasionBelieverGainMult","maintainance","TIME","PRODUCTION","WEALTH","PERSUASION","MAINTAINANCE","GREED","PANTHEON_COST","UnlockPantheonCommand","tip","pantheonPurchase","pantheonPurchase_able","pantheonPurchaseCost","pantheonPurchase_maxAmmount","ammount","pantheonPurchase_maxCost","CurrencyFn_USD","get","spend","expoCommand_buy","expoCommand","expoCommand_Able","currencyFns","expoCommand_Cost","countFns","ep","expoCommand_maxAmmount","expoCommand_buyMax","expoCommand_maxCost","USD_UpgradeTithe","currencyName","USD_Upgrade_Pamphlets","ProphetModule","believersLeave","i","loss","helper_prophet_maxBelieversDecay","boundLoss","holyDump","holyPower","holyPump","prophet_maxHolyPower","processDetla","delta","relicDeltaMult","RELICS","relicData","relicIndex","relicTimers","timeCost","relic_getTime","relic_getProduction","maxPiety","prestige","ppgain","prophet_prestige_gain","oldMult","newCount","save","reincarnationCount","selected","relicsetbuy","newOld","init_ProphetData","startingHoliness","prestigeCleanup","devotedprestige","hardCleanup","gameTime","currentRun","nav","mainArea","rocket","exploring","pray","proselytize","preach","upgradeRelic","buyRelic","buyMaxRelic","buyToNRelic","piety_purchase_buy_reincarnation","piety_purchase_buy_holypower","holiness_holyPowerUpgrade_do","holiness_holyPumpUpgrade_do","holiness_maxHolyPowerUpgrade_do","holiness_believerRetention_do","holiness_exRelations_do","holiness_buildingMulti_do","holiness_devotionEffectiveness_do","rocketData","upgradeIndex","relic_getCost","relic_maxBuyAmount","relic_maxBuyCost","relic_buyNCost","needToN","doorknockers","dayTriggerParitioners","devotees","devotee_devotion_gain","doorknocker_beliver_gain","preachers_max_deovtion_gain","preach_max_deovtion_gain","helper_prophet_maxBeliverGainNet","prophet","decay","year","power","total_power","helper_prophet_size_believerDecay","helper_prophet_exBeliever_believerDecay","helper_prophet_maxBeliverGain","sum","ghijk","d","e","initialCost","initialTime","initialRevenue","cost_base","relic_getProductionMulti","holiness_mult","relic_hoylPowerMulti","reincation_mult","special_relic_mult","item_relic_mult","pantheon_piety_mult","time_relic_mult","year_relic_mult","month","month_relic_mult","CALC_holy_mult","reincation_mult_from_superPrestiges","sqrt","CUTOFF","next_holiness_mult","val","Building_Multi","relic_canBuyNext","next","relic_canBuyN","CMD_prophet_pray","CMD_prophet_buymax","CMD_prophet_buymaxreverse","CMD_prophet_proselytize","devotedPrestige_cost","CMD_prophet_devotedPrestige","GameTime","day","msprogress","eatenDays","processDelta","mscost","requiredMS","passDayAction","processCommands","commands","passDay","eatDay","daysForTriggers","maxDays","maxMonths","dayTriggers","multiday","elapsed_days","totalDays","elapased_months","totalMonths","gainedYears","bonus","dayTrigger","joules","NavArea","changeMainArea","stringedNumber","number","subArea","changeSubArea","Exploring","hireExplorers","can_hire","explorerCount","hireToNegative","income","firstSal","currentSalary","secondSal","net","individualcost","canhire","handle_explore_command","hireExplorer","hire10Explorer","fireExplorer","sendup","senddown","sendall","sendRuins","sendMart","sendShop","stopRuins","stopMart","stopShop","exploreDay","checkBelievers","checkSalary","checkOut","checkReady","exploreProgress","checkForFinshedAreas","exploreRuins","exploreMart","exploreShop","explorers","ExplorersData_init","areas","ruins","beingExplored","readyForMission","assignedExplorers","mart","shop","availableExplorers","area","investedDays","goal","getAreaGoalDirct","exploredCount","AreaExpos","checkArea","getItem","EXPLORER_SALARY","areaExpo","explorData","show_explore_area","areaKey","AREA_STRS","Adornments","handle_adornments_command","items","push","iNo","sortAdornments","index_","item_","splice","gems","combine","unequipCap","unequipCane","unequipRobe","unequipRing","newring","unequipBook","sort","sortAreas","check_item","matches","some","item","i_index","originA","originB","getAreaIndex","toPush","adornmentCount","getFullAdornmentItem","ItemNames","PowerDictionary","unused","Cap","Cane","Robe","Ring","Book","RocketDataInit","ball","height","mass","derived","estimatedTime","estimatedVMax","estimatedJouls","sim","current_h","current_v","impactJouls","active","elapsedTime","thrown_ball","initial_velocity","bouncyball","bounces_upgrades","loss_upgrades","bounces","NameAndCode","timeSet","Date","now","nacData","newDefaultMap","offline","happening","totaltime","x","y","z","ticks","last","ui","innerHeight","innerWidth","faithfulCongregation","CoreEngine","notify","loop","undefined","start","setInterval","tick","stop","clearTimeout","JSON","stringify","localStorage","setItem","load","quietLoad","combstr","oldobj","parse","_","newnow","Rocket","handle_rocket_command","ballHeightUpgrade_cost","nextBallHeightUpgrade","ballMassUpgrade_cost","nextBallMassUpgrade","ballVelocityUpgrade_cost","nextBallVelocityUpgrade","ballBounceUpgrade_cost","nextBallBounceUpgrade","throwball","dropball","bounceball","updateEstimates","ballsim","thrownballsim","bounceyball_sim","seconds","move_and_impact","ballimpact","thrown_ballimpact","GRAVITY","freefall_t_from_h","freefall_j_from_mv","v_in","acceleration","delta_t","delta_h","vf","estimatedDistance","velocity_in","freefall_d_from_vat","freefall_vf_from_viat","v_i","v_f","distance","t","freefall_t_from_vivfd","vf_sq","freefall_vf_from_viad","vin","h","vhat_sim","initial_time","bounce_ballimpact","bounce_energy","gainedJoules","velocity","newv","oldKE","bounce","cmd_ballheightplus","cmd_ballvelocityplus","cmd_ballbouncesplus","cmd_dropball","cmd_throwball","cmd_bouncyball","v","m_kg","Engine","bounds","stopOffline","executeCommand","doPantheonUpgrade","import","export","handleKey","nac","nacCommand","startOffline","lzutf8str","LZUTF8","require","arrayInt","map","value","magicArray","Uint8Array","of","encodeUTF8","decompress","merge","dataString","output","compress","filename","text","element","document","createElement","setAttribute","encodeURIComponent","style","display","body","appendChild","click","removeChild","download","AppContext","React","submitCommand","str","props","setTB","window","top","bottom","ReactDOM","findDOMNode","parent","parentElement","parentBounds","getBoundingClientRect","setState","state","className","Component","contextType","TipFC","Consumer","ProgressFC","widthpercent","useState","off","setOff","backgroundSize","width","onClick","whiteSpace","label","BottomBar","color","background","msToHM","MONTHS","CommandButtonFC","disabled","img","src","alt","ProphetUI","deltamult","prodTimesDeltamult","relic_getAllProductionPerecond","NavBar","areaIndex","areaUnlocked","ConfirmCommandButton","fakeBuy","ev","shiftKey","context","open","warning","CommandButton2","resource","ResetUI","toFixed","holiness_holyPowerEffectivenessUpgradeCost","DPUpgradeComp","ParitionerBox","paritionerIndex","justifyContent","flexDirection","costable","peopleable","paritioner_able","ParitionerDetailts","ExpoButton","FollowersUI","DevotionUpgrades","border","AdornmentUI","commandKey","itemData","slot","AreaBox","areaExpoKey","remainder","rate","getAreaETA","ItemBox","EquippedItemBox","OfflineOverlay","StatFC","textAlign","units","estimate","RocketUI","padding","RelicTip","RelicBox","relic_canBuy","relic_buyNextCost","relicUSDupgrade_able","relic_getProductionPerecond","RelicUI","PantheonUI","Pantheons","dps","PantheonUpgradeComp","PantheonUpgradeBox_v2","children","PantheonUpgradeComp_v2","App","setname","textInput","target","preventDefault","addEventListener","removeEventListener","Provider","onSubmit","type","defaultValue","getElementById","id","onChange","list","files","file","reader","FileReader","readAsText","onload","readerEvent","content","result","MAINNAVS","Boolean","location","hostname","match","render","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.24b4e5ed.chunk.js","sourcesContent":["export function getRandomInt(min: number, max: number) {\n    min = Math.ceil(min);\n    max = Math.floor(max);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}   \n\nexport function formatNumber(num:number): string {\n    if (Math.abs(num) < 1e6) return num.toString();\n    else return num.toExponential(2);\n}\nexport function percentOf (num: number, base: number) {\n    if (num === 0 || base === 0) return 'IDK';\n    else return Math.floor(100*num/base).toString() + '%';\n}\n\nexport function msToFullHMS (msTime: number) {\n    \n    let hour = Math.floor(msTime/HOUR_MS).toString();\n\n    let minute = Math.floor((msTime%HOUR_MS)/HOUR_MS * 60).toString();\n    if (minute.length === 1) minute = '0' + minute;\n\n    let second = Math.floor((msTime%MINUTE_MS)/MINUTE_MS * 60).toString();\n    if (second.length === 1) second = '0' + second;\n    \n    \n    return `${hour}:${minute}:${second}`\n}\n\nexport const SECOND_MS = 1000\nexport const MINUTE_MS = SECOND_MS * 60\nexport const HOUR_MS = MINUTE_MS * 60\n\nexport const WORLD_POP = 7.7e9\n\n\n/**\n * @param {character[]} chars\n * @return {number}\n */\nexport var compressString = function(chars: string[]) {\n    if (chars.length === 0) return 0\n    var currentLetter = '';\n    var currentCount = 0;\n    var charsIndex = 0;\n    for (var i = 0; i < chars.length; i++) {\n        \n        if (currentCount = 0) {\n            currentLetter = chars[i]\n            charsIndex++\n        } else {\n            \n            if (chars[i] === currentLetter) {\n                currentCount ++;\n            } else {\n                if (currentCount > 1) {\n                    chars[charsIndex] = currentCount.toString();\n                    charsIndex++\n                } \n                currentCount = 1\n                currentLetter = chars[i]\n                charsIndex++\n                \n            }\n        \n        }\n            \n    }\n    return charsIndex + 1\n};\n\n/**\n * @param {character[]} chars\n * @return {number}\n */\nvar compress = function(chars: string[]) {\n    if (chars.length === 0) return 0\n    var currentLetter = chars[0];\n    var currentCount = 1;\n    var charsIndex = 0;\n    for (var i = 1; i < chars.length; i++) {\n        \n        if (chars[i] === currentLetter) {\n            currentCount ++;\n        } else {\n            \n            chars[charsIndex] = currentLetter\n            charsIndex++\n            \n            \n            if (currentCount > 1) {\n                var intStr = currentCount.toString();\n                for (var j = 0; j < intStr.length; j++) {\n                    chars[charsIndex] = intStr[i];\n                    charsIndex++                \n                }\n            } \n            currentCount = 1\n            currentLetter = chars[i]\n        }\n            \n    }\n    \n    chars[charsIndex] = currentLetter\n    charsIndex++        \n            \n    if (currentCount > 1) {\n        chars[charsIndex] = currentCount.toString();\n        charsIndex++\n    } \n    \n    return charsIndex\n};\n\ninterface LNode {\n    next: LNode | null;\n    val: number;\n}\nfunction ListNode(val: number): LNode {\n    return {\n        val, next: null\n    }\n}\n/**\n * Definition for singly-linked list.\n * function ListNode(val) {\n *     this.val = val;\n *     this.next = null;\n * }\n */\n/**\n * @param {ListNode} l1\n * @param {ListNode} l2\n * @return {ListNode}\n */\nvar addTwoNumbers = function(l1: LNode | null, l2: LNode | null) {\n    var s1 = \"\";\n    var s2 = \"\";\n    \n    while(l1 !== null) {\n        s1 = s1 + l1.val.toString();\n        l1 = l1.next\n    }\n    \n    while(l2 !== null) {\n        s2 = s2 + l2.val.toString();\n        l2 = l2.next\n    }\n    \n    s1 = s1.split(\"\").reverse().join()\n    s2 = s2.split(\"\").reverse().join()\n    \n    var newVal = parseInt(s1) + parseInt(s2);\n    var newS = newVal.toString();\n    var newSSplit = newS.split(\"\");\n    \n    var popped = newSSplit.pop();\n        \n    var currentNode = null;\n    while (popped !== undefined) {\n        var newNode = ListNode(parseInt(popped))\n        newNode.next = currentNode;\n        currentNode = newNode;\n        popped = newSSplit.pop()\n    }\n    \n    return currentNode\n    \n    \n    \n    \n};","import { Datamap } from \"../Datamap\";\nimport { DecoupledCommand, DecoupledCommand2 } from \"../interfaces/ICommand\";\n\nexport default class PietyPurchases {\n\n}\n\n\nexport const congregationCost: number = 1e10;\nexport const reincarnationCost: number = 1e5;\nexport const holyPowerCost: number = 1e4;\n\nfunction piety_purchase_canBuy (data: Datamap, cost: number) {\n    return data.prophetData.piety >= cost;\n}\n\nexport function piety_purchase_canBuy_congregation (data:Datamap) {\n    return piety_purchase_canBuy(data, congregationCost)\n}\n\nexport function piety_purchase_canBuy_reincarnation (data:Datamap) {\n    return piety_purchase_canBuy(data, reincarnationCost)\n}\n\nexport function piety_purchase_canBuy_holypower (data:Datamap) {\n    return piety_purchase_canBuy(data, holyPowerCost)\n}\n\nexport function piety_purchase_buy_congregation (data: Datamap) {\n    if (piety_purchase_hide_congregation(data)) return\n    if (!piety_purchase_canBuy_congregation(data)) return;\n    data.prophetData.piety -= congregationCost;\n    data.prophetData.congregation.unlocked = true;\n}\n\nexport function piety_purchase_buy_reincarnation (data: Datamap) {\n    if (piety_purchase_hide_reincarnation(data)) return\n    if (!piety_purchase_canBuy_reincarnation(data)) return;\n    data.prophetData.piety -= reincarnationCost;\n    data.prophetData.prestigeUnlocked = true;\n}\n\nexport function piety_purchase_buy_holypower (data: Datamap) {\n    if (piety_purchase_hide_holypower(data)) return\n    if (!piety_purchase_canBuy_holypower(data)) return;\n    data.prophetData.piety -= holyPowerCost;\n    data.prophetData.holyPowerUnlocked = true;\n}\n\nexport function piety_purchase_hide_reincarnation (data: Datamap) {\n    let hidden=  data.prophetData.relics[2] === 0 || data.prophetData.prestigeUnlocked\n    return hidden;\n}\n\nexport function piety_purchase_hide_congregation (data: Datamap) {\n    let  hidden = data.prophetData.relics[4] === 0 || data.prophetData.congregation.unlocked\n    return hidden;\n}\n\nexport function piety_purchase_hide_holypower (data: Datamap) {\n    let hidden=  data.prophetData.relics[1] === 0 || data.prophetData.holyPowerUnlocked\n    return hidden;\n}\n\n\nexport function holiness_holyPowerUpgradeCost (data: Datamap) {\n    return Math.pow(10,data.holinessUpgrades.holypowerUpgrade + 1)\n}\nexport const holiness_holypower1: DecoupledCommand = {\n    name: \"Holy Power Effectiveness\",\n    command: \"prophet holypowerUpgrade\",\n    able: (data)=>{return holiness_holyPowerUpgradeCost(data) <= data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.maxHolyPowerUpgrade === 0}\n\n}\nexport function holiness_holyPowerUpgrade_do (data: Datamap) {\n    if (holiness_holypower1.able) if (!holiness_holypower1.able(data)) return;\n    let cost = holiness_holyPowerUpgradeCost(data);\n    data.holinessUpgrades.holypowerUpgrade ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_holyPumpUpgradeCost (data: Datamap) {\n    return Math.pow(2, data.holinessUpgrades.holyPumpUpgrade + 1)\n}\nexport const holiness_holyPumpUpgrade_command: DecoupledCommand = {\n    name: \"Holy Power From Prayer\",\n    command: \"prophet holypumpupgrade\",\n    able: (data)=>{return holiness_holyPumpUpgradeCost(data) <= data.prophetData.holiness},\n}\nexport function holiness_holyPumpUpgrade_do (data: Datamap) {\n    if (holiness_holyPumpUpgrade_command.able) if (!holiness_holyPumpUpgrade_command.able(data)) return;\n    let cost = holiness_holyPumpUpgradeCost(data);\n    data.holinessUpgrades.holyPumpUpgrade ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_maxHolyPowerUpgradeCost (data: Datamap) {\n    return Math.pow(5, data.holinessUpgrades.maxHolyPowerUpgrade + 1)\n}\nexport const holiness_maxHolyPowerUpgrade_command: DecoupledCommand = {\n    name: \"Max Holy Power\",\n    command: \"prophet maxholypowerupgrade\",\n    able: (data)=>{return holiness_maxHolyPowerUpgradeCost(data) <=data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.holyPumpUpgrade === 0}\n}\nexport function holiness_maxHolyPowerUpgrade_do (data: Datamap) {\n    if (holiness_maxHolyPowerUpgrade_command.able) if (!holiness_maxHolyPowerUpgrade_command.able(data)) return;\n    let cost = holiness_maxHolyPowerUpgradeCost(data);\n    data.holinessUpgrades.maxHolyPowerUpgrade ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_believerRetentionCost (data: Datamap) {\n    return Math.floor(Math.pow(1.7, data.holinessUpgrades.believerRetention)+1)\n}\nexport const holiness_believerRetention_command: DecoupledCommand = {\n    name: \"Believer Retention\",\n    command: \"prophet believerretentionupgrade\",\n    able: (data)=>{return holiness_believerRetentionCost(data) <= data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.believerRetention === 0 && (data.holinessUpgrades.maxHolyPowerUpgrade === 0 || data.prophetData.congregation.unlocked === false)}\n}\nexport function holiness_believerRetention_do (data: Datamap) {\n    if (holiness_believerRetention_command.able) if (!holiness_believerRetention_command.able(data)) return;\n    let cost = holiness_believerRetentionCost(data);\n    data.holinessUpgrades.believerRetention ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_exRelationsCost (data: Datamap) {\n    return Math.pow(3, data.holinessUpgrades.exRelations + 1)\n}\nexport const holiness_exRelations_command: DecoupledCommand = {\n    name: \"Ex Relations\",\n    command: \"prophet exrelationsupgrade\",\n    able: (data)=>{return holiness_exRelationsCost(data) <= data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.believerRetention === 0 && (data.holinessUpgrades.believerRetention === 0 || data.prophetData.ex_believers === 0)}\n}\nexport function holiness_exRelations_do (data: Datamap) {\n    if (holiness_exRelations_command.able) if (!holiness_exRelations_command.able(data)) return;\n    let cost = holiness_exRelationsCost(data);\n    data.holinessUpgrades.exRelations ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_buildingMultiCost (data: Datamap) {\n    return Math.floor(Math.pow(3.69, data.holinessUpgrades.buildingMulti + 1) + 30)\n}\nexport const holiness_buildingMulti_command: DecoupledCommand = {\n    name: \"Relic Mult\",\n    command: \"prophet bmupgrade\",\n    able: (data)=>{return holiness_buildingMultiCost(data) <= data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.holypowerUpgrade === 0}\n}\nexport function holiness_buildingMulti_do (data: Datamap) {\n    if (holiness_buildingMulti_command.able) if (!holiness_buildingMulti_command.able(data)) return;\n    let cost = holiness_buildingMultiCost(data);\n    data.holinessUpgrades.buildingMulti ++;\n    data.prophetData.holiness -= cost;\n}\n\nexport function holiness_devotionEffectivenessCost (data: Datamap) {\n    return Math.floor(Math.pow(124, data.holinessUpgrades.devotionEffectiveness + 1))\n}\nexport const holiness_devotionEffectiveness_command: DecoupledCommand = {\n    name: \"Devotion Effectiveness\",\n    command: \"prophet de_upgrade\",\n    able: (data)=>{return holiness_devotionEffectivenessCost(data) <= data.prophetData.holiness},\n    hidden: (data)=>{return data.holinessUpgrades.exRelations === 0}\n}\nexport function holiness_devotionEffectiveness_do (data: Datamap) {\n    if (holiness_devotionEffectiveness_command.able) if (!holiness_devotionEffectiveness_command.able(data)) return;\n    let cost = holiness_devotionEffectivenessCost(data);\n    data.holinessUpgrades.devotionEffectiveness ++;\n    data.prophetData.holiness -= cost;\n}\n\n\nexport interface HolinessUpgrades {\n    holypowerUpgrade: number;\n    holyPumpUpgrade: number;\n    maxHolyPowerUpgrade: number;\n    believerRetention: number;\n    exRelations: number;\n    buildingMulti: number;\n    devotionEffectiveness: number;\n}\n\nexport function holinessUpgradesInit () {\n    return {\n        holypowerUpgrade: 0,\n        holyPumpUpgrade: 0,\n        maxHolyPowerUpgrade: 0,\n        believerRetention: 0,\n        exRelations: 0,\n        buildingMulti: 0,\n        devotionEffectiveness: 0,\n    }\n}\n\nconst MIRaCLES_COST = 1e30\nexport const UnlockMiracles: DecoupledCommand2 = {\n    command:()=>'prophet unlockmiracles',\n    name:()=> \"Unlock Miracles\",\n    cost:()=> MIRaCLES_COST,\n    hidden:(data)=>data.prophetData.relics[9] === 0 || data.rocketData.unlocked,\n    able:(data)=>data.prophetData.piety >= MIRaCLES_COST\n}","import Engine from \"../Engine\";\n\nexport default abstract class AbstractModule {\n    \n    constructor (public engine: Engine) {\n\n    }\n\n    get data () {\n        return {\n            \n        }\n    }\n\n}","export default interface ExpoCurve {\n    coefficient: number,\n    initial: number,\n}\n\nexport function expoI_getCost(expo: ExpoCurve, owned:number) {\n\n    \n    return Math.floor(expo.initial*Math.pow(expo.coefficient,owned))\n}\n\nexport function expoI_maxBuyAmount (expo: ExpoCurve, owned:number, currency: number) {\n    let b = expo.initial;\n    let r = expo.coefficient;\n    let k = owned\n    let c = currency\n\n    let logresult = Math.log(1+((c*(r - 1))/(b*Math.pow(r, k))))\n    let logchange = logresult / Math.log(r);\n    let result = Math.floor(logchange)\n\n    return result;\n}  \n\nexport function expoI_maxBuyCost (expo: ExpoCurve, owned:number, currency: number) {\n\n    let n = expoI_maxBuyAmount(expo, owned, currency);\n    \n    return expoI_buyNCost(expo, owned, n)\n}\n\nexport function expoI_buyNCost (expo: ExpoCurve, owned: number, n: number) {\n    let b = expo.initial;\n    let r = expo.coefficient;\n    let k = owned\n\n    return Math.floor( b * (Math.pow(r,k)*(Math.pow(r,n)-1)) / (r - 1) )\n}\n\nexport function expoI_buyNextCost (expo: ExpoCurve, owned: number, next: number) {\n    let k = owned;\n    let n = next - k % next;\n\n    return expoI_buyNCost(expo, owned, n)\n}\n\nexport interface ExpoObject {\n    [key:string]:ExpoCurve,\n}","import { Datamap } from \"../Datamap\";\nimport { DecoupledCommand, DecoupledCommand2 } from \"../interfaces/ICommand\";\nimport ExpoCurve from \"../interfaces/ExpoCurve\";\n\nexport default class DevotionPurchases {\n\n}\n\nexport function doDevotionUpgrade (data: Datamap, command: string) {\n    switch (command) {\n        case 'shorterdays':\n            data.prophetData.devotion -= ABC_cost(data);\n            data.prophetData.devotionUpgrades.abc.a = true;\n            break;\n\n        case 'productiveprayer':\n                data.prophetData.devotion -= ABC_cost(data);\n                data.prophetData.devotionUpgrades.abc.b = true;\n            break;\n\n        case 'relicpower':\n                data.prophetData.devotion -= ABC_cost(data);\n                data.prophetData.devotionUpgrades.abc.c = true;\n            break;\n\n        case 'd':\n                data.prophetData.devotion -= DEF_cost(data);\n                data.prophetData.devotionUpgrades.def.a = true;\n            break;\n\n        case 'e':\n                data.prophetData.devotion -= DEF_cost(data);\n                data.prophetData.devotionUpgrades.def.b = true;\n            break;\n\n        case 'f':\n                data.prophetData.devotion -= DEF_cost(data);\n                data.prophetData.devotionUpgrades.def.c = true;\n            break;\n    \n        default:\n            break;\n    }\n}\n\nfunction ABC_cost (data: Datamap) {\n    return 1e6\n}\n\nfunction ABC_able (data: Datamap) {\n    return data.prophetData.devotion >= ABC_cost(data) && ABC_hidden(data) === false;\n}\n\nexport function ABC_hidden (data: Datamap) {\n    return data.prophetData.congregation.paritioners[0] < 1 || ABC_bought(data);\n}\n\nexport function ABC_bought (data: Datamap) {\n    return data.prophetData.devotionUpgrades.abc.a || data.prophetData.devotionUpgrades.abc.b || data.prophetData.devotionUpgrades.abc.c\n}\n\n\nexport const Devotion_Upgrade_ShorterDays: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade shorterdays',\n    name: (data)=>`(A) God of Time`,\n    hidden: ABC_hidden,\n    cost: ABC_cost,\n    able: ABC_able,\n    costName: 'Devotion',\n    change: (data)=>`Days are only 12 seconds`,\n}\n\nexport const Devotion_Upgrade_NoHPDecay: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade productiveprayer',\n    name: (data)=>`(B) God of Production`,\n    change: (data)=>`Prayer gives 1s of relic time`,\n    hidden: ABC_hidden,\n    cost: ABC_cost,\n    able: ABC_able,\n    costName: 'Devotion',\n}\n\nexport const Devotion_Upgrade_RelicPower: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade relicpower',\n    name: (data)=>`(C) God of Wealth`,\n    change: (data)=>`Expensive relics produce more`,\n    cost: ABC_cost,\n    able: ABC_able,\n    costName: 'Devotion',\n}\n\nfunction DEF_cost (data: Datamap) {\n    return 1e8\n}\n\nfunction DEF_able (data: Datamap) {\n    return data.prophetData.devotion >= DEF_cost(data) && DEF_hidden(data) === false;\n}\n\nexport function DEF_hidden (data: Datamap) {\n    return data.prophetData.congregation.paritioners[1] < 1 || DEF_bought(data);\n}\n\nfunction DEF_bought (data: Datamap) {\n    return data.prophetData.devotionUpgrades.def.a || data.prophetData.devotionUpgrades.def.b || data.prophetData.devotionUpgrades.def.c\n}\n\n\nexport const Devotion_Upgrade_D: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade d',\n    name: (data)=>`(D) God of Persuasion`,\n    change: (data)=>`Double Believer Gain`,\n    hidden: DEF_hidden,\n    cost: DEF_cost,\n    able: DEF_able,\n    costName: 'Devotion',\n}\n\nexport const Devotion_Upgrade_E: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade e',\n    name: (data)=>`(E) God of Maintainance`,\n    change: (data)=>`No Holy Power Decay`,\n    hidden: DEF_hidden,\n    cost: DEF_cost,\n    able: DEF_able,\n    costName: 'Devotion',\n}\n\nexport const Devotion_Upgrade_F: DecoupledCommand2 = {\n    command: (data)=>'followers devotionupgrade f',\n    name: (data)=>`(F) God of Greed`,\n    change: (data)=>`Expensive relics produce more`,\n    hidden: DEF_hidden,\n    cost: DEF_cost,\n    able: DEF_able,\n    costName: 'Devotion',\n}\n\nexport interface DevotionUpgradeData {\n    abc: { a: boolean, b: boolean, c: boolean };\n    def: { a: boolean, b: boolean, c: boolean };\n    ghijk: { a: boolean, b: boolean, c: boolean, d: boolean, e: boolean };\n}\n\nexport function DevotionUpgradeData_init (): DevotionUpgradeData {\n    return {\n        abc: { a: false, b: false, c: false, },\n        def: { a: false, b: false, c: false, },\n        ghijk: { a: false, b: false, c: false, d: false, e: false },\n    }\n}","import { Datamap } from \"../Datamap\";\n\nconst ITEM_POWERS = {\n    effective_devotee_mult, devotee_power_mult, prayer_upgrades, \n    piety_eq_mult_gain, devotion_eq_mult_gain, usd_eq_mult_gain\n}\n\nexport default ITEM_POWERS;\n\nfunction effective_devotee_mult(data: Datamap) {\n    if (data.adornments.equiped.book) {\n        if (data.adornments.equiped.book.origin === 'ruins') {\n            return data.adornments.equiped.book.level + 1;\n        }\n    }\n    return 1;\n}\n\nfunction devotee_power_mult(data: Datamap) {\n    if (data.adornments.equiped.ring) {\n        if (data.adornments.equiped.ring.origin === 'ruins') {\n            return data.adornments.equiped.ring.level + 1;\n        }\n    }\n    return 1;\n}\n\nfunction prayer_upgrades(data: Datamap, prodctionCallback: (deltaMS: number)=>void) {\n    let eq = data.adornments.equiped;\n    if (eq.cane) {\n        if (eq.cane.origin == 'ruins') {\n            data.prophetData.believers += eq.cane.level\n        }\n        if (eq.cane.origin == 'mart') {\n            data.prophetData.congregation.USD += eq.cane.level\n        }\n        if (eq.cane.origin == 'shop') {\n            prodctionCallback(eq.cane.level * 1000)\n        }\n    }\n}\n\nfunction piety_eq_mult_gain (data: Datamap) {\n    let mult = 0;\n    let eq = data.adornments.equiped;\n    if (eq.cap) {\n        if (eq.cap.origin === 'ruins') {\n            mult += eq.cap.level;\n        }\n    } \n    //no book\n    if (eq.robe) {\n        if (eq.robe.origin === 'ruins') {\n            mult += eq.robe.level;\n        }\n    } \n    //no ring\n    return mult;\n}\n\nfunction devotion_eq_mult_gain (data: Datamap) {\n    let mult = 0;\n    let eq = data.adornments.equiped;\n    if (eq.cap) {\n        if (eq.cap.origin === 'mart') {\n            mult += eq.cap.level;\n        }\n    } \n    if (eq.book) {\n        if (eq.book.origin === 'mart') {\n            mult += eq.book.level;\n        }\n    }\n    if (eq.robe) {\n        if (eq.robe.origin === 'mart') {\n            mult += eq.robe.level;\n        }\n    } \n    if (eq.ring) {\n        if (eq.ring.origin === 'mart') {\n            mult += eq.ring.level;\n        }\n    } \n    return mult;\n}\n\nfunction usd_eq_mult_gain (data: Datamap) {\n    let mult = 0;\n    let eq = data.adornments.equiped;\n    if (eq.cap) {\n        if (eq.cap.origin === 'shop') {\n            mult += eq.cap.level;\n        }\n    } \n    if (eq.book) {\n        if (eq.book.origin === 'shop') {\n            mult += eq.book.level;\n        }\n    }\n    if (eq.robe) {\n        if (eq.robe.origin === 'shop') {\n            mult += eq.robe.level;\n        }\n    } \n    if (eq.ring) {\n        if (eq.ring.origin === 'shop') {\n            mult += eq.ring.level;\n        }\n    } \n    return mult;\n}","import { Datamap } from \"../Datamap\";\nimport { DecoupledCommand } from \"../interfaces/ICommand\";\nimport AbstractModule from \"./AbstractModule\";\nimport ExpoCurve, { expoI_getCost, expoI_maxBuyAmount, expoI_maxBuyCost, expoI_buyNCost, expoI_buyNextCost } from \"../interfaces/ExpoCurve\";\nimport { helper_prophet_exBeliever_harm, availablePeople } from \"./Prophet\";\nimport { doDevotionUpgrade } from \"./PantheonBuys\";\nimport ITEM_POWERS from \"./ItemPowers\";\n\nexport default class Followers extends AbstractModule {\n\n\n    get data() {\n        return this.engine.datamap.followers;\n    }\n\n    handle_followers_command = (cmdArray: string[]) => {\n        switch (cmdArray[1]) {\n            case 'recruit':\n                this.handle_recruit_command(cmdArray)\n                break;\n\n            case 'upgrade':\n                this.handle_upgrade_command(cmdArray)\n                break;\n\n            case 'recruitparitioner':\n                this.recruitParitioner(cmdArray[2]);\n                break;\n\n            case 'recruitmaxparitioner':\n                this.recruitMaxParitioner(cmdArray[2]);\n                break;\n\n            case 'recruithalfmaxparitioner':\n                this.recruitHalfMaxParitioner(cmdArray[2]);\n                break;\n\n            case 'unlock':\n                this.handle_unlock_command(cmdArray);\n                break;\n\n            case 'divinity':\n                this.handle_divinity_command(cmdArray);\n                break;\n\n            case 'devotionupgrade':\n                doDevotionUpgrade(this.engine.datamap, cmdArray[2])\n                break;\n\n\n            default:\n                break;\n        }\n    }\n\n    handle_divinity_command = (cmdArray: string[]) => {\n        let data = this.engine.datamap;\n\n        Object.values(DP_Upgrades).forEach(dp => {\n            if (cmdArray[2] === dp_key(dp)) {\n                buy_divinityPurchase(data, dp)\n            }\n        })\n\n        if (cmdArray[2] === 'reset_toggle') {\n            this.data.DPUpgrades.reset = !this.data.DPUpgrades.reset\n        }\n\n    }\n\n    handle_recruit_command = (cmdArray: string[]) => {\n        switch (cmdArray[2]) {\n            case 'preacher':\n                this.recruit_preacher()\n                break;\n            case 'devotee':\n                this.recruit_devotee()\n                break;\n            case 'doorknocker':\n                this.recruit_doorknocker()\n                break;\n            case 'preachermax':\n                this.recruit_preacher_max()\n                break;\n            case 'devoteemax':\n                this.recruit_devotee_max()\n                break;\n            case 'doorknockermax':\n                this.recruit_doorknocker_max()\n                break;\n            case 'autotoggle':\n                this.engine.datamap.automation.auto_buyToNext = !this.engine.datamap.automation.auto_buyToNext\n            break;\n\n            default:\n                break;\n        }\n    }\n\n    handle_upgrade_command = (cmdArray: string[]) => {\n        switch (cmdArray[2]) {\n            case 'preacher':\n                this.upgrade_preacher()\n                break;\n\n            case 'devotee':\n                this.upgrade_devotee();\n                break;\n\n            case 'doorknocker':\n                this.upgrade_doorknocker();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    handle_unlock_command = (cmdArray: string[]) => {\n        switch (cmdArray[2]) {\n            case 'adornments':\n                this.unlockAdornments();\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    recruit_preacher_max = () => {\n        while (preacher_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.preachers < this.engine.datamap.prophetData.congregation.old.preachers)) {\n            this.recruit_preacher();\n        }\n        while (preacher_upgrade_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.preacherLevel < this.engine.datamap.prophetData.congregation.old.preacherLevel)) {\n            this.upgrade_preacher();\n        }\n    }\n\n    recruit_doorknocker_max = () => {\n        while (doorknocker_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.doorknocker < this.engine.datamap.prophetData.congregation.old.doorknocker)) {\n            this.recruit_doorknocker();\n        }\n        while (doorknocker_upgrade_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.doorknockerLevel < this.engine.datamap.prophetData.congregation.old.doorknockerLevel)) {\n            this.upgrade_doorknocker();\n        }\n    }\n\n    recruit_devotee_max = () => {\n        while (devotee_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.devotee < this.engine.datamap.prophetData.congregation.old.devotee)) {\n            this.recruit_devotee();\n        }\n        while (devotee_upgrade_cmd_able(this.engine.datamap) && (this.engine.datamap.prophetData.congregation.devoteeLevel < this.engine.datamap.prophetData.congregation.old.devoteeLevel)) {\n            this.upgrade_devotee();\n        }\n    }\n\n    recruit_preacher = () => {\n        if (preacher_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.believers--;\n        this.engine.datamap.prophetData.holiness -= preacher_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.preachers++;\n    }\n\n    upgrade_preacher = () => {\n        if (preacher_upgrade_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.holiness -= preacher_upgrade_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.preacherLevel++;\n    }\n\n    recruit_devotee = () => {\n        if (devotee_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.believers--;\n        this.engine.datamap.prophetData.holiness -= devotee_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.devotee++;\n    }\n\n    upgrade_devotee = () => {\n        if (devotee_upgrade_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.holiness -= devotee_upgrade_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.devoteeLevel++;\n    }\n\n    recruit_doorknocker = () => {\n        if (doorknocker_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.believers--;\n        this.engine.datamap.prophetData.holiness -= doorknocker_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.doorknocker++;\n    }\n\n    upgrade_doorknocker = () => {\n        if (doorknocker_upgrade_cmd_able(this.engine.datamap) === false) return;\n        this.engine.datamap.prophetData.holiness -= doorknocker_upgrade_cost(this.engine.datamap)\n        this.engine.datamap.prophetData.congregation.doorknockerLevel++;\n    }\n\n    recruitParitioner(arg0: string) {\n        console.log('recruiting!');\n\n        let index = parseInt(arg0);\n        let amount = 1;\n        let cost = paritioner_cost(this.engine.datamap, index);\n\n        if (this.engine.datamap.prophetData.devotion >= cost) {\n            this.engine.datamap.prophetData.devotion -= cost;\n            this.engine.datamap.prophetData.congregation.paritioners[index] += amount;\n        }\n    }\n\n    recruitMaxParitioner(arg0: string) {\n        let index = parseInt(arg0);\n        let amount = paritioner_maxBuyAmount(index, this.engine.datamap);\n        let cost = paritioner_buyNCost(index, this.engine.datamap, amount);\n\n        if (this.engine.datamap.prophetData.devotion >= cost) {\n            this.engine.datamap.prophetData.devotion -= cost;\n            this.engine.datamap.prophetData.congregation.paritioners[index] += amount;\n        }\n    }\n\n    recruitHalfMaxParitioner(arg0: string) {\n        let index = parseInt(arg0);\n        let amount = paritioner_buyHalfMax_amount(index, this.engine.datamap);\n        let cost = paritioner_buyNCost(index, this.engine.datamap, amount);\n\n        if (this.engine.datamap.prophetData.devotion >= cost) {\n            this.engine.datamap.prophetData.devotion -= cost;\n            this.engine.datamap.prophetData.congregation.paritioners[index] += amount;\n        }\n    }\n\n    dayTriggerParitioners(days: number) {\n        if (this.engine.datamap.prophetData.congregation.paritioners[0] > 0) this.proudDay(days)\n        if (this.engine.datamap.prophetData.congregation.paritioners[1] > 0) this.wealthDay(days)\n        if (this.engine.datamap.prophetData.congregation.paritioners[2] > 0) this.curiousDay(days)\n        if (this.engine.datamap.prophetData.congregation.paritioners[3] > 0) this.smartDay(days)\n        if (this.engine.datamap.prophetData.congregation.paritioners[4] > 0) this.dumbDay(days)\n        if (this.engine.datamap.prophetData.congregation.paritioners[5] > 0) this.badDay(days)\n    }\n\n    dailyBelieverGain(days:number) {\n        this.engine.datamap.prophetData.believers += this.data.DPUpgrades.dailyBelieverGain;\n    }\n\n    proudDay(days: number) {\n        this.engine.datamap.prophetData.believers += proudBeliever_believer_gain(this.engine.datamap) * days\n    }\n    wealthDay(days: number) {\n        this.engine.datamap.prophetData.congregation.USD += WealthyBeliever_USD_gain(this.engine.datamap) * days\n        this.engine.datamap.prophetData.believers += WealthyBeliever_Believer_gain(this.engine.datamap) * days\n    }\n    curiousDay(days: number) {\n        this.engine.datamap.prophetData.congregation.questions += this.engine.datamap.prophetData.congregation.paritioners[2] * days\n    }\n    smartDay(days: number) {\n        this.engine.datamap.prophetData.congregation.crediblity += this.engine.datamap.prophetData.congregation.paritioners[3] * days\n    }\n    dumbDay(days: number) {\n        this.engine.datamap.prophetData.congregation.crediblity -= this.engine.datamap.prophetData.congregation.paritioners[4] * days\n    }\n    badDay(days: number) {\n        this.engine.datamap.prophetData.ex_believers = Math.max(0, this.engine.datamap.prophetData.ex_believers - this.engine.datamap.prophetData.congregation.paritioners[5] * days)\n    }\n\n    unlockAdornments() {\n        let data = this.engine.datamap;\n        if (UnlockAdornments_able(data) === false) return;\n        else {\n            data.prophetData.devotion -= UnlockAdornments_cost(data)\n            data.followers.adornmentsUnlocked = true;\n        }\n    }\n}\n\nexport interface FollowerData {\n    faithfulCongregation: boolean;\n    adornmentsUnlocked: boolean;\n    devotedPrestige: number;\n    DPUpgrades: DPUpgrades_Data;\n}\n\n\nexport function followerDataInit() {\n    return {\n        faithfulCongregation: false,\n        adornmentsUnlocked: false,\n        devotedPrestige: 0,\n        DPUpgrades: DPUpgrades_Init()\n    }\n}\n\nexport interface DPUpgrades_Data {\n    reset: boolean;\n    dailyBelieverGain: number;\n    heavyHolyPower: number;\n    superHolyPump: number;\n    fasterRelicProduction: number;\n    monthMultiplier: number;\n    yearMultiplier: number;\n}\n\nexport function DPUpgrades_Init () {\n    return {\n        reset: false,\n        dailyBelieverGain: 0,\n        heavyHolyPower: 0,\n        superHolyPump: 0,\n        fasterRelicProduction: 0,\n        monthMultiplier: 0,\n        yearMultiplier: 0\n    }\n}\n\nexport function devotion_mult(data: Datamap) {\n    let base = Math.log(data.prophetData.devotion + 1) + 1;\n    base += base * data.holinessUpgrades.devotionEffectiveness;\n    return base\n\n    /**\n    let devotion = data.prophetData.devotion\n    const CUTOFF = 10000\n    let base = Math.sqrt(devotion) + 1\n    if (base > CUTOFF) {\n        let rest = Math.sqrt(Math.sqrt(devotion - CUTOFF * CUTOFF))\n        return rest + CUTOFF\n    }\n    return base\n    /**/\n}\n\n\n//clergy\n\n//preacher\n\nexport function preacher_cost(data: Datamap) {\n    let count = data.prophetData.congregation.preachers;\n    return Math.pow(10, count) + 10;\n}\nfunction preacher_cmd_able(data: Datamap) {\n    return (data.prophetData.believers >= 1) && (data.prophetData.holiness > preacher_cost(data))\n}\nexport const recruit_preacher_cmd: DecoupledCommand = {\n    name: 'Recruit',\n    command: 'followers recruit preacher',\n    able: preacher_cmd_able,\n    hidden: () => { return false }\n}\n\n\n\nexport function preacher_upgrade_cost(data: Datamap) {\n    let count = data.prophetData.congregation.preacherLevel;\n    return Math.pow(4, count) + 10;\n}\nfunction preacher_upgrade_cmd_able(data: Datamap) {\n    return (data.prophetData.holiness > preacher_upgrade_cost(data))\n}\nexport const upgrade_preacher_cmd: DecoupledCommand = {\n    name: 'Upgrade',\n    command: 'followers upgrade preacher',\n    able: preacher_upgrade_cmd_able,\n    hidden: () => { return false }\n}\n\n\n///devotee\n\nexport function devotee_cost(data: Datamap) {\n    let count = data.prophetData.congregation.devotee + 1;\n    return Math.pow(3, count) + 5\n}\nfunction devotee_cmd_able(data: Datamap) {\n    return (data.prophetData.believers >= 1) && (data.prophetData.holiness > devotee_cost(data))\n}\nexport const recruit_devotee_cmd: DecoupledCommand = {\n    name: 'Recruit',\n    command: 'followers recruit devotee',\n    able: devotee_cmd_able,\n    hidden: () => { return false }\n}\n\n\n\nexport function devotee_upgrade_cost(data: Datamap) {\n    let count = data.prophetData.congregation.devoteeLevel;\n    return Math.pow(5, count) + 5\n}\nfunction devotee_upgrade_cmd_able(data: Datamap) {\n    return (data.prophetData.holiness > devotee_upgrade_cost(data))\n}\nexport const upgrade_devotee_cmd: DecoupledCommand = {\n    name: 'Upgrade',\n    command: 'followers upgrade devotee',\n    able: devotee_upgrade_cmd_able,\n    hidden: () => { return false }\n}\n\n//door knocker\n\nexport function doorknocker_cost(data: Datamap) {\n    let count = data.prophetData.congregation.doorknocker;\n    return Math.pow(2, count) + 10\n}\nfunction doorknocker_cmd_able(data: Datamap) {\n    return (data.prophetData.believers >= 1) && (data.prophetData.holiness > doorknocker_cost(data))\n}\nexport const recruit_doorknocker_cmd: DecoupledCommand = {\n    name: 'Recruit',\n    command: 'followers recruit doorknocker',\n    able: doorknocker_cmd_able,\n    hidden: () => { return false }\n}\n\n\n\nexport function doorknocker_upgrade_cost(data: Datamap) {\n    let count = data.prophetData.congregation.doorknockerLevel;\n    return Math.pow(4, count) + 10\n}\nfunction doorknocker_upgrade_cmd_able(data: Datamap) {\n    return (data.prophetData.holiness > doorknocker_upgrade_cost(data))\n}\nexport const upgrade_doorknocker_cmd: DecoupledCommand = {\n    name: 'Upgrade',\n    command: 'followers upgrade doorknocker',\n    able: doorknocker_upgrade_cmd_able,\n    hidden: () => { return false }\n}\n\n\n//paritioners\n\nexport const ParitionerExpos: ExpoCurve[] = [\n    { coefficient: 1.02, initial: 1000 },\n    { coefficient: 1.04, initial: 1000000 },\n    { coefficient: 1.06, initial: 1000000000 },\n    { coefficient: 1.08, initial: 1000000000000 },\n    { coefficient: 1.10, initial: 1000000000000000 },\n    { coefficient: 1.12, initial: 1000000000000000000 },\n]\n\nexport const Paritioners: ParitionerStats[] = [\n    { name: 'Proud Believers', expo: ParitionerExpos[0] },\n    { name: 'Wealthy Believers', expo: ParitionerExpos[1] },\n    { name: 'Curious Believers', expo: ParitionerExpos[3] },\n    { name: 'Educated Believers', expo: ParitionerExpos[2] },\n    { name: 'Political Believers', expo: ParitionerExpos[4] },\n    { name: 'Violent Believers', expo: ParitionerExpos[5] },\n]\n\ninterface ParitionerStats {\n    expo: ExpoCurve;\n    name: string;\n}\n\nexport function paritioner_cost(data: Datamap, index: number) {\n    let owned = data.prophetData.congregation.paritioners[index];\n    return expoI_getCost(Paritioners[index].expo, owned)\n}\n\nexport function paritioner_able(data: Datamap, index: number) {\n    let costable = paritioner_cost(data, index) <= data.prophetData.devotion\n    let peopleable =  availablePeople(data) > 0;\n    return costable && peopleable;\n}\nexport function paritioner_maxBuyAmount(index: number, data: Datamap) {\n    let costbound = expoI_maxBuyAmount(Paritioners[index].expo, data.prophetData.congregation.paritioners[index], data.prophetData.devotion)\n    let peopleBound = availablePeople(data);\n    return Math.min(costbound, peopleBound)\n}\n\nexport function paritioner_maxBuyCost(index: number, data: Datamap) {\n    let costbound = expoI_maxBuyCost(Paritioners[index].expo, data.prophetData.congregation.paritioners[index], data.prophetData.devotion)\n    let peopleBound = expoI_buyNCost(Paritioners[index].expo, data.prophetData.congregation.paritioners[index], paritioner_maxBuyAmount(index, data))\n    return Math.min(costbound, peopleBound)\n}\n\nexport function paritioner_buyNCost(index: number, data: Datamap, n: number) {\n    return expoI_buyNCost(Paritioners[index].expo, data.prophetData.congregation.paritioners[index], n)\n}\n\nexport function paritioner_buyNextCost(index: number, data: Datamap, next: number) {\n    return expoI_buyNextCost(Paritioners[index].expo, data.prophetData.congregation.paritioners[index], next)\n}\n\nexport function paritioner_canBuyN(index: number, data: Datamap, n: number) {\n    let cost = paritioner_buyNCost(index, data, n);\n    return data.prophetData.devotion >= cost\n}\n\nexport function paritioner_canBuyNext(index: number, data: Datamap, next: number) {\n    let k = data.prophetData.congregation.paritioners[index];\n    let n = next - k % next;\n    return paritioner_canBuyN(index, data, n);\n}\n\nexport function paritioner_buyHalfMax_amount(index: number, data: Datamap) {\n    let full = paritioner_maxBuyAmount(index, data);\n    let half = Math.floor(full / 2);\n    return half;\n}\n\nexport function paritioner_buyHalfMax_cost(index: number, data: Datamap) {\n    let half = paritioner_buyHalfMax_amount(index, data);\n    return paritioner_buyNCost(index, data, half)\n}\n\nexport function proudBeliever_believer_gain(data: Datamap) {\n    let gain =  data.prophetData.congregation.paritioners[0]\n    if (data.prophetData.devotionUpgrades.def.a) gain = gain * 2\n    gain += gain * data.prophetData.congregation.USDUpgrades.pamphlets\n    gain += gain * data.followers.DPUpgrades.dailyBelieverGain;\n    gain += gain * .10 * (data.pantheon.persuasion.a + data.pantheon.persuasion.b + data.pantheon.persuasion.c);\n\n    let harm = helper_prophet_exBeliever_harm(data);\n    let realPossibleGain = Math.max(0, gain - harm);\n    let realGain = Math.min(availablePeople(data),realPossibleGain);\n    return Math.floor(realGain);\n}\n\nexport function WealthyBeliever_USD_gain(data: Datamap) {\n    let gain =  data.prophetData.congregation.paritioners[1];\n    gain += gain * data.prophetData.congregation.USDUpgrades.tithe;\n    gain += gain * .10 * data.pantheon.wealth.a\n    gain += gain * .10 * (data.pantheon.greed.a + data.pantheon.greed.b + data.pantheon.greed.c);\n    gain += gain * ITEM_POWERS.usd_eq_mult_gain(data);\n\n    return Math.floor(gain);\n}\n\nexport function dailyBelieverMult (data :Datamap) {\n    let mult = 1;\n}\n\nexport function WealthyBeliever_Believer_gain(data: Datamap) {\n    let gain =  data.prophetData.congregation.paritioners[1] / 100;\n    gain = gain * data.pantheon.wealth.b;\n    gain += gain * data.prophetData.congregation.USDUpgrades.tithe;\n    gain += gain * data.followers.DPUpgrades.dailyBelieverGain;\n    gain += gain * .10 * ( data.pantheon.greed.a + data.pantheon.greed.b + data.pantheon.greed.c);\n    gain += gain * .10 * (data.pantheon.persuasion.a + data.pantheon.persuasion.b + data.pantheon.persuasion.c);\n    \n    if (data.prophetData.devotionUpgrades.def.a) gain = gain * 2\n    \n    let harm = helper_prophet_exBeliever_harm(data);\n    let realPossibleGain = Math.max(0, gain - harm);\n    let realGain = Math.min(availablePeople(data),realPossibleGain);\n    return Math.floor(realGain);\n}\n\nexport function UnlockAdornments_cost(data: Datamap) {\n    return 1e10\n}\nexport function UnlockAdornments_able(data: Datamap) {\n    return data.prophetData.devotion >= UnlockAdornments_cost(data)\n}\nexport const UnlockAdornments: DecoupledCommand = {\n    command: 'followers unlock adornments',\n    name: \"Unlock Adornments\",\n    hidden: (data) => { return data.prophetData.congregation.paritioners[1] === 0 || data.followers.adornmentsUnlocked },\n    able: UnlockAdornments_able,\n}\n\nexport function getDivinity(data: Datamap) {\n    return data.followers.devotedPrestige\n}\n\nexport function availableDivinity(data: Datamap) {\n    return getDivinity(data) - spentDivinity(data);\n}\n\nexport function spentDivinity (data: Datamap) {\n    let base = 0;\n    let dpu = DP_Upgrades;\n    base += specificSpentDivinity(data, DP_Upgrades.DP_beliverGain);\n    base += specificSpentDivinity(data, DP_Upgrades.DP_fasterRelicProduction);\n    base += specificSpentDivinity(data, DP_Upgrades.DP_heavyHolyPower);\n    base += specificSpentDivinity(data, DP_Upgrades.DP_monthMultiplier);\n    base += specificSpentDivinity(data, DP_Upgrades.DP_superHolyPump);\n    base += specificSpentDivinity(data, DP_Upgrades.DP_yearMultiplier);\n    return base;\n}\n\nexport function specificSpentDivinity (data: Datamap, dp : DivinityPurchase ) {\n    return expoI_buyNCost(dp.expo, 0, dp.countFn(data))\n}\n\nexport interface DivinityPurchase {\n    command: DecoupledCommand;\n    expo: ExpoCurve;\n    countFn: (data: Datamap) => number;\n    action: (data: Datamap) => void;\n    description: string;\n}\n\n\nexport function buy_divinityPurchase(data: Datamap, divinityPurcase: DivinityPurchase) {\n    if (dp_able(data, divinityPurcase) === false) { return; }\n    else {\n        divinityPurcase.action(data)\n    }\n}\n\nexport function divinityPurcase_getCost(data: Datamap, divinityPurcase: DivinityPurchase) {\n    return expoI_getCost(divinityPurcase.expo, divinityPurcase.countFn(data))\n\n}\n\nexport function dp_able(data: Datamap, dp: DivinityPurchase) {\n    return divinityPurcase_getCost(data, dp) <= availableDivinity(data);\n}\nexport function dp_key(dp: DivinityPurchase) {\n    return dp.command.command.split(' ')[2]\n}\n\nexport function tierOne_Divinity_hidden(data: Datamap): boolean {\n    return getDivinity(data) === 0\n}\n\n\n\nconst believerGain_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction believerGain_count(data: Datamap): number {\n    return data.followers.DPUpgrades.dailyBelieverGain;\n}\nexport const DP_beliverGain: DivinityPurchase = {\n    command: {\n        command: 'followers divinity believergain',\n        name: `x2 Daily Believer Gain`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: believerGain_expo,\n    countFn: believerGain_count,\n    description: 'Gain 100% increased believers each day',\n    action: (data) => {\n        data.followers.DPUpgrades.dailyBelieverGain++;\n    }\n}\n\nconst heavyHolyPower_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction heavyHolyPower_count(data: Datamap): number {\n    return data.followers.DPUpgrades.heavyHolyPower;\n}\nexport const DP_heavyHolyPower: DivinityPurchase = {\n    command: {\n        command: 'followers divinity heavyholypower',\n        name: `Holy Power Effect and Decay`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: heavyHolyPower_expo,\n    countFn: heavyHolyPower_count,\n    description: 'Holy Power decays 100% faster and gives 100% increased Relic Production Multiplier',\n    action: (data) => {\n        data.followers.DPUpgrades.heavyHolyPower++;\n    }\n}\n\nconst superHolyPump_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction superHolyPump_count(data: Datamap): number {\n    return data.followers.DPUpgrades.superHolyPump;\n}\nexport const DP_superHolyPump: DivinityPurchase = {\n    command: {\n        command: 'followers divinity superholypump',\n        name: `10x Holy Power from Prayer`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: superHolyPump_expo,\n    countFn: superHolyPump_count,\n    description: '900% more Holy Power from prayer',\n    action: (data) => {\n        data.followers.DPUpgrades.superHolyPump++;\n    }\n}\n\nconst fasterRelicProduction_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction fasterRelicProduction_count(data: Datamap): number {\n    return data.followers.DPUpgrades.fasterRelicProduction;\n}\nexport const DP_fasterRelicProduction: DivinityPurchase = {\n    command: {\n        command: 'followers divinity fasterrelicproduction',\n        name: `Faster Relic Production`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: fasterRelicProduction_expo,\n    countFn: fasterRelicProduction_count,\n    description: '10% faster relic production',\n    action: (data) => {\n        data.followers.DPUpgrades.fasterRelicProduction++;\n    }\n}\n\nconst monthMultiplier_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction monthMultiplier_count(data: Datamap): number {\n    return data.followers.DPUpgrades.monthMultiplier;\n}\nexport const DP_monthMultiplier: DivinityPurchase = {\n    command: {\n        command: 'followers divinity monthmultiplier',\n        name: `Month Based Relic Production`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: monthMultiplier_expo,\n    countFn: monthMultiplier_count,\n    description: '100% more Relic Production Multiplier per level per Year, additive with year based bonus',\n    action: (data) => {\n        data.followers.DPUpgrades.monthMultiplier++;\n    }\n}\n\nconst yearMultiplier_expo: ExpoCurve = {\n    initial: 1,\n    coefficient: 4,\n}\nfunction yearMultiplier_count(data: Datamap): number {\n    return data.followers.DPUpgrades.yearMultiplier;\n}\nexport const DP_yearMultiplier: DivinityPurchase = {\n    command: {\n        command: 'followers divinity yearmultiplier',\n        name: `Year Based Relic Production`,\n        hidden: tierOne_Divinity_hidden,\n    },\n    expo: yearMultiplier_expo,\n    countFn: yearMultiplier_count,\n    description: '100% more Relic Production Multiplier per level per Year, additive with month based bonus',\n    action: (data) => {\n        data.followers.DPUpgrades.yearMultiplier++;\n    }\n}\n\n\nexport const DP_Upgrades = {\n    DP_beliverGain, DP_fasterRelicProduction, DP_heavyHolyPower,\n    DP_monthMultiplier, DP_superHolyPump, DP_yearMultiplier\n}","\nimport ExpoCurve, { expoI_buyNextCost, expoI_maxBuyCost, expoI_maxBuyAmount, expoI_getCost, expoI_buyNCost } from \"../interfaces/ExpoCurve\";\n\nimport { Datamap } from \"../Datamap\";\n\nexport const RelicUSDUpgradeExpos: ExpoCurve[] = [\n    { coefficient: 3.0, initial: 150 },\n    { coefficient: 2.8, initial: 140 },\n    { coefficient: 2.6, initial: 130 },\n    { coefficient: 2.4, initial: 120 },\n    { coefficient: 2.2, initial: 110 },\n    { coefficient: 2.0 , initial: 1000 },\n    { coefficient: 1.8, initial: 2000 },\n    { coefficient: 1.6, initial: 3000 },\n    { coefficient: 1.4, initial: 4000 },\n    { coefficient: 1.2, initial: 5000 },\n]\n\nexport function relicUSDupgrade_cost(data: Datamap, index: number) {\n    let owned = data.prophetData.relicUSDUpgrades[index];\n    return expoI_getCost(RelicUSDUpgradeExpos[index], owned)\n}\n\nexport function relicUSDupgrade_able(data: Datamap, index: number) {\n    return relicUSDupgrade_cost(data, index) <= data.prophetData.congregation.USD\n}\nexport function relicUSDupgrade_maxBuyAmount(index: number, data: Datamap) {\n    return expoI_maxBuyAmount(RelicUSDUpgradeExpos[index], data.prophetData.relicUSDUpgrades[index], data.prophetData.congregation.USD)\n}\n\nexport function relicUSDupgrade_maxBuyCost(index: number, data: Datamap) {\n    return expoI_maxBuyCost(RelicUSDUpgradeExpos[index], data.prophetData.relicUSDUpgrades[index], data.prophetData.congregation.USD)\n}\n\nexport function relicUSDupgrade_buyNCost(index: number, data: Datamap, n: number) {\n    return expoI_buyNCost(RelicUSDUpgradeExpos[index], data.prophetData.relicUSDUpgrades[index], n)\n}\n\nexport function relicUSDupgrade_buyNextCost(index: number, data: Datamap, next: number) {\n    return expoI_buyNextCost(RelicUSDUpgradeExpos[index], data.prophetData.relicUSDUpgrades[index], next)\n}\n\nexport function relicUSDupgrade_canBuyN(index: number, data: Datamap, n: number) {\n    let cost = relicUSDupgrade_buyNCost(index, data, n);\n    return data.prophetData.congregation.USD >= cost\n}\n\nexport function relicUSDupgrade_canBuyNext(index: number, data: Datamap, next: number) {\n    let k = data.prophetData.relicUSDUpgrades[index];\n    let n = next - k % next;\n    return relicUSDupgrade_canBuyN(index, data, n);\n}\n\nexport function relicUSDupgrade_buyHalfMax_amount(index: number, data: Datamap) {\n    let full = relicUSDupgrade_maxBuyAmount(index, data);\n    let half = Math.floor(full/2);\n    return half;\n}\n\nexport function relicUSDupgrade_buyHalfMax_cost(index: number, data: Datamap) {\n    let half = relicUSDupgrade_buyHalfMax_amount(index, data);\n    return relicUSDupgrade_buyNCost(index, data, half)\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\n\ninterface TimePantheonUpgradeSet extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\nconst TimePantheonUpgrades: TimePantheonUpgradeSet = {\n    key: 'time',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.time,\n}\nexport const ThisPantheon = TimePantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10% Faster Relics`,\n    }, expo: { coefficient: 100, initial:  1e20},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: `Each upgrade provides .1 seconds per second more time for relics`,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `10% Faster Days`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `Each upgrade provides .1 seconds per second more time for days`,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `10% Chance for Double Days`,\n    }, expo: { coefficient: 100, initial: 1e30},\n    countFn: (data)=>ThisPantheon.getData(data).c,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).c += count;\n    },\n    description: `10% Chance for 2 Days worth of (positive and negative) effects instead of 1.`,\n\n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number,\n    bonusDays: number;\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0,\n        bonusDays: 0\n    }\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\ninterface ProductionPantheonUpgradeSet extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\nconst ProductionPantheonUpgrades: ProductionPantheonUpgradeSet = {\n    key: 'production',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.production,\n}\nexport const ThisPantheon = ProductionPantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10x Maximum Holy Power`,\n    }, expo: { coefficient: 100, initial:  1e20},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: `10x Maximum Holy Power`,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `2x Holy Power Effectiveness`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `2x Holy Power Effectiveness`,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `Add 1s to God of Production's power`,\n    }, expo: { coefficient: 100, initial: 1e30},\n    countFn: (data)=>ThisPantheon.getData(data).c,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).c += count;\n    },\n    description: `+1s of Relic Production from Prayer. Doesn't work without the God of Production`,\n\n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0\n    }\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\n\ninterface LocalPantheon extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\n//JUST EDIT THIS!\nconst EditMePantheonUpgrades: LocalPantheon = {\n    key: 'wealth',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.wealth,\n}\n\nexport const ThisPantheon = EditMePantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10% more USD from Wealthy Believers`,\n    }, expo: { coefficient: 100, initial:  1e20},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: ``,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `Wealthy Believers Also Recruit Believers`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: ``,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `5% less salary for explorer`,\n    }, expo: { coefficient: 100, initial: 1e30},\n    countFn: (data)=>ThisPantheon.getData(data).c,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).c += count;\n    },\n    description: ``,\n\n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0\n    }\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\n\ninterface LocalPantheon extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\n//JUST EDIT THIS!\nconst EditMePantheonUpgrades: LocalPantheon = {\n    key: 'persuasion',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.persuasion,\n}\n\nexport const ThisPantheon = EditMePantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10% More Believers`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: `10% More Believers`,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `10% More Believers`,\n    }, expo: { coefficient: 100, initial:  1e30},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% More Believers`,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `10% more believers`,\n    }, expo: { coefficient: 100, initial: 1e35},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% More Believers`,\n\n}\n\nexport function godOfPersuasionBelieverGainMult(data:Datamap) {\n    \n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0\n    }\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\ninterface LocalPantheon extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\n//JUST EDIT THIS!\nconst EditMePantheonUpgrades: LocalPantheon = {\n    key: 'maintainance',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.maintainance,\n}\n\nexport const ThisPantheon = EditMePantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10% more Piety from Relics`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: `10% more Piety from Relics`,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `10% more Piety from Relics`,\n    }, expo: { coefficient: 100, initial:  1e30},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% more Piety from Relics`,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `10% more Piety from Relics`,\n    }, expo: { coefficient: 100, initial: 1e35},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% more Piety from Relics`,\n\n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0\n    }\n}","import { Datamap } from \"../../Datamap\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\nimport ExpoCurve, { expoI_getCost } from \"../../interfaces/ExpoCurve\";\nimport { BasePanteonUpgradeSet, BasePantheonUpgrade, buy_pantheonPurchase, buyMax_pantheonPurchase } from \"./Types\";\n\ninterface LocalPantheon extends BasePanteonUpgradeSet {\n    getData: (data: Datamap) => UpgradeData\n}\n\n//JUST EDIT THIS!\nconst EditMePantheonUpgrades: LocalPantheon = {\n    key: 'greed',\n    do: doPantheonUpgrade,\n    getData: (data) => data.pantheon.greed,\n}\n\nexport const ThisPantheon = EditMePantheonUpgrades;\n\n\nfunction doPantheonUpgrade(data: Datamap, command: string) {\n\n\n    switch (command) {\n        case 'a':\n            buy_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'b':\n            buy_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'c':\n            buy_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        case 'amax':\n            buyMax_pantheonPurchase(data, Upgrade_A);\n            break;\n\n        case 'bmax':\n            buyMax_pantheonPurchase(data, Upgrade_B);\n            break;\n\n        case 'cmax':\n            buyMax_pantheonPurchase(data, Upgrade_C);\n            break;\n\n        default:\n            break;\n    }\n}\n\n\nexport const Upgrade_A: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} a`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 1`,\n        change: (data) => `10% Stronger Wealthy Believers`,\n    }, expo: { coefficient: 100, initial:  1e25},\n    countFn: (data)=>ThisPantheon.getData(data).a,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).a += count;\n    },\n    description: `10% Stronger Wealthy Believers`,\n}\n\nexport const Upgrade_B: BasePantheonUpgrade = {\n    command: {\n        command: (data) => `pantheon ${ThisPantheon.key} b`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 2`,\n        change: (data) => `10% Stronger Wealthy Believers`,\n    }, expo: { coefficient: 100, initial:  1e30},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count=1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% Stronger Wealthy Believers`,\n\n}\n\nexport const Upgrade_C: BasePantheonUpgrade = {\n    command: {\n\n        command: (data) => `pantheon ${ThisPantheon.key} c`,\n        name: (data) => `God of ${ThisPantheon.key} upgrade 3`,\n        change: (data) => `10% Stronger Wealthy Believers`,\n    }, expo: { coefficient: 100, initial: 1e35},\n    countFn: (data)=>ThisPantheon.getData(data).b,\n    action: (data, count =1)=>{ \n        ThisPantheon.getData(data).b += count;\n    },\n    description: `10% Stronger Wealthy Believers`,\n\n}\n\nexport interface UpgradeData {\n    a: number,\n    b: number,\n    c: number\n}\n\nexport function UpgradeData_init(): UpgradeData {\n    return {\n        a: 0, b: 0, c: 0\n    }\n}","import { ABC_bought } from \"../PantheonBuys\";\nimport { Datamap } from \"../../Datamap\";\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\n\n\nimport * as TIME from './Time';\nimport * as PRODUCTION from './Production';\nimport * as WEALTH from './Wealth';\n\nimport * as PERSUASION from './Persuasion';\nimport * as MAINTAINANCE from './Maintainance';\nimport * as GREED from './Greed';\n\nexport default {TIME, PRODUCTION, WEALTH, \n    PERSUASION, MAINTAINANCE, GREED}\n\nexport const PANTHEON_COST = 5e4;\nexport const UnlockPantheonCommand: DecoupledCommand2 = {\n    name: ()=>\"Unlock Pantheon Upgrades\",\n    hidden: (data)=>!ABC_bought(data) || data.pantheon.unlocked,\n    able: (data)=>data.prophetData.congregation.USD > PANTHEON_COST,\n    cost: ()=>PANTHEON_COST,\n    command: ()=>\"pantheon unlock\",\n    costName: 'USD',\n    tip: `Pantheon upgrades persist through Reincarnation`\n}\n","import ExpoCurve, { expoI_getCost, expoI_maxBuyAmount, expoI_buyNCost } from \"../../interfaces/ExpoCurve\";\n\nimport { DecoupledCommand2 } from \"../../interfaces/ICommand\";\n\nimport * as TIME from './Time';\nimport * as PRODUCTION from './Production';\nimport * as WEALTH from './Wealth';\n\nimport * as PERSUASION from './Persuasion';\nimport * as MAINTAINANCE from './Maintainance';\nimport * as GREED from './Greed';\n\nimport { Datamap } from \"../../Datamap\";\nimport { PANTHEON_COST } from \"./Pantheons\";\n\n\nexport interface BasePanteonUpgradeSet {\n    key: string;\n    do: (data:Datamap, command: string) => void;\n}\n\nexport interface BasePantheonUpgrade {\n    expo: ExpoCurve,\n    command: DecoupledCommand2,\n    countFn: (data: Datamap) => number;\n    action: (data: Datamap, count: number) => void;\n    description: string;\n}\n\nexport function doPantheonUpgrade(data: Datamap, commands: string[]) {\n\n    switch (commands[1]) {\n        case 'unlock':\n            data.prophetData.congregation.USD -= PANTHEON_COST;\n            data.pantheon.unlocked = true;\n            break;\n\n        case TIME.ThisPantheon.key:\n            TIME.ThisPantheon.do(data, commands[2])\n            break;\n\n        case PRODUCTION.ThisPantheon.key:\n            PRODUCTION.ThisPantheon.do(data, commands[2])\n            break;\n\n        case WEALTH.ThisPantheon.key:\n            WEALTH.ThisPantheon.do(data, commands[2]);\n            break;\n\n        case PERSUASION.ThisPantheon.key:\n            PERSUASION.ThisPantheon.do(data, commands[2]);\n            break;\n\n            case MAINTAINANCE.ThisPantheon.key:\n                MAINTAINANCE.ThisPantheon.do(data, commands[2]);\n                break;\n\n                case GREED.ThisPantheon.key:\n            GREED.ThisPantheon.do(data, commands[2]);\n            break;\n\n        default:\n            break;\n    }\n}\n\nexport interface PantheonData {\n    unlocked: boolean;\n    \n    time: TIME.UpgradeData;\n    production: PRODUCTION.UpgradeData;\n    wealth: WEALTH.UpgradeData;\n\n    persuasion: PERSUASION.UpgradeData;\n    maintainance: MAINTAINANCE.UpgradeData;\n    greed: GREED.UpgradeData;\n}\n\nexport function PantheonData_init(): PantheonData {\n    return {\n        unlocked: false,\n        time: TIME.UpgradeData_init(), \n        production: PRODUCTION.UpgradeData_init(),\n        wealth : WEALTH.UpgradeData_init(),\n\n        persuasion : PERSUASION.UpgradeData_init(),\n        maintainance : MAINTAINANCE.UpgradeData_init(),\n        greed : GREED.UpgradeData_init(),\n    }\n}\n\n\n\nexport function buy_pantheonPurchase(data: Datamap, pantheonPurchase: BasePantheonUpgrade) {\n    if (pantheonPurchase_able(data, pantheonPurchase) === false) { return; }\n    else {\n        data.prophetData.piety -= pantheonPurchaseCost(data, pantheonPurchase)\n        pantheonPurchase.action(data, 1)\n    }\n}\n\nexport function pantheonPurchaseCost(data: Datamap, divinityPurcase: BasePantheonUpgrade) {\n    return expoI_getCost(divinityPurcase.expo, divinityPurcase.countFn(data))\n\n}\n\nexport function pantheonPurchase_able(data: Datamap, dp: BasePantheonUpgrade) {\n    return pantheonPurchaseCost(data, dp) <= data.prophetData.piety;\n}\n\nexport function pantheonPurchase_maxAmmount(data: Datamap, dp: BasePantheonUpgrade) {\n    return expoI_maxBuyAmount(dp.expo, dp.countFn(data),data.prophetData.piety);\n}\nexport function pantheonPurchase_maxCost(data: Datamap, dp: BasePantheonUpgrade) {\n    let ammount = pantheonPurchase_maxAmmount(data, dp);\n    return expoI_buyNCost(dp.expo, dp.countFn(data),ammount);\n}\n\nexport function buyMax_pantheonPurchase(data: Datamap, dp: BasePantheonUpgrade) {\n    let ammount = pantheonPurchase_maxAmmount(data,dp);\n    let cost = pantheonPurchase_maxCost(data,dp)\n\n        if (data.prophetData.piety >= cost) {\n            data.prophetData.piety -= cost;\n            dp.action(data, ammount);\n        }\n}","import ExpoCurve, { expoI_getCost, expoI_maxBuyAmount, expoI_buyNCost } from \"./ExpoCurve\";\n\nimport { DecoupledCommand2 } from \"./ICommand\";\n\nimport { Datamap } from \"../Datamap\";\nimport { ReactNode } from \"react\";\n\nexport default interface ExpoCommand {\n    expo: ExpoCurve,\n    countFns: CountFns;\n    currencyFns: CurrencyFns;\n    \n    //command: DecoupledCommand2,\n    name: string;\n    command: string;\n    currencyName?: string;\n\n    hidden: (data: Datamap) => boolean;\n\n    change?: (data: Datamap) => string;\n    img?: string;\n    tip?: ReactNode;\n}\n\nexport interface CountFns {\n    get: (data: Datamap) => number;\n    gain: (data: Datamap, ammount: number) => void;\n}\n\nexport interface CurrencyFns {\n    get: (data: Datamap) => number;\n    spend: (data: Datamap, ammount: number) => void;\n}\n\nexport const CurrencyFn_USD: CurrencyFns = {\n    get: (data: Datamap) => data.prophetData.congregation.USD,\n    spend: (data: Datamap, ammount: number) => { data.prophetData.congregation.USD -= ammount }\n}\n\n\nexport function expoCommand_buy(data: Datamap, expoCommand: ExpoCommand) {\n    if (expoCommand_Able(data, expoCommand) === false) { return; }\n    else {\n        expoCommand.currencyFns.spend(data, expoCommand_Cost(data, expoCommand));\n        expoCommand.countFns.gain(data, 1);\n    }\n}\n\nexport function expoCommand_Cost(data: Datamap, expoCommand: ExpoCommand) {\n    return expoI_getCost(expoCommand.expo, expoCommand.countFns.get(data))\n}\n\nexport function expoCommand_Able(data: Datamap, ep: ExpoCommand) {\n    return expoCommand_Cost(data, ep) <= ep.currencyFns.get(data);\n}\n\nexport function expoCommand_maxAmmount(data: Datamap, ep: ExpoCommand) {\n    return expoI_maxBuyAmount(ep.expo, ep.countFns.get(data), ep.currencyFns.get(data));\n}\nexport function expoCommand_maxCost(data: Datamap, ep: ExpoCommand) {\n    let ammount = expoCommand_maxAmmount(data, ep);\n    return expoI_buyNCost(ep.expo, ep.countFns.get(data), ammount);\n}\n\nexport function expoCommand_buyMax(data: Datamap, ep: ExpoCommand) {\n    let ammount = expoCommand_maxAmmount(data,ep);\n    let cost = expoCommand_maxCost(data,ep)\n\n        if (ep.currencyFns.get(data) >= cost) {\n            ep.currencyFns.spend(data, cost );\n            ep.countFns.gain(data, ammount);\n        }\n}\n\n","import { Datamap } from \"../Datamap\";\nimport { DecoupledCommand, DecoupledCommand2 } from \"../interfaces/ICommand\";\nimport ExpoCurve from \"../interfaces/ExpoCurve\";\nimport ExpoCommand, { CurrencyFn_USD } from \"../interfaces/ExpoCommand\";\n\n\nexport const USD_UpgradeTithe: ExpoCommand = {\n    name: `Invest in Tithe Extraction`,\n    command: `prophet usdupgrade tithe`,\n    currencyName: `USD`,\n    \n    countFns: {\n        get: (data) => data.prophetData.congregation.USDUpgrades.tithe,\n        gain: (data, ammount) => { data.prophetData.congregation.USDUpgrades.tithe += ammount }\n    },\n    expo: { initial: 100, coefficient: 15 },\n    currencyFns: CurrencyFn_USD,\n    tip: `Increase Effectiveness of Wealthy Believers`,\n\n    hidden: (data) => data.prophetData.congregation.paritioners[1] === 0,\n}\n\nexport const USD_Upgrade_Pamphlets: ExpoCommand = {\n    name: `Invest in 'Why Us?' Pamphlets`,\n    command: `prophet usdupgrade pamphlets`,\n    currencyName: `USD`,\n    \n    countFns: {\n        get: (data) => data.prophetData.congregation.USDUpgrades.pamphlets,\n        gain: (data, ammount) => { data.prophetData.congregation.USDUpgrades.pamphlets += ammount }\n    },\n    expo: { initial: 5000, coefficient: 300 },\n    tip: `Increase Effectiveness of Proud Believer`,\n    currencyFns: CurrencyFn_USD,\n\n    hidden: (data) => data.prophetData.congregation.USDUpgrades.tithe === 0,\n}","import Engine from \"../Engine\";\nimport { DecoupledCommand } from \"../interfaces/ICommand\";\nimport { getRandomInt, WORLD_POP } from \"../util\";\nimport { Datamap } from \"../Datamap\";\nimport { piety_purchase_buy_congregation, piety_purchase_buy_reincarnation, piety_purchase_buy_holypower, holiness_holyPowerUpgrade_do, holiness_holyPumpUpgrade_do, holiness_maxHolyPowerUpgrade_do, holiness_believerRetention_do, holiness_exRelations_do, holiness_buildingMulti_do, holinessUpgradesInit, UnlockMiracles, holiness_devotionEffectiveness_do } from \"./PietyPurchases\";\nimport { devotion_mult, DP_Upgrades, DPUpgrades_Init } from \"./Followers\";\nimport { relicUSDupgrade_cost } from \"./USDRelicPurchases\";\nimport { DevotionUpgradeData, DevotionUpgradeData_init } from \"./PantheonBuys\";\nimport ITEM_POWERS from \"./ItemPowers\";\nimport { PantheonData_init } from \"./Pantheon/Types\";\nimport { expoCommand_buy, expoCommand_buyMax } from \"../interfaces/ExpoCommand\";\nimport { USD_UpgradeTithe, USD_Upgrade_Pamphlets } from \"./USDPurchases\";\n\nexport default class ProphetModule {\n\n    constructor(public engine: Engine) {\n\n    }\n\n    get data() {\n        return this.engine.datamap.prophetData;\n    }\n\n    processCommands(cmdArray: string[]) {\n        switch (cmdArray[1]) {\n            case 'pray':\n                this.pray();\n                break;\n\n            case 'proselytize':\n                this.proselytize();\n                break;\n\n            case 'preach':\n                this.preach();\n                break;\n\n            case 'relicupgrade':\n                this.upgradeRelic(cmdArray[2])\n                break;\n\n\n            case 'buyrelic':\n                this.buyRelic(cmdArray[2]);\n                break;\n\n            case 'buymaxrelic':\n                this.buyMaxRelic(cmdArray[2]);\n                break;\n\n            case 'buyto25relic':\n                this.buyToNRelic(cmdArray[2], 25);\n                break;\n\n            case 'setbuyrelic':\n                switch (cmdArray[2]) {\n                    case '1':\n                        this.data.relicsetbuy = 1;\n                        break;\n\n                    case '25':\n                        this.data.relicsetbuy = 25;\n                        break;\n\n                    case 'max':\n                        this.data.relicsetbuy = 99;\n\n                        break;\n\n                    default:\n                        break;\n                }\n                break;\n\n            case 'prestige':\n                this.prestige();\n                break;\n\n            case 'devotedprestige':\n                this.devotedprestige();\n                break;\n\n            case 'congregate':\n                piety_purchase_buy_congregation(this.engine.datamap)\n                break;\n\n            case 'reincarnate':\n                piety_purchase_buy_reincarnation(this.engine.datamap)\n                break;\n\n            case 'holypower':\n                piety_purchase_buy_holypower(this.engine.datamap)\n                break;\n\n            case 'holypowerUpgrade':\n                holiness_holyPowerUpgrade_do(this.engine.datamap);\n                break;\n\n            case 'holypumpupgrade':\n                holiness_holyPumpUpgrade_do(this.engine.datamap);\n                break;\n\n            case 'maxholypowerupgrade':\n                holiness_maxHolyPowerUpgrade_do(this.engine.datamap);\n                break;\n\n            case 'believerretentionupgrade':\n                holiness_believerRetention_do(this.engine.datamap);\n                break;\n\n            case 'exrelationsupgrade':\n                holiness_exRelations_do(this.engine.datamap);\n                break;\n\n            case 'bmupgrade':\n                holiness_buildingMulti_do(this.engine.datamap);\n                break;\n\n            case 'de_upgrade':\n                holiness_devotionEffectiveness_do(this.engine.datamap);\n                break;\n\n            case 'unlockmiracles':\n                this.engine.datamap.rocketData.unlocked = true;\n                if (UnlockMiracles.cost) this.engine.datamap.prophetData.piety -= UnlockMiracles.cost(this.engine.datamap);\n                break;\n\n            case 'usdupgrade':\n                switch (cmdArray[2]) {\n                    case 'tithe':\n                        expoCommand_buy(this.engine.datamap, USD_UpgradeTithe)\n                        break;\n\n                    case 'tithemax':\n                        expoCommand_buyMax(this.engine.datamap, USD_UpgradeTithe);\n                        break;\n\n                    case 'pamphlets':\n                        expoCommand_buy(this.engine.datamap, USD_Upgrade_Pamphlets)\n                        break;\n\n                    case 'pamphletsmax':\n                        expoCommand_buyMax(this.engine.datamap, USD_Upgrade_Pamphlets);\n                        break;\n                \n                    default:\n                        console.log('broken in prophet->usdupgrade');\n                        \n                        break;\n                }\n                break\n\n            default:\n                console.log('broke in prophet comand');\n\n                break;\n        }\n    }\n\n    upgradeRelic(arg0: string) {\n        let upgradeIndex = parseInt(arg0);\n        let cost = relicUSDupgrade_cost(this.engine.datamap, upgradeIndex);\n\n        if (this.data.congregation.USD >= cost) {\n            this.data.congregation.USD -= cost;\n            this.data.relicUSDUpgrades[upgradeIndex]++;\n        }\n    }\n\n\n    buyRelic(arg0: string) {\n        let relicIndex = parseInt(arg0);\n        let cost = relic_getCost(relicIndex, this.engine.datamap);\n\n        if (this.data.piety >= cost) {\n            this.data.piety -= cost;\n            this.data.relics[relicIndex]++;\n        }\n    }\n\n    buyMaxRelic(arg0: string) {\n        let relicIndex = parseInt(arg0);\n        let ammount = relic_maxBuyAmount(relicIndex, this.engine.datamap)\n        let cost = relic_maxBuyCost(relicIndex, this.engine.datamap);\n\n        if (this.data.piety >= cost) {\n            this.data.piety -= cost;\n            this.data.relics[relicIndex] += ammount;;\n        }\n    }\n\n    buyNRelic(arg0: string, n: number) {\n        let relicIndex = parseInt(arg0);\n        let cost = relic_buyNCost(relicIndex, this.engine.datamap, n)\n\n        if (this.data.piety >= cost) {\n            this.data.piety -= cost;\n            this.data.relics[relicIndex] += n;\n        }\n    }\n\n    buyToNRelic(arg0: string, n: number) {\n        let relicIndex = parseInt(arg0);\n        let remainder = this.data.relics[relicIndex] % n;\n        let needToN = n - remainder;\n\n        let cost = relic_buyNCost(relicIndex, this.engine.datamap, needToN)\n\n        if (this.data.piety >= cost) {\n            this.data.piety -= cost;\n            this.data.relics[relicIndex] += needToN;\n        }\n    }\n\n    dayTrigger(days: number) {\n\n        \n\n        if (this.data.holyPower > 0) this.holyDump(days);\n\n        if (this.data.congregation.doorknocker > 0) this.doorknockers(days);\n        this.engine.followers.dayTriggerParitioners(days);\n        if (this.data.believers > 0) this.believersLeave(days);\n\n\n        if (this.data.congregation.preachers > 0) this.preachers(days);\n        if (this.data.congregation.devotee > 0) this.devotees(days);\n\n        if (this.engine.datamap.automation.auto_buyToNext && this.data.congregation.unlocked) {\n            this.engine.followers.recruit_doorknocker_max();\n            this.engine.followers.recruit_devotee_max();\n            this.engine.followers.recruit_preacher_max();\n        }\n        \n    }\n\n    devotees(days: number) {\n        this.data.devotion += devotee_devotion_gain(this.engine.datamap) * days\n    }\n\n    doorknockers(days: number) {\n        this.data.believers += (doorknocker_beliver_gain(this.engine.datamap)) * days\n    }\n\n    believersLeave = (days: number) => {\n        for (let i = 0; i < days; i++) {\n\n            let loss = getRandomInt(0, helper_prophet_maxBelieversDecay(this.engine.datamap));\n            let boundLoss = Math.min(this.data.believers, loss)\n            this.data.ex_believers += boundLoss;\n            this.data.believers -= boundLoss;\n\n        }\n    }\n\n    holyDump = (days: number) => {\n        if (this.data.devotionUpgrades.def.b) return;\n        this.data.holyPower = Math.max(this.data.holyPower - (24 * (1 + this.engine.datamap.followers.DPUpgrades.heavyHolyPower)), 0);\n    }\n\n    preachers(days: number) {\n        let gain = getRandomInt(0, preachers_max_deovtion_gain(this.engine.datamap));\n        this.data.devotion += gain * days;\n    }\n\n    preach() {\n        this.data.devotion += getRandomInt(0, preach_max_deovtion_gain(this.engine.datamap));\n    }\n\n    proselytize() {\n        if (this.engine.datamap.prophetData.holiness === 0) return;\n        this.engine.datamap.prophetData.holiness--;\n        let gain = getRandomInt(0, helper_prophet_maxBeliverGainNet(this.engine.datamap));\n        this.data.believers += gain;\n    }\n\n    pray() {\n        this.data.piety++;\n        if (this.data.holyPowerUnlocked) {\n            this.holyPump();\n        }\n        if (this.data.devotionUpgrades.abc.b) {\n            let delta = 1000;\n            delta += delta * this.engine.datamap.pantheon.production.c\n            this.processDetla(delta);\n        }\n        //add to item powers oops \n        ITEM_POWERS.prayer_upgrades(this.engine.datamap, this.engine.prophet.processDetla);\n        \n    }\n\n    holyPump = () => {\n        this.data.holyPower = Math.min(this.data.holyPower + 1 * Math.pow(2, this.engine.datamap.holinessUpgrades.holyPumpUpgrade) * Math.pow(10, this.engine.datamap.followers.DPUpgrades.superHolyPump), prophet_maxHolyPower(this.engine.datamap));\n    }\n\n    processDetla=(delta: number)=> {\n\n        delta = delta * relicDeltaMult(this.engine.datamap)\n\n        RELICS.forEach((relicData, relicIndex) => {\n            if (this.data.relics[relicIndex] === 0) return;\n            this.data.relicTimers[relicIndex] += delta;\n            let timeCost = relic_getTime(relicIndex);\n\n            if (this.data.relicTimers[relicIndex] >= timeCost) {\n                let count = Math.floor(this.data.relicTimers[relicIndex] / timeCost)\n                this.data.relicTimers[relicIndex] -= timeCost * count;\n                this.data.piety += relic_getProduction(relicIndex, this.engine.datamap) * count\n            }\n        });\n\n        if (this.data.piety > this.data.maxPiety) {\n            this.data.maxPiety = this.data.piety;\n        }\n\n    }\n\n    pietyDecay(delta: number) {\n        //lookup math to simulate this over time\n        let decay = (delta / 1000) * (helper_prophet_pietyDecay(this.engine.datamap));\n        decay = Math.floor(decay);\n        return decay;\n    }\n\n    prestige = () => {\n        \n        let ppgain = prophet_prestige_gain(this.engine.datamap);\n        if (ppgain === 0 || this.data.prestigeUnlocked === false) return;\n        \n        let oldData = this.data;\n        \n        let itemDevotion = 0;\n\n        /*\n        if (this.engine.datamap.adornments.equiped.robe) {\n            if (this.engine.datamap.adornments.equiped.robe.origin === 'ruins') {\n                itemDevotion = Math.floor(this.engine.datamap.adornments.equiped.robe.level * .01 * oldData.devotion);\n            }\n        }\n        */\n\n\n        let oldMult = oldData.holiness;\n        let newCount = this.data.save.reincarnationCount + 1;\n        let selected = this.data.relicsetbuy;\n        let newOld = {\n            preachers: this.data.congregation.preachers,\n            preacherLevel: this.data.congregation.preacherLevel,\n            devotee: this.data.congregation.devotee,\n            devoteeLevel: this.data.congregation.devoteeLevel,\n            doorknocker: this.data.congregation.doorknocker,\n            doorknockerLevel: this.data.congregation.doorknockerLevel,\n        }\n\n        this.engine.datamap.prophetData = init_ProphetData();\n\n        this.data.holiness = oldMult + Math.floor(ppgain);\n        if (this.data.holiness < 0) this.data.holiness = 0;\n        this.data.startingHoliness = this.data.holiness\n        this.data.relicsetbuy = selected;\n        this.data.save.reincarnationCount = newCount;\n        this.data.congregation.old = newOld;\n        this.data.devotion += itemDevotion\n\n        this.prestigeCleanup();\n    }\n\n    devotedprestige = () => {\n        let newCount = this.data.save.reincarnationCount + 1;\n\n\n        this.engine.datamap.prophetData = init_ProphetData();\n\n        this.engine.datamap.followers.devotedPrestige++;\n        this.data.save.reincarnationCount = newCount;\n        \n        this.prestigeCleanup();\n        this.hardCleanup();\n    }\n    \n    hardCleanup = () => {\n        this.engine.datamap.pantheon = PantheonData_init();\n        this.engine.datamap.holinessUpgrades = holinessUpgradesInit()\n    }\n\n    prestigeCleanup = () => {\n        this.engine.datamap.gameTime.currentRun.time = 0;\n        this.engine.datamap.nav.mainArea = 0\n        this.engine.gameTime.reset();\n        this.engine.rocket.reset();\n        this.engine.adornments.exploring.reset();\n        if (this.engine.datamap.followers.DPUpgrades.reset) {\n            this.engine.datamap.followers.DPUpgrades = DPUpgrades_Init();\n        }\n    }\n}\n\nexport function relicDeltaMult(data:Datamap){\n    let mult = 1;\n    \n    mult += (.1 * data.followers.DPUpgrades.fasterRelicProduction)\n    mult += (.1 * data.pantheon.time.a);\n\n    return mult;\n}\n\nexport function availablePeople (data:Datamap) {\n    let congregation = data.prophetData.congregation\n    return WORLD_POP - data.prophetData.believers - data.prophetData.ex_believers - congregation.devotee - congregation.doorknocker - congregation.preachers\n}\n\nexport function preach_max_deovtion_gain(data: Datamap) {\n    return data.prophetData.believers;\n}\n\nexport function devotee_devotion_gain(data: Datamap) {\n    let count = data.prophetData.congregation.devotee\n    let power = data.prophetData.congregation.devoteeLevel + 1;\n    count = count * ITEM_POWERS.effective_devotee_mult(data);\n    power = power * ITEM_POWERS.devotee_power_mult(data);    \n    return count * power\n}\n\nexport function doorknocker_beliver_gain(data: Datamap) {\n    let gain = data.prophetData.congregation.doorknocker * (1 + data.prophetData.congregation.doorknockerLevel)\n    gain += gain * data.followers.DPUpgrades.dailyBelieverGain;\n    if (data.prophetData.devotionUpgrades.def.a) gain = gain * 2\n    let harm = helper_prophet_exBeliever_harm(data);\n    let realPossibleGain = Math.max(0, gain - harm);\n    let realGain = Math.min(availablePeople(data),realPossibleGain)\n    return realGain;\n\n}\n\nexport function preachers_max_deovtion_gain(data: Datamap) {\n    let base = preach_max_deovtion_gain(data) \n    let basetotal = base * data.prophetData.congregation.preachers \n    let totalWithLevels = basetotal * (1 + data.prophetData.congregation.preacherLevel);\n    let toalWithEquipment = totalWithLevels * (1 + ITEM_POWERS.devotion_eq_mult_gain(data))\n    return toalWithEquipment;\n}\n\nexport function helper_prophet_maxBelieversDecay(data: Datamap) {\n    let total_power = helper_prophet_size_believerDecay(data) + helper_prophet_exBeliever_believerDecay(data);\n\n    return Math.floor(total_power)\n\n}\n\n\nexport function helper_prophet_size_believerDecay(data: Datamap) {\n    let size = data.prophetData.believers;\n    let power = size / 10;\n    let total_power = power / (1 + data.holinessUpgrades.believerRetention);\n    return Math.floor(total_power);\n}\n\nexport function helper_prophet_maxBeliverGain(data: Datamap) {\n    return Math.floor(Math.log(1 + data.prophetData.piety))\n}\n\nexport function helper_prophet_exBeliever_harm(data: Datamap) {\n    let ex = data.prophetData.ex_believers;\n    let power = ex / 10;\n    let total_power = (power) / (1 + data.holinessUpgrades.exRelations);\n    return Math.floor(total_power);\n}\n\nexport function helper_prophet_exBeliever_believerDecay(data: Datamap) {\n    let ex = data.prophetData.ex_believers;\n    let power = ex / 10;\n    let total_power = (power) / (1 + data.holinessUpgrades.exRelations);\n    total_power = total_power / (1 + data.holinessUpgrades.believerRetention);\n    return Math.floor(total_power);\n}\n\nexport function helper_prophet_maxBeliverGainNet(data: Datamap) {\n    let gain = helper_prophet_maxBeliverGain(data);\n    let harm = helper_prophet_exBeliever_harm(data);\n    return Math.max(0, gain - harm)\n}\n\nexport function helper_prophet_pietyDecay(data: Datamap) {\n    return Math.floor(data.prophetData.piety / 10000) * data.gameTime.year;\n}\n\nexport function prophet_maxHolyPower(data: Datamap) {\n    let relics = data.prophetData.relics;\n    let sum = relics[0] + relics[1] + relics[2] + relics[3] + relics[4];\n    sum = sum * (1 + data.holinessUpgrades.maxHolyPowerUpgrade)\n    sum += sum * data.pantheon.production.a * 10\n    return sum;\n}\n\nexport interface I_PropheData {\n    piety: number;\n    devotionUpgrades: DevotionUpgradeData;\n    maxPiety: number;\n    believers: number;\n    ex_believers: number;\n    relics: number[];\n    relicsetbuy: number;\n    relicTimers: number[];\n    relicUSDUpgrades: number[];\n    holiness: number;\n    startingHoliness: number;\n    prestigeUnlocked: boolean;\n    holyPower: number;\n    devotion: number;\n    holyPowerUnlocked: boolean;\n    save: {\n        reincarnationCount: number,\n    }\n    congregation: {\n        unlocked: boolean;\n        old: {\n            preachers: number;\n            preacherLevel: number;\n            devotee: number;\n            devoteeLevel: number;\n            doorknocker: number;\n            doorknockerLevel: number;\n        }\n        preachers: number;\n        preacherLevel: number;\n        devotee: number;\n        devoteeLevel: number;\n        doorknocker: number;\n        doorknockerLevel: number;\n        USDUpgrades : {\n            tithe: number,\n            pamphlets: number,\n        }\n\n        paritioners: number[];\n\n        USD: number;\n        questions: number;\n        crediblity: number;\n\n\n\n    }\n}\n\nexport function init_ProphetData(): I_PropheData {\n    return {\n        piety: 0,\n        devotionUpgrades: DevotionUpgradeData_init(),\n        maxPiety: 0,\n        believers: 0,\n        relicsetbuy: 1,\n        ex_believers: 0,\n        relics: [0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0,],\n        relicTimers: [0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0,],\n        relicUSDUpgrades: [0, 0, 0, 0, 0,\n            0, 0, 0, 0, 0,],\n        save: {\n            reincarnationCount: 0\n        },\n        holiness: 0,\n        startingHoliness: 0,\n        holyPowerUnlocked: false,\n        holyPower: 0,\n        devotion: 0,\n        prestigeUnlocked: false,\n        congregation: {\n            unlocked: false,\n            USDUpgrades: {\n                tithe: 0,\n                pamphlets: 0,\n            },\n            preachers: 0,\n            preacherLevel: 0,\n            devotee: 0,\n            devoteeLevel: 0,\n            doorknocker: 0,\n            doorknockerLevel: 0,\n            old: {\n                preachers: 0,\n                preacherLevel: 0,\n                devotee: 0,\n                devoteeLevel: 0,\n                doorknocker: 0,\n                doorknockerLevel: 0,\n            },\n\n            paritioners: [0, 0, 0, 0, 0, 0],\n\n            USD: 0,\n            crediblity: 0,\n            questions: 0\n\n        }\n    }\n}\n\n\ninterface KongGenerator {\n    name: string;\n    initialCost: number;\n    coefficient: number;\n    initialTime: number;\n    initialRevenue: number;\n}\n\nconst LemonadeStand: KongGenerator = {\n    name: \"Holy Sponge\",\n    initialCost: 5,\n    coefficient: 1.12,\n    initialTime: 1,\n    initialRevenue: 1,\n}\n\nconst NewspaperDelivery: KongGenerator = {\n    name: \"Holy Thorn\",\n    initialCost: 500,\n    coefficient: 1.15,\n    initialTime: 8,\n    initialRevenue: 160,\n}\n\nconst CarWash: KongGenerator = {\n    name: \"Holy Nail\",\n    initialCost: 50000,\n    coefficient: 1.14,\n    initialTime: 24,\n    initialRevenue: 7400,\n}\n\nconst PizzaDelivery: KongGenerator = {\n    name: \"Holy Lance\",\n    initialCost: 5000000,\n    coefficient: 1.13,\n    initialTime: 2 * 24,\n    initialRevenue: 53200,\n}\n\nconst DonutShop: KongGenerator = {\n    name: \"True Cross\",\n    initialCost: 5000000000,\n    coefficient: 1.12,\n    initialTime: 7 * 24,\n    initialRevenue: 988400,\n}\n\n\nconst FakeNews1: KongGenerator = {\n    name: \"SuperSponge\",\n    initialCost: 1e15,\n    coefficient: 1.22,\n    initialTime: 1,\n    initialRevenue: 4e5,\n}\n\nconst FakeNews2: KongGenerator = {\n    name: \"Crown of Thorns\",\n    initialCost: 1e18,\n    coefficient: 1.22,\n    initialTime: 8,\n    initialRevenue: 16e6,\n}\n\nconst FakeNews3: KongGenerator = {\n    name: \"Holy Nailgun\",\n    initialCost: 1e21,\n    coefficient: 1.22,\n    initialTime: 24,\n    initialRevenue: 64e7,\n}\n\nconst FakeNews4: KongGenerator = {\n    name: \"Holier Lance\",\n    initialCost: 1e24,\n    coefficient: 1.22,\n    initialTime: 2 * 24,\n    initialRevenue: 128e8,\n}\n\nconst FakeNews5: KongGenerator = {\n    name: \"Inverted Cross\",\n    initialCost: 1e27,\n    coefficient: 1.22,\n    initialTime: 7 * 24,\n    initialRevenue: 256e9,\n}\n\n\nexport const RELICS = [LemonadeStand, NewspaperDelivery, CarWash, PizzaDelivery, DonutShop,\n    FakeNews1, FakeNews2, FakeNews3, FakeNews4, FakeNews5]\n\nexport function relic_getCost(relicIndex: number, data: Datamap) {\n    let relicData = RELICS[relicIndex];\n\n    let owned = data.prophetData.relics[relicIndex];\n    let cost_base = relicData.initialCost;\n    let coefficient = relicData.coefficient;\n\n    return Math.floor(cost_base * Math.pow(coefficient, owned))\n}\n\nexport function relic_canBuy(relicIndex: number, data: Datamap) {\n    let cost = relic_getCost(relicIndex, data);\n    return data.prophetData.piety >= cost;\n}\n\nexport function relic_getTime(relicIndex: number) {\n    return RELICS[relicIndex].initialTime * 1000;\n}\n\nexport function relic_getProduction(relicIndex: number, data: Datamap) {\n    let val = Math.floor(\n        data.prophetData.relics[relicIndex] *\n        RELICS[relicIndex].initialRevenue *\n        relic_getProductionMulti(relicIndex, data) *\n        holiness_mult(data) *\n        relic_hoylPowerMulti(data) *\n        devotion_mult(data) *\n        reincation_mult(data) *\n        special_relic_mult(relicIndex, data) *\n        item_relic_mult(relicIndex, data) * \n        pantheon_piety_mult(data)\n    )\n    return val\n}\n\nfunction pantheon_piety_mult (data: Datamap) {\n    let mult = 1\n    mult += .10 * (data.pantheon.maintainance.a + data.pantheon.maintainance.b + data.pantheon.maintainance.c);\n    return mult;\n}\n\nexport function item_relic_mult(index:number, data :Datamap) {\n    let mult = 1;\n    mult += ITEM_POWERS.piety_eq_mult_gain(data);\n    return mult;\n}\n\nexport function special_relic_mult(index: number, data: Datamap) {\n    let mult = 1;\n    mult += time_relic_mult(data)\n    if (data.prophetData.devotionUpgrades.abc.c) mult = mult * (index + 1);\n    if (data.prophetData.devotionUpgrades.def.c) mult = mult * (index + 1);\n    return mult;\n}\n\nexport function time_relic_mult(data: Datamap) {\n    return year_relic_mult(data) + month_relic_mult(data)\n}\n\nexport function year_relic_mult(data: Datamap) {\n    return data.followers.DPUpgrades.yearMultiplier * data.gameTime.year\n}\n\nexport function month_relic_mult(data: Datamap) {\n    return data.followers.DPUpgrades.monthMultiplier * data.gameTime.month\n}\n\nexport function holiness_mult(data: Datamap) {\n    return CALC_holy_mult(data.prophetData.startingHoliness)\n}\n\nexport function reincation_mult(data: Datamap) {\n    return (data.prophetData.save.reincarnationCount + 1) * reincation_mult_from_superPrestiges(data)\n}\n\nexport function reincation_mult_from_superPrestiges (data:Datamap) {\n    return data.followers.devotedPrestige + 1\n}\n\nfunction CALC_holy_mult(holiness: number) {\n    //return Math.log(holiness + 1)\n    \n    const CUTOFF = 10000\n    let base = Math.sqrt(holiness) + 1\n    if (base > CUTOFF) {\n        let rest = Math.sqrt(Math.sqrt(holiness - CUTOFF * CUTOFF))\n        return rest + CUTOFF\n    }\n    return base\n}\n\nexport function next_holiness_mult(data: Datamap) {\n    return CALC_holy_mult(data.prophetData.holiness + prophet_prestige_gain(data))\n}\n\nexport function relic_getProductionPerecond(relicIndex: number, data: Datamap) {\n    return Math.floor(relic_getProduction(relicIndex, data) / RELICS[relicIndex].initialTime * relicDeltaMult(data))\n}\n\nexport function relic_getAllProductionPerecond(data: Datamap) {\n    let deltamult = relicDeltaMult(data)\n    let prodSum = (\n        (relic_getProduction(0, data) / RELICS[0].initialTime) + \n        (relic_getProduction(1, data) / RELICS[1].initialTime) + \n        (relic_getProduction(2, data) / RELICS[2].initialTime) + \n        (relic_getProduction(3, data) / RELICS[3].initialTime) + \n        (relic_getProduction(4, data) / RELICS[4].initialTime) + \n   \n        (relic_getProduction(5, data) / RELICS[5].initialTime) + \n        (relic_getProduction(6, data) / RELICS[6].initialTime) + \n        (relic_getProduction(7, data) / RELICS[7].initialTime) + \n        (relic_getProduction(8, data) / RELICS[8].initialTime) + \n        (relic_getProduction(9, data) / RELICS[9].initialTime)\n    )\n    let prodTimesDeltamult = prodSum * deltamult;\n    return Math.floor(prodTimesDeltamult)\n}\n\nexport function relic_hoylPowerMulti(data: Datamap) {\n    let HPPower = Math.log(data.prophetData.holyPower + 1);\n    let mult1 = data.holinessUpgrades.holypowerUpgrade + 1;\n    let mult2 = data.followers.DPUpgrades.heavyHolyPower + 1;\n    let mult3 = data.pantheon.production.b + 1;\n    let val = HPPower * mult1 * mult2 * mult3;\n    val = Math.floor(val);\n    return val + 1\n}\n\nexport const PRODMULTIPER25 = 1.5\n\nexport function Building_Multi(data: Datamap, index: number) {\n    return 1.5 + (.1 * (data.holinessUpgrades.buildingMulti + data.prophetData.relicUSDUpgrades[index]))\n}\n\nexport function relic_getProductionMulti(relicIndex: number, data: Datamap) {\n    return Math.pow(Building_Multi(data, relicIndex), Math.floor(data.prophetData.relics[relicIndex] / 25))\n}\n\nexport function relic_maxBuyAmount(relicIndex: number, data: Datamap) {\n    let b = RELICS[relicIndex].initialCost;\n    let r = RELICS[relicIndex].coefficient;\n    let k = data.prophetData.relics[relicIndex];\n    let c = data.prophetData.piety;\n\n    let logresult = Math.log(1 + ((c * (r - 1)) / (b * Math.pow(r, k))))\n    let logchange = logresult / Math.log(r);\n    let result = Math.floor(logchange)\n\n    return result;\n}\n\nexport function prophet_prestige_gain(data: Datamap) {\n    return Math.floor(Math.sqrt(Math.sqrt(data.prophetData.maxPiety) / 100))\n}\n\nexport function relic_maxBuyCost(relicIndex: number, data: Datamap) {\n\n    let n = relic_maxBuyAmount(relicIndex, data);\n\n    return relic_buyNCost(relicIndex, data, n)\n}\n\nexport function relic_buyNCost(relicIndex: number, data: Datamap, n: number) {\n    let b = RELICS[relicIndex].initialCost;\n    let r = RELICS[relicIndex].coefficient;\n    let k = data.prophetData.relics[relicIndex];\n\n    return Math.floor(b * (Math.pow(r, k) * (Math.pow(r, n) - 1)) / (r - 1))\n}\n\nexport function relic_buyNextCost(relicIndex: number, data: Datamap, next: number) {\n    let k = data.prophetData.relics[relicIndex];\n    let n = next - k % next;\n\n    return relic_buyNCost(relicIndex, data, n)\n}\n\nexport function relic_canBuyN(relicIndex: number, data: Datamap, n: number) {\n    let cost = relic_buyNCost(relicIndex, data, n);\n    return data.prophetData.piety >= cost\n}\n\nexport function relic_canBuyNext(relicIndex: number, data: Datamap, next: number) {\n    let k = data.prophetData.relics[relicIndex];\n    let n = next - k % next;\n\n    return relic_canBuyN(relicIndex, data, n);\n}\n\nexport const CMD_prophet_pray: DecoupledCommand = {\n    name: \"(P)ray\",\n    command: 'prophet pray',\n}\n\nexport const CMD_prophet_buymax: DecoupledCommand = {\n    name: \"(M)ax Relics\",\n    command: 'keypress m',\n}\n\nexport const CMD_prophet_buymaxreverse: DecoupledCommand = {\n    name: \"Max Relics Reversed (N)\",\n    command: 'keypress n',\n}\n\nexport const CMD_prophet_proselytize: DecoupledCommand = {\n    name: \"Proselytize\",\n    command: 'prophet proselytize',\n}\n\nexport const CMD_prophet_preach: DecoupledCommand = {\n    name: \"Preach\",\n    command: 'prophet preach',\n}\n\nfunction can_devotedPrestige(data: Datamap) {\n    return data.prophetData.devotion >= devotedPrestige_cost(data);\n}\n\nexport function devotedPrestige_cost(data: Datamap) {\n    return 1e8 * Math.pow(69.69, data.followers.devotedPrestige);\n}\n\nfunction hide_devotedPrestige(data: Datamap) {\n    return (data.prophetData.congregation.paritioners[1] === 0) && (data.followers.devotedPrestige === 0)\n}\n\nexport const CMD_prophet_devotedPrestige: DecoupledCommand = {\n    name: \"Devoted Reincarnation\",\n    command: 'prophet devotedprestige',\n    able: can_devotedPrestige,\n    hidden: hide_devotedPrestige,\n}","import Engine from \"../Engine\";\nimport { DecoupledCommand } from \"../interfaces/ICommand\";\nimport { Datamap } from \"../Datamap\";\nimport { getRandomInt } from \"../util\";\n\nexport default class GameTime {\n\n    constructor(public engine: Engine) {\n\n    }\n    \n    get data () {\n        return this.engine.datamap.gameTime;\n    }\n\n    reset = () => {\n        this.engine.datamap.gameTime = GameTimeInit();\n    }\n\n    static get requiredMS () {\n        return 24000;\n    }\n    static maxDays = 30;\n    static maxMonths = 12;\n\n\n    processDelta = (delta: number) => {\n        this.data.currentRun.time += delta;\n        \n\n        if (this.engine.datamap.prophetData.devotionUpgrades.abc.a) {\n            delta = delta * 2;    \n        }\n        if (this.engine.datamap.pantheon.time.b) {\n            delta = delta * (1 + .1 * this.engine.datamap.pantheon.time.b);\n        }\n   \n\n        let mscost = GameTime.requiredMS;\n        this.data.msprogress += delta;\n        if (this.data.msprogress >= mscost) {\n            this.data.msprogress -= mscost;\n            this.passDayAction();\n        }\n    }\n\n    processCommands = (commands: string[]) => {\n        switch (commands[1]) {\n            case 'passday':\n                this.passDay();\n                break;\n\n            case 'eatday':\n                this.eatDay();\n                break;\n        \n            default:\n                console.log('error in gametime processCommands')\n                break;\n        }\n    }\n\n    passDayAction = () => {\n        let daysForTriggers = 1 + Math.floor(this.data.msprogress / GameTime.requiredMS)\n        this.data.day ++;\n        //this.engine.save();\n        if (this.data.day > GameTime.maxDays) {\n            this.data.day -= GameTime.maxDays;\n            this.data.month ++; \n            if (this.data.month > GameTime.maxMonths) {\n                this.data.month -= GameTime.maxMonths;\n                this.data.year ++;\n            }\n        }\n\n        this.dayTriggers(daysForTriggers);\n\n        if (this.data.msprogress >= GameTime.requiredMS) this.multiday();\n    }\n\n    multiday = () => {\n        let mscost = GameTime.requiredMS;\n        let startms = this.data.msprogress;\n\n        let elapsed_days = Math.floor(this.data.msprogress / mscost);\n        this.data.msprogress = this.data.msprogress % GameTime.requiredMS;\n        \n        let totalDays = elapsed_days + this.data.day;\n        this.data.day = ((totalDays - 1) % 30) + 1;\n        \n        let elapased_months = Math.floor((totalDays - 1) / 30);\n        \n        let totalMonths = this.data.month + elapased_months;\n        this.data.month = ((totalMonths- 1)%12)+1;\n\n        let gainedYears = Math.floor((totalMonths - 1) / 12)\n        this.data.year +=  gainedYears;\n\n        //console.log('multiday!', startms, elapsed_days, elapased_months, gainedYears);\n\n    }\n\n    dayTriggers(days: number) {\n        let bonus = 0;\n        for (let i = 0; i < days + bonus; i++) {\n            if (i < days) {\n                let rng = getRandomInt(1,10);\n                if (rng <= this.engine.datamap.pantheon.time.c) {\n                    bonus ++;\n                    this.engine.datamap.pantheon.time.bonusDays ++;\n                }\n            }\n            this.engine.prophet.dayTrigger(1);\n            this.engine.datamap.rocketData.joules ++;\n            this.engine.adornments.dayTrigger();\n        }\n    }\n\n    passDay = () => {\n        this.passDayAction()\n    }\n\n    eatDay = () => {\n        if (this.data.day < 2) return;\n        this.data.day --;\n        this.data.eatenDays ++;\n    }\n    \n}\n\nexport interface GameTimeData {\n    msprogress: number;\n    day: number;\n    month: number;\n    year: number;\n    eatenDays: number;\n    currentRun: {\n        time: number;\n    }\n}\n\nexport function GameTimeInit (): GameTimeData {\n    return {\n        day: 1,\n        month: 1,\n        year: 0,\n        msprogress: 0,\n        eatenDays: 0,\n        currentRun: {\n            time: 0\n        }\n    }\n}\n\nexport const COMMAND_EAT_DAY: DecoupledCommand = {\n    name: 'Eat Day',\n    command: 'gametime eatday',\n    able: (datamap:Datamap) => {\n        return datamap.gameTime.day > 1;\n    }\n}\n\nexport const COMMAND_pass_day: DecoupledCommand = {\n    name: \"Pass Day\",\n    command: 'gametime passday',\n}","import AbstractModule from \"./AbstractModule\";\nimport { Datamap } from \"../Datamap\";\n\nexport default class NavArea extends AbstractModule {\n\n    get data (): NavAreaData {\n        return this.engine.datamap.nav;\n    }\n\n    changeMainArea = (stringedNumber: string) => {\n        let number = parseInt(stringedNumber);\n        this.data.mainArea = number;\n        this.data.subArea = 0;\n    }\n\n    changeSubArea = (stringedNumber: string) => {\n        let number = parseInt(stringedNumber);\n        this.data.subArea = number;\n    }\n\n}\n\nexport type NavAreaData = {\n    mainArea: number;\n    subArea: number;\n}\n\nexport function NavAreaDataInit (): NavAreaData {\n    return {\n        mainArea: 0,\n        subArea: 0,\n    }\n}\n\nexport function areaUnlocked(areaIndex:number, data: Datamap) {\n    switch (areaIndex) {\n        case 0:\n            return true\n            break;\n\n        case 1: \n            return data.prophetData.prestigeUnlocked === true || data.prophetData.save.reincarnationCount > 0\n            break;\n        default:\n            return false;\n    }\n}\n\n/* hidden={(datamap)=>{return datamap.prophetData.prestigeUnlocked === false && data.prophetData.holiness === 0}}/>\n          <CommandButtonFC name='Followers' command='nav main 2' hidden={(datamap)=>{return datamap.prophetData.congregation.unlocked === false}} />\n          <CommandButtonFC name='Adornments' command='nav main 3' hidden={(datamap)=>{return datamap.followers.adornmentsUnlocked === false}} />\n          */","import AbstractModule from \"./AbstractModule\";\nimport { Datamap } from \"../Datamap\";\nimport ExpoCurve, { ExpoObject, expoI_getCost } from \"../interfaces/ExpoCurve\";\nimport { WealthyBeliever_USD_gain } from \"./Followers\";\n\nexport default class Exploring extends AbstractModule {\n\n    sendRuins() {\n        if (this.data.areas.ruins.beingExplored || this.data.readyForMission === 0) return;\n        this.data.areas.ruins.assignedExplorers = this.data.readyForMission;\n        this.data.areas.ruins.beingExplored = true;\n        this.data.readyForMission = 0;\n    }\n\n    sendMart() {\n        if (this.data.areas.mart.beingExplored || this.data.readyForMission === 0) return;\n        this.data.areas.mart.assignedExplorers = this.data.readyForMission;\n        this.data.areas.mart.beingExplored = true;\n        this.data.readyForMission = 0;\n    }\n\n    sendShop() {\n        if (this.data.areas.shop.beingExplored || this.data.readyForMission === 0) return;\n        this.data.areas.shop.assignedExplorers = this.data.readyForMission;\n        this.data.areas.shop.beingExplored = true;\n        this.data.readyForMission = 0;\n    }\n\n    stopRuins() {\n        this.data.areas.ruins.assignedExplorers = 0;\n        this.data.areas.ruins.beingExplored = false;\n    }\n    \n    stopMart() {\n        this.data.areas.mart.assignedExplorers = 0;\n        this.data.areas.mart.beingExplored = false;\n    }\n\n    stopShop() {\n        this.data.areas.shop.assignedExplorers = 0;\n        this.data.areas.shop.beingExplored = false;\n    }\n\n    hireExplorer ( ) {\n        if (can_hire(this.engine.datamap) === false) return;\n        this.data.explorerCount ++;\n    }\n\n    hire10Explorer ( ) {\n        if (can_hire(this.engine.datamap) === false) return;\n        this.data.explorerCount += 10;\n    }\n\n    hireExplorers = (count: number) => {\n        for (let index = 0; index < count; index++) {\n            if (can_hire(this.engine.datamap) === false) return;\n            this.data.explorerCount ++;          \n        }\n    }\n\n    hireToNegative = () => {\n        let income = WealthyBeliever_USD_gain(this.engine.datamap);\n        let firstSal = currentSalary(this.engine.datamap);\n        this.data.explorerCount ++;          \n        let secondSal = currentSalary(this.engine.datamap);\n        let net = income - secondSal;\n        let individualcost = secondSal - firstSal;\n        let canhire = Math.floor(net/individualcost);\n        this.data.explorerCount += canhire - 1;\n        console.log(income,firstSal,secondSal,net,individualcost,canhire);\n        \n    }\n\n    fireExplorer () {\n        if (this.data.explorerCount > 0) {\n            this.data.explorerCount --;\n            this.engine.datamap.prophetData.believers --;\n        }\n    }\n\n    get data () {\n        return this.engine.datamap.adornments.explorers;\n    }\n \n    handle_explore_command = (cmdArray: string[]) => {\n        switch (cmdArray[2]) {\n            case 'hire':\n                this.hireExplorer();\n                break;\n\n            case 'hire10':\n                this.hire10Explorer();\n                break;\n\n            case 'hire100':\n                this.hireExplorers(100);\n                break;\n\n            case 'hiremax':\n                this.hireToNegative();\n                break;\n\n            case 'fire':\n                this.fireExplorer();\n                break;\n            \n            case 'sendup':\n                this.sendup();\n                break;\n\n            case 'senddown':\n                this.senddown();\n                break;\n\n            case 'sendall':\n                this.sendall();\n                break;\n\n            case 'ruins':\n                this.sendRuins();\n                break;\n            \n            case 'mart':\n                this.sendMart();\n                break;\n\n            case 'shop':\n                this.sendShop();\n                break;\n\n                case 'stopruins':\n                this.stopRuins();\n                break;\n            \n            case 'stopmart':\n                this.stopMart();\n                break;\n\n            case 'stopshop':\n                this.stopShop();\n                break;\n            \n                default:\n                break;\n        }\n    }\n\n    exploreDay = () => {\n\n        this.checkBelievers();\n        this.checkSalary();\n        this.checkOut();\n\n        this.checkReady();\n\n        this.exploreProgress();\n    }\n\n    checkBelievers () {\n        if (this.engine.datamap.prophetData.believers < this.data.explorerCount) {\n            this.data.explorerCount = this.engine.datamap.prophetData.believers;\n        }\n    }\n\n    checkReady () {\n        if (availableExplorers(this.engine.datamap) < this.data.readyForMission) {\n            this.data.readyForMission = availableExplorers(this.engine.datamap);\n        }\n    }\n\n    checkOut () {\n        if (availableExplorers(this.engine.datamap) < 0) {\n            this.stopRuins();\n            this.stopMart();\n            this.stopShop();\n        }\n    }\n\n\n    \n\n    checkSalary () {\n        if (this.engine.datamap.prophetData.congregation.USD < currentSalary(this.engine.datamap)) {\n            this.engine.datamap.prophetData.congregation.USD = 0;\n            this.engine.datamap.prophetData.believers -= this.data.explorerCount;\n            this.data.explorerCount = 0;\n        } else {\n            this.engine.datamap.prophetData.congregation.USD -= currentSalary(this.engine.datamap);\n        }\n    }\n\n    sendup () {\n        this.data.readyForMission = Math.min(availableExplorers(this.engine.datamap), this.data.readyForMission + 1)\n    }\n\n    sendall () {\n            this.data.readyForMission = availableExplorers(this.engine.datamap)\n    }\n\n    senddown () {\n        this.data.readyForMission = Math.max(0, this.data.explorerCount - 1)\n    }\n\n    exploreProgress () {\n        let areas = this.data.areas;\n\n        [areas.ruins, areas.mart, areas.shop].forEach(area => {\n            if (area.beingExplored) {\n                area.investedDays += area.assignedExplorers;\n            }\n        });\n        this.checkForFinshedAreas();\n    }\n\n    checkForFinshedAreas = () => {\n        this.exploreRuins();\n        this.exploreMart();\n        this.exploreShop();\n    }\n\n    checkArea(area: AreaData, expo: ExpoCurve) {\n        let goal = getAreaGoalDirct(area,expo)\n        if (area.investedDays >= goal) {\n            area.investedDays -= goal;\n            area.exploredCount ++;\n            return true;\n        } else return false;\n    }\n\n    exploreRuins () {\n        let area = this.data.areas.ruins;\n        let expo = AreaExpos.ruins;\n        let key = 'ruins';\n        \n        let done = this.checkArea(area,expo);\n        if (done) {\n            this.engine.adornments.getItem(key, area.exploredCount);\n        }\n    }\n\n    exploreMart () {\n        let area = this.data.areas.mart;\n        let expo = AreaExpos.mart;\n        let key = 'mart';\n        \n        let done = this.checkArea(area,expo);\n        if (done) {\n            this.engine.adornments.getItem(key, area.exploredCount);\n        }\n    }\n\n    exploreShop () {\n        let area = this.data.areas.shop;\n        let expo = AreaExpos.shop;\n        let key = 'shop';\n        \n        let done = this.checkArea(area,expo);\n        if (done) {\n            this.engine.adornments.getItem(key, area.exploredCount);\n        }\n    }\n\n    reset = () => {\n        this.engine.datamap.adornments.explorers = ExplorersData_init();\n    }\n\n}\n\nconst EXPLORER_SALARY = 10;\n\nexport const AreaExpos: ExpoObject = {\n    ruins: { coefficient: 4, initial: 365 },\n    mart: { coefficient: 2, initial: 365 * 10 },\n    shop: { coefficient: 3, initial: 365 * 100 },\n}\n\nexport function getAreaGoal (area: AreaData, areaExpoKey: string) {\n    return expoI_getCost(AreaExpos[areaExpoKey], area.exploredCount)\n}\n\nexport function getAreaETA (area: AreaData, areaExpoKey: string) {\n    let goal = expoI_getCost(AreaExpos[areaExpoKey], area.exploredCount)\n    let current = area.investedDays;\n    let remainder = goal - current;\n    let rate = area.assignedExplorers;\n    return Math.ceil(remainder/rate)\n}\n\nexport function getAreaGoalDirct (area: AreaData, areaExpo: ExpoCurve) {\n    return expoI_getCost(areaExpo, area.exploredCount)\n}\n\n\n\nexport function can_hire (data: Datamap) {\n    return data.prophetData.believers > data.adornments.explorers.explorerCount;\n}\n\nexport function availableExplorers (data:Datamap) {\n    let explorData = data.adornments.explorers;\n    return explorData.explorerCount - explorData.areas.ruins.assignedExplorers - explorData.areas.shop.assignedExplorers - explorData.areas.mart.assignedExplorers\n}\n\nexport function currentSalary (data:Datamap) {\n    let val = data.adornments.explorers.explorerCount * EXPLORER_SALARY\n    if (data.pantheon.wealth.c > 0) {\n        val = val * Math.pow(.95, data.pantheon.wealth.c)\n    } \n    return Math.floor(val);\n    \n}\n\nexport interface AreaData {\n    exploredCount: number,\n    investedDays: number,\n    assignedExplorers: number,\n    beingExplored: boolean,\n}\n\nexport function AreaData_init (): AreaData {\n    return {\n        exploredCount: 0,\n        investedDays: 0,\n        assignedExplorers: 0,\n        beingExplored: false,\n    }\n\n}\n\n\nexport interface ExplorersData {\n    explorerCount: number;\n    readyForMission: number;\n    areas: {\n        ruins: AreaData;\n        shop: AreaData;\n        mart: AreaData;\n    }\n}\n\nexport function ExplorersData_init(): ExplorersData {\n    return {\n        explorerCount: 0,\n        readyForMission: 0,\n        areas: {\n            ruins: AreaData_init(),\n            shop: AreaData_init(),\n            mart: AreaData_init(),\n        }\n    }\n}\n\nexport function show_explore_area (data:Datamap, areaKey: string) {\n    switch (areaKey) {\n        case 'mart':\n            return getAreaGoalDirct(data.adornments.explorers.areas.ruins, AreaExpos.ruins) > AreaExpos.mart.initial;\n            break;\n\n        case 'shop':\n            return getAreaGoalDirct(data.adornments.explorers.areas.mart, AreaExpos.mart) > AreaExpos.shop.initial;\n            break;\n    \n        default:\n            return true\n            break;\n    }\n}\n\nconst RUINS_STRS = {\n    key: 'ruins',\n    name: 'Ruins'\n}\n\nconst MART_STRS = {\n    key: 'mart',\n    name: 'Mart'\n}\n\nconst SHOP_STRS = {\n    key: 'shop',\n    name: 'Shop'\n}\n\nexport const AREA_STRS = {\n    RUINS_STRS, MART_STRS, SHOP_STRS\n}","import AbstractModule from \"./AbstractModule\";\nimport * as TimePantheon from \"./Pantheon/Time\";\nimport ExpoCurve from \"../interfaces/ExpoCurve\";\nimport Exploring, { AreaData, AreaData_init, ExplorersData, ExplorersData_init } from \"./Exploring\";\nimport { getRandomInt } from \"../util\";\nimport { string } from \"prop-types\";\nimport { Datamap } from \"../Datamap\";\n\nexport default class Adornments extends AbstractModule {\n\n\n    get data() {\n        return this.engine.datamap.adornments;\n    }\n\n    handle_adornments_command = (cmdArray: string[]) => {\n        switch (cmdArray[1]) {\n            case 'explorer':\n                this.exploring.handle_explore_command(cmdArray);\n                break;\n\n            case 'empty':\n                this.data.items.push({iNo:3,level:2,origin:'shop'})\n            //this.data.items = [];\n                break;\n\n            case 'sort':\n                this.sortAdornments(cmdArray[2]);\n                break;\n\n            case 'sell':\n                let index_ = parseInt(cmdArray[2]);\n                let item_ = this.data.items[index_]\n                this.data.items.splice(index_, 1);\n                this.data.gems += item_.level;\n                break;\n\n            case 'combine':\n                this.combine(parseInt(cmdArray[2]));\n                break;\n\n            case 'combineall':\n                for (let index = this.data.items.length - 1; index > 0; index--) {\n                    this.combine(index);\n                }\n                break;\n\n            case 'equip':\n                let index = parseInt(cmdArray[2]);\n                let item = this.data.items[index]\n                switch (item.iNo) {\n                    case 1:\n                        this.unequipCap()\n                        this.data.equiped.cap = this.data.items.splice(index, 1)[0];\n                        break;\n\n                    case 2:\n                        this.unequipCane()\n                        this.data.equiped.cane = this.data.items.splice(index, 1)[0];\n                        break;\n\n                    case 3:\n                        this.unequipRobe()\n                        this.data.equiped.robe = this.data.items.splice(index, 1)[0];\n                        break;\n\n                    case 4:\n                        this.unequipRing()\n                        let newring = this.data.items.splice(index, 1)[0];\n                        this.data.equiped.ring = newring;\n                        console.log(newring);\n                        \n                        break;\n\n                    case 5:\n                        this.unequipBook();\n                        this.data.equiped.book = this.data.items.splice(index, 1)[0];\n\n                        break;\n\n                    default:\n                        break;\n                }\n                break;\n\n            case 'unequip':\n                switch (cmdArray[2]) {\n                    case 'cane':\n                        this.unequipCane();\n                        break;\n\n                    case 'robe':\n                        this.unequipRobe();\n\n                        break;\n\n                    case 'cap':\n                        this.unequipCap();\n\n                        break;\n\n                    case 'book':\n                        this.unequipBook();\n\n                        break;\n\n                    case 'ring':\n                        this.unequipRing();\n                        break;\n\n                    default:\n                        break;\n                }\n                break;\n\n            default:\n                break;\n        }\n    }\n\n    sortAdornments = (command: string) => {\n       \n        switch (command) {\n            case 'level':\n                this.data.items.sort((a,b)=>{\n                    return a.level - b.level\n                })\n                break;\n\n            case 'origin':\n                this.data.items.sort((a,b)=>{\n                    return this.sortAreas(a.origin,b.origin)\n                })\n                break;\n\n            case 'type':\n                this.data.items.sort((a,b)=>{\n                    return a.iNo - b.iNo\n                })\n        \n            default:\n                break;\n        }\n    }\n\n    sortAreas (originA: string, originB: string) {\n        let originAnum = this.getAreaIndex(originA)\n        let originBnum = this.getAreaIndex(originB)\n        return originAnum - originBnum\n    }\n\n    getAreaIndex (area: string) {\n        switch (area) {\n            case 'ruins':\n                return 0;\n                break;\n\n            case 'mart':\n                return 1;\n                break;\n\n            case 'shop':\n                return 2;\n                break;\n        \n            default:\n                return -1\n                break;\n        }\n    }\n\n    unequipCap() {\n        if (this.data.equiped.cap) {\n            let toPush = this.data.equiped.cap;\n            this.data.equiped.cap = null;\n            if (toPush) this.data.items.push(toPush)\n        }\n    }\n\n    combine = (index: number) => {\n        let check_item = this.data.items[index];\n        if (check_item.level >= 10) return;\n\n        let matches: number[] = [];\n        this.data.items.some((item, i_index) => {\n            if (index === i_index) return false;\n            if (check_item.iNo === item.iNo) {\n                if (check_item.level === item.level) {\n                    if (check_item.origin === item.origin) {\n                        matches.push(i_index);\n                        return true;\n                    }\n                }\n            }\n            return false;\n        })\n        if (matches.length > 0) {\n            this.data.items[index].level++;\n            this.data.items.splice(matches[0], 1)\n        }\n\n    }\n\n    unequipCane() {\n        if (this.data.equiped.cane) {\n            let toPush = this.data.equiped.cane;\n            this.data.equiped.cane = null;\n            if (toPush) this.data.items.push(toPush)\n        }\n    }\n\n    unequipRobe() {\n        if (this.data.equiped.robe) {\n            let toPush = this.data.equiped.robe;\n            this.data.equiped.robe = null;\n            if (toPush) this.data.items.push(toPush)\n        }\n    }\n\n    unequipRing() {\n        if (this.data.equiped.ring) {\n            let toPush = this.data.equiped.ring;\n            this.data.equiped.ring = null;\n            if (toPush) this.data.items.push(toPush)\n        }\n    }\n\n    unequipBook() {\n        if (this.data.equiped.book) {\n            let toPush = this.data.equiped.book;\n            this.data.equiped.book = null;\n            if (toPush) this.data.items.push(toPush)\n        }\n    }\n\n\n    dayTrigger() {\n        this.exploring.exploreDay();\n    }\n\n    getItem(origin: string, level: number) {\n        this.data.adornmentCount++;\n        let iNo = getRandomInt(1, 5)\n        this.data.items.push({ origin, level, iNo })\n    }\n\n    exploring = new Exploring(this.engine)\n}\n\nconst AdornmentCurve: ExpoCurve = {\n    coefficient: 1e2,\n    initial: 1e2\n}\n\nexport interface AdornmentItem {\n    origin: string,\n    level: number,\n    iNo: number,\n}\n\nexport interface FullAdornmentItem {\n    data: AdornmentItem;\n    name: string;\n    power: string;\n}\n\nexport function getFullAdornmentItem(item: AdornmentItem): FullAdornmentItem {\n    return {\n        data: item,\n        name: `${ItemNames[item.iNo]} of ${item.origin}`,\n        power: PowerDictionary[ItemNames[item.iNo]](item)\n    }\n}\n\nconst ItemNames: string[] = [\n    'unused',\n    'Cap', 'Cane', 'Robe', 'Ring', 'Book'\n]\n\nconst PowerDictionary: I_PowerDict = {\n    unused: () => 'BROKE',\n    Cap: capStats,\n    Cane: caneStats,\n    Robe: robeStats,\n    Ring: ringStats,\n    Book: bookStats,\n}\n\nfunction capStats(item: AdornmentItem) {\n    switch (item.origin) {\n        case 'ruins':\n            return `+${item.level}x Piety Production`\n            break;\n\n        case 'mart':\n            return `+${item.level}x Devotion Production`\n            return `Nothing yet - make a suggestion!`\n            break;\n\n        case 'shop':\n            return `+${item.level}x USD Production`\n            return `Nothing yet - make a suggestion!`\n            break;\n\n        default:\n            return 'ERROR CAP - NO ORIGIN'\n            break;\n    }\n}\n\nfunction caneStats(item: AdornmentItem) {\n    switch (item.origin) {\n        case 'ruins':\n            return `Prayer gives +${item.level} Believers`\n            break;\n\n        case 'mart':\n            return `Prayer Gives +${item.level} USD`\n            break;\n\n        case 'shop':\n            return `Prayer Gives +${item.level} seconds relic production`\n            return `Proseltyzing gives USD at ${item.level}0%  instead of Believers `\n            break;\n\n        default:\n            return 'ERROR CANE - NO ORIGIN'\n            break;\n    }\n}\n\nfunction bookStats(item: AdornmentItem) {\n    switch (item.origin) {\n        case 'ruins':\n            return `+${item.level}x Effective Devotee Count`\n            break;\n\n        case 'mart':\n            return `+${item.level}x Devotion Production`\n            return `Nothing yet - make a suggestion!`\n            break;\n\n        case 'shop':\n            return `+${item.level}x USD Production`\n            return `Nothing yet - make a suggestion!`\n            break;\n\n        default:\n            return 'ERROR BOOK - NO ORIGIN'\n            break;\n    }\n}\n\nfunction robeStats(item: AdornmentItem) {\n    switch (item.origin) {\n        case 'ruins':\n            return `+${item.level}x Piety Production`\n            break;\n\n        case 'mart':\n            return `+${item.level}x Devotion Production`\n            break;\n\n        case 'shop':\n            return `+${item.level}x USD Production`\n            break;\n         /*   \n        case 'ruins':\n    \n            return `Nothing yet - make a suggestion!`\n            return `Retain ${item.level}% of Devotees on Reincarnation`\n            break;\n\n        case 'mart':\n            return `Nothing yet - make a suggestion!`\n            break;\n\n        case 'shop':\n            return `Nothing yet - make a suggestion!`\n            break;\n*/\n        default:\n            return 'ERROR ROBE - NO ORIGIN'\n            break;\n    }\n}\n\nfunction ringStats(item: AdornmentItem) {\n    switch (item.origin) {\n        case 'ruins':\n            return `+${item.level}x Devotee Deovtion Production`\n            break;\n\n            case 'mart':\n                return `+${item.level}x Devotion Production`\n                break;\n    \n            case 'shop':\n                return `+${item.level}x USD Production`\n                break;\n\n        default:\n            return 'ERROR RING - NO ORIGIN'\n            break;\n    }\n}\n\ninterface I_PowerDict {\n    [key: string]: (item: AdornmentItem) => string;\n}\n\n\nexport interface AdornmentData {\n    adornmentCount: number;\n    items: AdornmentItem[];\n    equiped: {\n        cap: AdornmentItem | null;\n        cane: AdornmentItem | null;\n        robe: AdornmentItem | null;\n        ring: AdornmentItem | null;\n        book: AdornmentItem | null;\n    }\n    gems: number;\n    explorers: ExplorersData\n}\n\nexport function adornmentDataInit(): AdornmentData {\n    return {\n        equiped: {\n            book: null,\n            cane: null,\n            cap: null,\n            ring: null,\n            robe: null,\n        },\n        items: [],\n        gems: 0,\n        adornmentCount: 0,\n        explorers: ExplorersData_init()\n    }\n}\n\n","export interface SimData {\n    mass: number;\n            current_v: number;\n            current_h: number;\n            active: boolean;\n            elapsedTime: number;\n            impactJouls: number\n}\n\nexport function SimDataInit ():SimData {\n    return {\n        mass: 1,\n        current_h: 0,\n        current_v: 0,\n        impactJouls: 0,\n        active: false,\n        elapsedTime: 0,\n    }\n}\n\nexport interface DerivedData {\n    estimatedTime: number;\n    estimatedVMax: number;\n    estimatedJouls: number;\n}\n\nexport function DerivedDataInit ():DerivedData {\n    return {\n        estimatedTime: 0,\n        estimatedVMax: 0,\n        estimatedJouls: 0,\n    }\n}\n\nexport interface RocketData {\n    unlocked: boolean;\n    ball: {\n        height: number,\n        mass: number,\n        derived: DerivedData;\n        sim: SimData\n    }\n    thrown_ball: {\n        initial_velocity: number,\n        derived: DerivedData;\n        sim: SimData\n    }\n    bouncyball: {\n        bounces_upgrades: number;\n        loss_upgrades: number;\n        derived: DerivedData;\n        sim: SimData & {bounces: number;};\n    }\n    joules: number;\n}\n\nexport function RocketDataInit(): RocketData {\n    return {\n        unlocked: false,\n        ball: {\n            height: 0,\n            mass: 0,\n            derived: DerivedDataInit(),\n            sim: SimDataInit(),\n        },\n        thrown_ball: {\n            initial_velocity: 0,\n            derived: DerivedDataInit(),\n            sim: SimDataInit()\n        },\n        bouncyball: {\n            bounces_upgrades: 0,\n            loss_upgrades: 0,\n            derived: DerivedDataInit(),\n            sim: {...SimDataInit() ,bounces: 0},\n\n        },\n        joules: 0\n    }\n}\n","import AbstractModule from \"./AbstractModule\";\nimport Engine from \"../Engine\";\n\nexport default class NameAndCode extends AbstractModule {\n    constructor(public engine: Engine) {\n        super(engine);\n    }\n\n    nacCommand (commands: string []) {\n        console.log(commands);\n        \n        switch (commands[1]) {\n            case 'setname':\n                this.data.name = commands[2];\n                this.data.timeSet = Date.now();\n                if (this.data.name === 'DREP'){\n                    this.engine.prophet.devotedprestige();\n                }\n                break;\n\n            case 'clearname':\n                this.data.name = '';\n                this.data.timeSet = 0;\n        \n            default:\n                break;\n        }\n    }\n\n    get data() {\n        return this.engine.datamap.nacData;\n    }\n\n    \n}\n\nexport interface NameAndCode_Data {\n    name: string;\n    timeSet: number;\n}\n\nexport function NameAndCode_Init (): NameAndCode_Data {\n    return {\n        name: '', timeSet: 0\n    }\n}","import { I_PropheData, init_ProphetData } from \"./modules/Prophet\";\nimport { GameTimeData, GameTimeInit } from \"./modules/Gametime\";\nimport { NavAreaData, NavAreaDataInit } from \"./modules/NavArea\";\nimport { HolinessUpgrades, holinessUpgradesInit } from \"./modules/PietyPurchases\";\nimport { FollowerData, followerDataInit } from \"./modules/Followers\";\nimport { AdornmentData, adornmentDataInit } from \"./modules/Adornments\";\nimport { RocketData, RocketDataInit } from \"./modules/RocketTypes\";\nimport { NameAndCode_Data, NameAndCode_Init } from \"./modules/NameAndCode\";\nimport { PantheonData, PantheonData_init } from \"./modules/Pantheon/Types\";\n\nexport interface Datamap {\n    offline: {\n        happening: boolean;\n        totaltime: number;\n    }\n    x: number;\n    y: number;\n    z: number;\n    ticks: number;\n    last: number;\n    ui: {\n        innerWidth: number;\n        innerHeight: number;\n    }\n    prophetData: I_PropheData;\n    gameTime: GameTimeData;\n    nav: NavAreaData,\n    holinessUpgrades: HolinessUpgrades,\n    followers: FollowerData,\n    adornments: AdornmentData,\n    rocketData: RocketData,\n    nacData: NameAndCode_Data,\n    automation: {\n        auto_buyToNext: boolean,\n    },\n    pantheon: PantheonData;\n}\n\nexport function newDefaultMap () {\n    let map: Datamap = {\n        offline: {\n            happening: false,\n            totaltime: 0,\n        },\n        x: 0, \n        y: 0, \n        z: 0,\n        ticks: 0,\n        last: Date.now(),\n        ui: {\n            innerHeight: 600,\n            innerWidth: 800,\n        },\n        prophetData: init_ProphetData(),\n        gameTime: GameTimeInit(),\n        nav: NavAreaDataInit(),\n        holinessUpgrades: holinessUpgradesInit(),\n        followers: followerDataInit(),\n        adornments: adornmentDataInit(),\n        rocketData: RocketDataInit(),\n        nacData: NameAndCode_Init(),\n        automation: {\n            auto_buyToNext: false,\n        },\n        pantheon: PantheonData_init(),\n    }\n    return map;\n}","import {Datamap, newDefaultMap} from './Datamap';\nimport * as _ from 'lodash'\n\nexport default abstract class CoreEngine {\n\n    datamap: Datamap = newDefaultMap();\n    loop: NodeJS.Timeout | undefined = undefined;\n\n    constructor(public notify: VoidFunction){\n        this.datamap.last = Date.now();\n        this.start();\n    }\n\n    start = () => {\n        if (!this.loop) {\n            this.loop = setInterval(this.tick, 200);\n        }\n    }\n\n    stop = () => {\n        if (this.loop){\n            clearTimeout(this.loop);\n            this.loop = undefined;\n        } \n    }\n\n    save= () => {\n        let datamap = JSON.stringify(this.datamap);\n        localStorage.setItem('datamap', datamap);\n    }\n\n    load= () => {\n        this.quietLoad();        \n        this.notify();\n    }\n\n    reset = () => {\n        this.datamap = newDefaultMap();\n        this.notify();\n    }\n\n    quietLoad = () => {\n        let combstr = localStorage.getItem('datamap');\n        if (combstr != null){\n            let oldobj = JSON.parse(combstr);\n            this.datamap = newDefaultMap();\n            _.merge(this.datamap, oldobj)\n        }\n    }\n\n    tick = () => {\n        \n        let newnow = Date.now();\n        let oldnow = this.datamap.last;\n        let delta = newnow - oldnow;\n\n        this.datamap.last = newnow;\n        \n        this.processDelta(delta)\n        this.notify();\n    }\n\n    abstract processDelta (delta: number): void;\n    abstract executeCommand (command: string): void;\n \n}\n\n\n","import { DecoupledCommand2 } from \"../interfaces/ICommand\";\nimport AbstractModule from \"./AbstractModule\";\nimport { SECOND_MS } from \"../util\";\nimport { Datamap } from \"../Datamap\";\nimport Engine from \"../Engine\";\nimport { SimData, RocketDataInit } from \"./RocketTypes\";\n\nexport default class Rocket extends AbstractModule {\n\n    constructor(engine: Engine) {\n        super(engine);\n        this.updateEstimates();\n    }\n\n    get data() {\n        return this.engine.datamap.rocketData;\n    }\n\n    reset () {\n        this.engine.datamap.rocketData = RocketDataInit();\n    }\n\n    handle_rocket_command = (cmdArray: string[]) => {\n        switch (cmdArray[1]) {\n            case 'ballheight+':\n                this.data.joules -= ballHeightUpgrade_cost(this.engine.datamap);\n                this.data.ball.height = nextBallHeightUpgrade(this.data.ball.height);\n                break;\n\n            case 'ballmass+':\n                this.engine.datamap.prophetData.congregation.USD -= ballMassUpgrade_cost(this.engine.datamap)\n                this.data.ball.mass = nextBallMassUpgrade(this.data.ball.mass)\n                break;\n\n            case 'ballvelocity+':\n                this.data.joules -= ballVelocityUpgrade_cost(this.engine.datamap);\n                this.data.thrown_ball.initial_velocity = nextBallVelocityUpgrade(this.data.thrown_ball.initial_velocity);\n                break;\n\n            case 'ballbounces+':\n                    this.engine.datamap.prophetData.congregation.USD -= ballBounceUpgrade_cost(this.engine.datamap);\n                    this.data.bouncyball.bounces_upgrades = nextBallBounceUpgrade(this.data.bouncyball.bounces_upgrades);\n                    break;\n\n            case 'throwball':\n                this.throwball();\n                break;\n\n            case 'dropball':\n                this.dropball();\n                break;\n\n            case 'bounceball':\n                this.bounceball();\n                break;\n\n            default:\n                break;\n        }\n        this.updateEstimates();\n    }\n\n    dropball = () => {\n        let ball = this.data.ball;\n\n        ball.sim = {\n            active: true,\n            current_h: ball.height,\n            current_v: 0,\n            elapsedTime: 0,\n            impactJouls: 0,\n            mass: ball.mass,\n        }\n        ball.height = 0;\n    }\n\n    throwball = () => {\n        let ball = this.data.ball;\n\n        this.data.thrown_ball.sim = {\n            active: true,\n            current_h: ball.height  ,\n            current_v: this.data.thrown_ball.initial_velocity,\n            elapsedTime: 0,\n            impactJouls: 0,\n            mass: ball.mass,\n        }\n\n        ball.height = 0;\n        this.data.thrown_ball.initial_velocity = 0;\n    }\n\n    bounceball () {\n        //console.log('bounce');\n        \n        let ball = this.data.ball;\n        let thrown_ball = this.data.thrown_ball\n\n        this.data.bouncyball.sim = {\n            active: true,\n            current_h: ball.height,\n            bounces: this.data.bouncyball.bounces_upgrades + 1,\n            current_v: thrown_ball.initial_velocity,\n            elapsedTime: 0,\n            impactJouls: 0,\n            mass: ball.mass,\n        }\n\n        ball.height = 0;\n        this.data.thrown_ball.initial_velocity = 0;\n        this.data.bouncyball.bounces_upgrades = 0;\n    }\n\n    updateEstimates() {\n        let estimatedVMax = freefall_vmax_from_h(this.data.ball.height);\n        let estimatedTime = freefall_t_from_h(this.data.ball.height);\n\n        this.data.ball.derived.estimatedTime = estimatedTime\n        this.data.ball.derived.estimatedVMax = estimatedVMax\n        this.data.ball.derived.estimatedJouls = freefall_j_from_mv(estimatedVMax, this.data.ball.mass)\n    }\n\n    processDelta = (delta: number) => {\n        if (this.data.ball.sim.active === true) this.ballsim(delta / SECOND_MS);\n        if (this.data.thrown_ball.sim.active === true) this.thrownballsim(delta / SECOND_MS);\n        if (this.data.bouncyball.sim.active === true) this.bounceyball_sim(delta / SECOND_MS);\n    }\n\n    vhat_sim (v_in: number, height: number, acceleration: number, seconds: number) {\n        let estimatedDistance = freefall_d_from_vat(v_in, GRAVITY, seconds)\n        let delta_t, delta_h, vf;\n\n        if (estimatedDistance + height > 0) {\n\n            delta_t = seconds;\n            delta_h = estimatedDistance\n            vf = freefall_vf_from_viat(v_in, acceleration, seconds)\n        } else { //need to solve FROM d\n\n            vf = freefall_vf_from_viad(v_in, GRAVITY, height);\n\n            delta_t = freefall_t_from_vivfd(v_in, vf, height)\n            delta_h = -height\n        }\n        return {delta_t, delta_h, vf}\n    }\n\n    move_and_impact(sim: SimData, seconds: number){\n        let vin = sim.current_v;\n        let h = sim.current_h;\n\n\n        let {delta_t, delta_h, vf} = this.vhat_sim(vin,h,GRAVITY,seconds);\n\n        sim.elapsedTime += delta_t;\n        sim.current_h += delta_h;\n        sim.current_v = vf;\n        return sim.current_h <= 0\n    }\n\n    ballsim = (seconds: number) => {\n\n        \n        let ball = this.data.ball;\n        let did_impact = this.move_and_impact(ball.sim, seconds);\n        //console.log(ball);\n        if (did_impact) {\n            ball.sim.active = false;\n            this.ballimpact();\n        }\n\n    }\n\n\n    thrownballsim = (seconds: number) => {\n\n        let ball = this.data.thrown_ball;\n        let did_impact = this.move_and_impact(ball.sim, seconds);\n        //console.log(ball);\n        if (did_impact) {\n            ball.sim.active = false;\n            this.thrown_ballimpact();\n        }\n\n\n    }\n    \n    bounceyball_sim (seconds: number) {\n        let initial_time =  this.data.bouncyball.sim.elapsedTime\n        let ball = this.data.bouncyball;\n        let did_impact = this.move_and_impact(ball.sim, seconds);\n        //console.log(ball);\n        if (did_impact) {\n            ball.sim.bounces --\n            if (ball.sim.bounces < 0) {\n                ball.sim.active = false;\n                this.bounce_ballimpact();\n            } else {\n                let bounce_energy = this.bounce_ballimpact();\n                ball.sim.current_v = v_from_mj(ball.sim.mass, bounce_energy)\n                this.bounceyball_sim(seconds - (initial_time - this.data.bouncyball.sim.elapsedTime))\n            }\n        }\n    }\n\n    impact() {\n        let gainedJoules = freefall_j_from_mv(this.data.ball.sim.current_v, this.data.ball.mass);\n        this.data.ball.sim.impactJouls = gainedJoules;\n        this.data.joules += Math.floor(gainedJoules)\n    }\n\n    ballimpact() {\n        let gainedJoules = freefall_j_from_mv(this.data.ball.sim.current_v, this.data.ball.mass);\n        this.data.ball.sim.impactJouls = gainedJoules;\n        this.data.joules += Math.floor(gainedJoules)\n    }\n\n    thrown_ballimpact() {\n        let gainedJoules = freefall_j_from_mv(this.data.thrown_ball.sim.current_v, this.data.ball.mass);\n        this.data.thrown_ball.sim.impactJouls = gainedJoules;\n        this.data.joules += Math.floor( gainedJoules )\n    }\n\n    bounce_ballimpact() {\n        let gainedJoules = freefall_j_from_mv(this.data.bouncyball.sim.current_v, this.data.ball.mass);\n        this.data.bouncyball.sim.impactJouls += gainedJoules;\n        this.data.joules += Math.floor( gainedJoules )\n        return (gainedJoules) * .8\n    }\n\n}\n\n\n\n//CLASS HELPERS \n\nexport function nextBallHeightUpgrade(height: number) {\n    return 1 + height;\n}\n\nexport function ballHeightUpgrade_cost(data: Datamap) {\n    return Math.floor(-kinetic_energy_mgdh(data.rocketData.ball.mass, 1))\n}\n\nexport function ballHeightUpgrade_able(data: Datamap) {\n    return ballHeightUpgrade_cost(data) <= data.rocketData.joules && data.rocketData.ball.mass > 0;\n}\n\nexport function nextBallMassUpgrade(mass: number) {\n    return 1 + mass;\n}\n\nexport function ballMassUpgrade_cost(data: Datamap) {\n    return data.rocketData.ball.mass * data.rocketData.ball.mass + 1;\n}\n\nexport function ballMassUpgrade_able(data: Datamap) {\n    return ballMassUpgrade_cost(data) <= data.prophetData.congregation.USD;\n}\n\nexport function nextBallVelocityUpgrade(velocity: number) {\n    return 2 + velocity;\n}\n\nexport function ballVelocityUpgrade_cost(data: Datamap) {\n    // ke = 1/2mvv\n    let velocity = data.rocketData.thrown_ball.initial_velocity;\n    let newv = nextBallVelocityUpgrade(velocity);\n    let oldKE = .5 * data.rocketData.ball.mass * velocity * velocity;\n    let newKE = .5 * data.rocketData.ball.mass * newv * newv;\n    \n    return newKE-oldKE; \n}\n\nexport function ballVelocityUpgrade_able(data: Datamap) {\n    return ballVelocityUpgrade_cost(data) <= data.rocketData.joules;\n}\n\nexport function nextBallBounceUpgrade(bounce: number) {\n    return 1 + bounce;\n}\n\nexport function ballBounceUpgrade_cost(data: Datamap) {\n    return Math.pow(10, data.rocketData.bouncyball.bounces_upgrades+4);\n}\n\nexport function ballBounceUpgrade_able(data: Datamap) {\n    return ballBounceUpgrade_cost(data) <= data.prophetData.congregation.USD;\n}\n\n//ROCKET COMMANDS\n\nexport const cmd_ballheightplus: DecoupledCommand2 = {\n    name: () => 'Lift Ball',\n    command: () => 'rocket ballheight+',\n    change: (data) => `${data.rocketData.ball.height} -> ${nextBallHeightUpgrade(data.rocketData.ball.height)}`,\n    able: ballHeightUpgrade_able,\n    cost: ballHeightUpgrade_cost,\n    costName: 'j'\n}\n\nexport const cmd_ballmassplus: DecoupledCommand2 = {\n    name: () => 'Increase Ball Mass',\n    command: () => 'rocket ballmass+',\n    change: (data) => `${data.rocketData.ball.mass} -> ${nextBallMassUpgrade(data.rocketData.ball.mass)}`,\n    able: ballMassUpgrade_able,\n    cost: ballMassUpgrade_cost,\n    costName: 'USD'\n}\n\nexport const cmd_ballvelocityplus: DecoupledCommand2 = {\n    name: () => 'Increase Initial Ball Velocity',\n    command: () => 'rocket ballvelocity+',\n    change: (data) => `${data.rocketData.thrown_ball.initial_velocity} -> ${nextBallVelocityUpgrade(data.rocketData.thrown_ball.initial_velocity)}`,\n    able: ballVelocityUpgrade_able,\n    cost: ballVelocityUpgrade_cost,\n    costName: 'j',\n    hidden: (data) => data.rocketData.ball.mass === 0 || data.rocketData.ball.height === 0,\n}\n\nexport const cmd_ballbouncesplus: DecoupledCommand2 = {\n    name: () => 'Bounces',\n    command: () => 'rocket ballbounces+',\n    change: (data) => `${data.rocketData.bouncyball.bounces_upgrades} -> ${nextBallBounceUpgrade(data.rocketData.bouncyball.bounces_upgrades)}`,\n    able: ballBounceUpgrade_able,\n    cost: ballBounceUpgrade_cost,\n    hidden: (data) => data.rocketData.thrown_ball.initial_velocity === 0,\n    costName: 'USD'\n}\n\nexport const cmd_dropball: DecoupledCommand2 = {\n    name: () => 'Drop Ball',\n    command: () => 'rocket dropball',\n    able: (data) => data.rocketData.ball.sim.active === false && data.rocketData.ball.height > 0,\n}\n\nexport const cmd_throwball: DecoupledCommand2 = {\n    name: () => 'Throw Ball',\n    command: () => 'rocket throwball',\n    able: (data) => data.rocketData.thrown_ball.sim.active === false,\n    hidden: (data) => data.rocketData.thrown_ball.initial_velocity === 0,\n}\n\nexport const cmd_bouncyball: DecoupledCommand2 = {\n    name: () => 'Bounce Ball',\n    command: () => 'rocket bounceball',\n    able: (data) => data.rocketData.bouncyball.sim.active === false,\n    hidden: (data) => data.rocketData.bouncyball.bounces_upgrades === 0,\n\n}\n/*\n    {\\displaystyle \\Delta v=v_{\\text{e}}\\ln {\\frac {m_{0}}{m_{f}}}=I_{\\text{sp}}g_{0}\\ln {\\frac {m_{0}}{m_{f}}}}\n\nwhere:\n\n     v   {\\displaystyle \\Delta v\\ } \\Delta v\\ is delta-v  the maximum change of velocity of the vehicle (with no external forces acting).\n    m 0 {\\displaystyle m_{0}} m_{0} is the initial total mass, including propellant, also known as wet mass.\n    m f {\\displaystyle m_{f}} m_{f} is the final total mass without propellant, also known as dry mass.\n    v e = I sp g 0 {\\displaystyle v_{\\text{e}}=I_{\\text{sp}}g_{0}} {\\displaystyle v_{\\text{e}}=I_{\\text{sp}}g_{0}} is the effective exhaust velocity, where:\n\n        I sp {\\displaystyle I_{\\text{sp}}} I_{\\text{sp}} is the specific impulse in dimension of time.\n        g 0 {\\displaystyle g_{0}} g_{0} is standard gravity.\n*/\n\n/* PHYSICS */\n\n//h = 1/2gt2, m\n\n//h = 1/2vt\n\n//v = gt, m/s\n\nconst GRAVITY = -9.8\n\nexport function freefall_t_from_h(height: number) { //return s\n\n    let time = Math.sqrt(2 * height / -GRAVITY);\n\n    return time;\n}\n\nexport function freefall_vmax_from_h(height: number) { //return m/s\n    let vmax = GRAVITY * freefall_t_from_h(height);\n    return vmax;\n}\n\nexport function freefall_d_from_vat(velocity_in: number, acceleration: number, seconds: number) { //return m\n    let d = velocity_in * seconds + .5 * acceleration * seconds * seconds;\n    return d;\n}\n\nexport function freefall_vf_from_viat(velocity_in: number, acceleration: number, seconds: number) { //return m/s\n    let vf = velocity_in + acceleration * seconds;\n    return vf;\n}\n\nexport function freefall_vf_from_viad(velocity_in: number, acceleration: number, distance: number) { //return m/s\n\n    let vf_sq = ((velocity_in + 1) / Math.abs(velocity_in + 1)) * (velocity_in * velocity_in) + 2 * acceleration * distance;\n    let vf = Math.sqrt(Math.abs(vf_sq));\n    //console.log('ff_vf_viad', velocity_in, acceleration, distance, vf_sq, vf);\n    if (vf_sq < 0) return -vf\n    else return vf\n}\n\nexport function freefall_t_from_vivfd(v_i: number, v_f: number, distance: number) { //return s\n    let t = 2 * distance / (v_i + v_f)\n    return Math.abs(t)\n}\n\nexport function freefall_j_from_mv(v: number, m_kg: number, ) { //return j \n    return .5 * m_kg * v * v\n}\n\nexport function v_from_mj (mass: number, joules: number) {\n    let velocity = Math.sqrt( 2 * joules / mass )\n    return velocity;\n}\n\nexport function kinetic_energy_mgdh (mass: number, delta_h: number) {\n    return mass * delta_h * GRAVITY;    \n}","import CoreEngine from \"./CoreEngine\";\nimport ProphetModule from \"./modules/Prophet\";\nimport GameTime from \"./modules/Gametime\";\nimport NavArea from \"./modules/NavArea\";\nimport Followers from \"./modules/Followers\";\nimport { MINUTE_MS } from \"./util\";\nimport Rocket from \"./modules/Rocket\";\nimport NameAndCode from \"./modules/NameAndCode\";\nimport Adornments from \"./modules/Adornments\";\nimport { doPantheonUpgrade } from \"./modules/Pantheon/Types\";\nimport { newDefaultMap } from \"./Datamap\";\nimport _ from \"lodash\";\n\nexport default class Engine extends CoreEngine {\n    \n    processDelta = (delta: number) => {\n        this.rocket.processDelta(delta)\n        \n        if (this.datamap.nacData.name === 'DEVC') {\n            delta = delta * 10;\n        }\n        //console.log('tick');\n        this.prophet.processDetla(delta)\n        \n        this.gameTime.processDelta(delta)\n        this.bounds();\n        this.stopOffline();\n\n    }\n\n    bounds () {\n        const PIETYBOUND = 1e100\n        if (this.datamap.prophetData.piety> PIETYBOUND) this.datamap.prophetData.piety = PIETYBOUND;\n    }\n\n\n    \n    startOffline (delta: number) {\n        this.datamap.offline = {happening: true,totaltime: delta}\n        this.notify();\n    }\n\n    stopOffline () {\n        this.datamap.offline.happening = false;\n    }\n\n    executeCommand = (command: string) => {\n        let commands = command.split(' ');\n        //console.log(`process ${command}, ${commands}`);\n\n        switch (commands[0]) {\n            case '1hr':\n                this.processDelta(60 * 60 * 1000);\n                break;\n\n            case 'prophet':\n                this.prophet.processCommands(commands)\n                break;\n\n            case 'gametime':\n                this.gameTime.processCommands(commands);\n                break;\n\n            case 'pantheon':\n                doPantheonUpgrade(this.datamap, commands)\n                break;\n\n            case 'save':\n                this.save();\n                break;\n\n            case 'load':\n                this.load();\n                break;\n\n            case 'import':\n                this.import(commands[1]);\n                break;\n            \n            case 'export':\n                this.export();\n                break;\n\n            case 'nav':\n                if (commands[1] === 'main') {\n                    this.nav.changeMainArea(commands[2])\n                } else if (commands[1] === 'sub') {\n                    this.nav.changeSubArea(commands[2])\n                }\n                break;\n\n            case 'followers':\n                this.followers.handle_followers_command(commands)\n                break;\n\n            case 'rocket':\n                this.rocket.handle_rocket_command(commands);\n                break;\n            case 'keypress':\n                this.handleKey(commands[1]);\n                break;\n\n            case 'nac':\n                this.nac.nacCommand(commands)\n                break;\n\n            case 'adornments':\n                this.adornments.handle_adornments_command(commands);\n                break;\n       \n            default:\n                console.log('...the dev made a mistake.')\n                break;\n\n        }\n\n        this.notify();\n    }\n\n    handleKey = (key: string) => {\n        switch (key) {\n            case 'p':\n                this.prophet.pray();\n                break;\n\n            case 'm':\n                for (let index = 0; index < 10; index++) {                    \n                    this.prophet.buyMaxRelic(index.toString())\n                }\n                break;\n\n            case 'n':\n                    for (let index = 9; index >= 0; index--) {                    \n                        this.prophet.buyMaxRelic(index.toString())\n                    }\n                    break;\n\n            case 'r':\n                this.prophet.prestige();\n                break;\n        \n            default:\n                break;\n        }\n    }\n\n    load = () => {\n        this.quietLoad();\n        this.startOffline(Date.now()-this.datamap.last)\n        this.notify();\n    }\n\n    import = (lzutf8str: string) => {\n        var LZUTF8 = require('lzutf8');\n        \n        //console.log(lzutf8str);\n        let arrayStr = lzutf8str.split(',')\n        let arrayInt = arrayStr.map(value=>parseInt(value))\n        let magicArray = Uint8Array.of(...arrayInt);\n        \n\n        //var string = new TextDecoder(\"utf-8\").decode(lzutf8str);\n        //let test = new Uint8Array(lzutf8str)\n        //let uint8array: Uint8Array = new Uint8Array(lzutf8str)\n        //let uint8array = new Uint8Array()\n        //var uint8array = new TextEncoder().encode(lzutf8str);\n        //console.log(uint8array);\n\n        var output = LZUTF8.encodeUTF8(lzutf8str);\n        //console.log(output, arrayStr, magicArray);\n        \n        let check = LZUTF8.decompress(magicArray);\n        //console.log(check);\n\n        /**\n         * \n      */\n        \n        \n\n        let combstr = check;\n        if (combstr != null){\n            let oldobj = JSON.parse(combstr);\n            this.datamap = newDefaultMap();\n            _.merge(this.datamap, oldobj)\n        }\n\n    }\n\n    export = () => {\n        let dataString = JSON.stringify(this.datamap);\n        var LZUTF8 = require('lzutf8');\n        let output = LZUTF8.compress(dataString);\n        //  console.log(output)\n        //console.log(dataString.length)\n\n//        download(`prophet_export_${Date.now()}.txt`,dataString)\n        download(`prophet_export_${Date.now()}.txt`,output)\n\n        function download(filename: string, text: string) {\n            var element = document.createElement('a');\n            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(text));\n            element.setAttribute('download', filename);\n          \n            element.style.display = 'none';\n            document.body.appendChild(element);\n          \n            element.click();\n          \n            document.body.removeChild(element);\n          }\n\n    }\n\n    prophet = new ProphetModule(this);\n    gameTime = new GameTime(this);\n    nav = new NavArea(this);\n    followers = new Followers(this)\n    rocket = new Rocket(this);\n    nac = new NameAndCode(this);\n    adornments = new Adornments(this);\n}\n\n","import * as React from 'react';\nimport { Datamap, newDefaultMap } from '../engine/Datamap';\n\ntype AppContextType = {\n  data: Datamap;\n  submitCommand: (str:string)=>void;\n}\n\n// Create a context wrapping some shared state\nlet AppContext = React.createContext<AppContextType>({\n  data: newDefaultMap(),\n  submitCommand: (str)=>{},\n});\n\nexport default AppContext;","import React, { ReactNode } from 'react';\nimport AppContext from '../../context/context';\nimport './TipFC.scss'\nimport ReactDOM from 'react-dom';\n\nconst TipFC: React.FC<{ tip?: ReactNode }> = (props) => {\n  \n  return ( <AppContext.Consumer>\n    {({ data, submitCommand }) => (\n      <div hidden={props.tip === undefined} >\n        <div className='TipFC'>\n          <div>\n            {props.tip}\n          </div>\n        </div>\n      </div>\n    )}\n  </AppContext.Consumer>\n)}\n\nexport class classTipFC extends React.Component<{ tip: ReactNode }, {top: string|number, bottom: string|number}>{\n\n  constructor(props: Readonly<{ tip: React.ReactNode; }>) {\n    super(props)\n    this.state = {\n      top: \"\",\n      bottom: \"\"\n    }\n  }\n\n  static contextType = AppContext;\n\n  componentDidMount () {\n    this.setTB();\n  }\n  \n\n  componentDidUpdate() {\n    this.setTB();\n  }\n\n  setTB= ()=>{\n\n    let height = window.innerHeight;\n\n    let top: number | string = \"\"\n    let bottom: number | string = \"\"\n\n    let myDom = ReactDOM.findDOMNode(this);\n\n    if (myDom) {\n\n\n      let parent = ((ReactDOM.findDOMNode(this) as Element).parentElement as Element)\n\n      if (parent) {\n\n        parent = parent as Element;\n        let parentBounds = parent.getBoundingClientRect()\n\n        /*\n        if (parentBounds.right > width / 2) {\n          right = width - parentBounds.right;\n          left = \"\"\n        } else {\n          right = \"\"\n          left = parentBounds.left\n        }*/\n\n        if (parentBounds.bottom > height / 2) {\n          bottom = height - parentBounds.top;\n          top = \"\"\n        } else {\n          bottom = \"\";\n          top = parentBounds.bottom;\n        }\n\n        this.setState({top, bottom});\n      }\n    }\n\n  }\n\n  render() {\n    let props = this.props;\n\n    //let width = window.innerWidth;\n\n    //let left: number | string = \"\"\n    //let right: number | string = \"\"\n    \n\n    \n\n    return (\n      <div hidden={props.tip === undefined} >\n        <div className='TipFC' style={{top:this.state.top, bottom:this.state.bottom}}>\n          <div>\n            {props.tip}\n          </div>\n        </div>\n      </div>\n    )\n  }\n\n}\n\nexport default TipFC;\n\n","import React, { ReactNode } from 'react';\nimport TipFC from './TipFC';\n\nexport interface ProgressProps {\n    value: number;\n    max: number;\n    color?: string;\n    background?: string;\n    label: string | ReactNode; \n    textColor?: string\n    tip?: ReactNode;\n}\n\n   \nconst ProgressFC: React.FC<ProgressProps> = (props) => {\n    let trueValue = Math.min(props.value, props.max)\n    let widthpercent = (trueValue * 100 / (props.max)).toString() + \"%\";\n    if (widthpercent === 'NaN%') widthpercent = '0%';\n    const [off, setOff] = React.useState(false);\n    if (off) widthpercent = '100%'\n\n    return (\n        <div className='ProgressFC' style={{backgroundSize:widthpercent}}>\n            <div className='InnerProgress' style={{width:widthpercent}} onClick={()=>setOff(!off)}>\n                <span style={{whiteSpace:'nowrap'}}>\n                    {props.label} \n                </span>\n            </div>\n            <TipFC tip={<div>{`${props.value}/${props.max}`}{props.tip}</div>} />\n        </div>\n    )\n}\n\n\nexport default ProgressFC;","import AppContext from \"../context/context\";\nimport React from \"react\";\nimport ProgressFC from \"./comps/ProgressFC\";\nimport GameTime from \"../engine/modules/Gametime\";\n\nconst BottomBar: React.FC<{}> = () => (\n    <AppContext.Consumer>{({ data, submitCommand }) => (\n\n        <div className='UIRow GameTimeRow'>\n            <div style={{display:'flex', width:'100%'}}>\n                <div className='timebar'>\n            <ProgressFC color='green' background='white' value={data.gameTime.msprogress} max={GameTime.requiredMS} label={`Time - ${msToHM(data.gameTime.msprogress)}`} />\n                </div>\n                <div className='timebar'>\n            <ProgressFC color='green' background='white' value={data.gameTime.day} max={GameTime.maxDays} label={`Day - ${data.gameTime.day}`} />\n            </div>\n            <div className='timebar'>\n            <ProgressFC color='green' background='white' value={data.gameTime.month} max={GameTime.maxMonths} label={`Month - ${data.gameTime.month} ${MONTHS[data.gameTime.month - 1]}`} />\n            </div>\n            <div>\n                {`Year - ${data.gameTime.year}`}\n            </div>\n            </div>\n        </div>\n\n    )}</AppContext.Consumer>\n)\n\nexport default BottomBar;\n\nfunction msToHM (msTime: number) {\n    \n    let hour = Math.floor(msTime/1000).toString();\n    if (hour.length === 1) hour = '0' + hour;\n\n    let minute = Math.floor((msTime%1000)/1000 * 60).toString();\n    if (minute.length === 1) minute = '0' + minute;\n    \n    return `${hour}:${minute}`\n}\n\nconst MONTHS = [\n    'JAN',\n    'FEB',\n    'MAR',\n    'APR',\n    'MAY',\n    'JUN',\n    'JUL',\n    'AUG',\n    'SEP',\n    'OCT',\n    'NOV',\n    'DEC',\n]","import React from 'react';\nimport AppContext from '../../context/context';\nimport { DecoupledCommand } from '../../engine/interfaces/ICommand';\nimport TipFC from './TipFC';\nimport './CommandButtonFC.scss'\n   \nconst CommandButtonFC: React.FC<DecoupledCommand> = (props) => (\n    <AppContext.Consumer>\n      {({ data, submitCommand }) => (\n          <button className='DCommandFC' disabled={props.able?!props.able(data):false} hidden={props.hidden?props.hidden(data):false} onClick={()=>{submitCommand(props.command)}}>\n            <div className='innerCommandRow'>\n            <span>{props.name}</span> \n            <img hidden={props.img === undefined} src={props.img} height={'30px'} alt=\"\" />\n            </div>\n            <TipFC tip={props.tip} />\n        </button>\n      )}\n    </AppContext.Consumer>\n  );\n\nexport default CommandButtonFC;\n","import AppContext from \"../context/context\";\nimport React from \"react\";\nimport { formatNumber } from \"../engine/util\";\nimport { prophet_maxHolyPower, relic_getAllProductionPerecond, preachers_max_deovtion_gain, devotee_devotion_gain, prophet_prestige_gain } from \"../engine/modules/Prophet\";\nimport { WealthyBeliever_USD_gain } from \"../engine/modules/Followers\";\nimport { currentSalary } from \"../engine/modules/Exploring\";\n\nconst ProphetUI: React.FC<{}> = () => (\n    <AppContext.Consumer>{({ data, submitCommand }) => (\n\n        <div className='ProphetUI'>\n\n            <div className='PietyDiv'>\n\n                    {`Piety: ${formatNumber(data.prophetData.piety)}`}<br/>\n                    {`+ ${formatNumber(relic_getAllProductionPerecond(data))} per second`}\n            </div>\n\n            <div hidden={data.prophetData.congregation.USD === 0} className='USDDiv'>\n            {`$${formatNumber(data.prophetData.congregation.USD)}`}<br/>\n            {`+ ${WealthyBeliever_USD_gain(data)-currentSalary(data)}  per day`}\n            </div>\n\n            <div hidden={data.prophetData.congregation.unlocked === false} className='DevotionDiv'>\n                {`Devotion: ${formatNumber(data.prophetData.devotion)} `}<br/>\n                {`+ <= ${formatNumber(preachers_max_deovtion_gain(data)+devotee_devotion_gain(data))} per day`}\n            </div>\n\n            <div hidden={data.prophetData.holiness === 0} className='HolinessDiv'>\n                    {`Holiness: ${formatNumber(data.prophetData.holiness)}`}<br/>\n                    {`+ ${formatNumber(prophet_prestige_gain(data))} on (R)ebirth`}\n            </div>\n\n        </div>\n\n    )}</AppContext.Consumer>\n)\n\nexport default ProphetUI;\n\n","import React, { ReactNode } from 'react';\nimport AppContext from '../../context/context';\nimport './NavBar.scss';\nimport CommandButtonFC from './CommandButtonFC';\nimport { areaUnlocked } from '../../engine/modules/NavArea';\n\nconst NavBar: React.FC<{tip?: ReactNode}> = (props) => (\n  <AppContext.Consumer>\n      {({ data, submitCommand }) => (\n        <div className={`NavBar selected${data.nav.mainArea+1}`}>\n          <CommandButtonFC name='Relics' command='nav main 0' />\n          <CommandButtonFC name='Reincarnation' command='nav main 1' hidden={(datamap)=>{return !areaUnlocked(1, data)}}/>\n          <CommandButtonFC name='Congregation' command='nav main 2' hidden={(datamap)=>{return datamap.prophetData.congregation.unlocked === false}} />\n          <CommandButtonFC name='Adornments' command='nav main 3' hidden={(datamap)=>{return datamap.followers.adornmentsUnlocked === false}} />\n          <CommandButtonFC name='Miracles' command='nav main 4' hidden={(datamap)=>{return datamap.rocketData.unlocked === false}} />\n          <CommandButtonFC name='Pantheon' command='nav main 5' hidden={(datamap)=>{return datamap.pantheon.unlocked === false}} />\n        </div>    \n\n\n      )}\n    </AppContext.Consumer>\n)\n\nexport default NavBar;","import React, { ReactNode } from 'react';\nimport AppContext from '../../context/context';\nimport { DecoupledCommand } from '../../engine/interfaces/ICommand';\nimport TipFC from './TipFC';\nimport './CommandButtonFC.scss'\nimport CommandButtonFC from './CommandButtonFC';\n\nexport interface CCBProps {\n  command: DecoupledCommand;\n  warning: ReactNode\n}\n\nexport default class ConfirmCommandButton extends React.Component<CCBProps, {open:boolean}>{ \n\n  constructor(props:CCBProps) {\n    super(props)\n\n    this.state = {\n      open: false\n    }\n\n  }\n\n  static contextType = AppContext;\n\n  fakeBuy = (ev: React.MouseEvent) => {\n    if (ev.shiftKey) {\n      this.context.submitCommand(this.props.command.command)\n    } else this.setState({open:!this.state.open})\n    \n  }\n\n  render () {\n    let data = this.context.data;\n\n    return (<div>\n        <div className='FakeButton' hidden={this.props.command.hidden?this.props.command.hidden(data):false}>\n        <button className='DCommandFC' disabled={this.props.command.able?!this.props.command.able(data):false} onClick={this.fakeBuy}>\n            <div className='innerCommandRow'>\n              <span>{this.props.command.name}</span> \n            <img hidden={this.props.command.img === undefined} src={this.props.command.img} height={'30px'} alt=\"\" />\n            </div>\n            <TipFC tip={this.props.command.tip} />\n        </button>\n        </div>\n        <div className='WarningBox' hidden={!this.state.open}>\n            <div className='WarningOverlay' onClick={this.fakeBuy}>\n              <div className='WarningPopup'>\n                {this.props.warning}\n                <div className='flexrow spacebetween'>\n                <CommandButtonFC {...this.props.command}/>\n                <button className='PlainD' onClick={this.fakeBuy}>\n                  cancel\n                </button>\n                </div>\n              </div>\n            </div>\n        </div>\n    </div>)\n  }\n}\n\n\n","import React from 'react';\nimport AppContext from '../../context/context';\nimport { DecoupledCommand2 } from '../../engine/interfaces/ICommand';\nimport TipFC from './TipFC';\nimport './CommandButtonFC.scss'\nimport { percentOf, formatNumber } from '../../engine/util';\n   \nconst CommandButton2: React.FC<DecoupledCommand2> = (props) => (\n    <AppContext.Consumer>\n      {({ data, submitCommand }) => {\n        let command = props.command(data);\n        let name = props.name(data);\n        let change = props.change?props.change(data):undefined;\n        let cost;\n        if (props.cost) {\n          cost = props.cost(data)\n        }\n\n        return (\n          <div hidden={props.hidden?props.hidden(data):false}>\n\n          <button className='DCommandFC' disabled={props.able?!props.able(data):false}  onClick={()=>{submitCommand(command)}}>\n            <div className='innerCommandRow'>\n              <div className='flexcolumn'>\n            <span>{name}</span>\n            <span>{change}</span> \n      {cost&&<span>{formatNumber (cost)} <span>{props.costName}</span> {props.resource&&<span>({percentOf(cost, props.resource(data))})</span>}</span>}\n            </div>\n            <img hidden={props.img === undefined} src={props.img} height={'30px'} alt=\"\" />\n            </div>\n            <TipFC tip={props.tip} />\n        </button>\n          </div>\n      )}}\n    </AppContext.Consumer>\n  );\n\nexport default CommandButton2;\n","import AppContext from \"../../context/context\";\n\nimport React from \"react\";\n\nimport CommandButtonFC from \"./CommandButtonFC\";\n\nimport { prophet_prestige_gain, next_holiness_mult, holiness_mult, reincation_mult, CMD_prophet_devotedPrestige, devotedPrestige_cost, Building_Multi } from \"../../engine/modules/Prophet\";\n\nimport { holiness_holyPumpUpgrade_command, holiness_holyPumpUpgradeCost, holiness_maxHolyPowerUpgrade_command, holiness_maxHolyPowerUpgradeCost, holiness_holypower1, holiness_holyPowerUpgradeCost as holiness_holyPowerEffectivenessUpgradeCost, holiness_buildingMulti_command, holiness_buildingMultiCost, holiness_believerRetention_command, holiness_believerRetentionCost, holiness_exRelations_command, holiness_exRelationsCost, holiness_devotionEffectiveness_command, holiness_devotionEffectivenessCost } from \"../../engine/modules/PietyPurchases\";\nimport ConfirmCommandButton from \"./ConfirmCommandButton\";\nimport { formatNumber } from \"../../engine/util\";\nimport { availableDivinity, getDivinity, DivinityPurchase, divinityPurcase_getCost, dp_able, DP_Upgrades } from \"../../engine/modules/Followers\";\nimport CommandButton2 from \"./CommandButton2\";\nimport { UnlockPantheonCommand } from \"../../engine/modules/Pantheon/Pantheons\";\n\nconst ResetUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({ data }) => (\n            <div className='HolinessUI'>\n                <div className='HeaderText'>Commands</div>\n                <div className='flexrow'>\n                    <ConfirmCommandButton\n                        command={{\n                            command: 'prophet prestige',\n                            name: `Reincarnate (+${formatNumber(prophet_prestige_gain(data))} holiness)`,\n                            hidden: (datamap) => { return datamap.prophetData.prestigeUnlocked === false },\n                            tip: (<div>\n                                <div>\n                                    Holiness Mult After: x{next_holiness_mult(data).toFixed(1)}\n                                </div>\n                                <div className='PietyDiv'>\n                                    From max Piety this life: {formatNumber(data.prophetData.maxPiety)}\n                                </div>\n                                <div>\n                                    Net from reincarnation {formatNumber((prophet_prestige_gain(data) + data.prophetData.holiness - data.prophetData.startingHoliness))}\n                                </div>\n                            </div>)\n                        }}\n                        warning={<div>\n                            {`You will lose everything except things you know you wont!`}\n                        </div>}\n\n                    />\n                    <div className='ParitionerButton'>\n\n                        <ConfirmCommandButton\n                            command={{\n                                ...CMD_prophet_devotedPrestige,\n                                tip: (<div>\n                                    <div>\n                                        Cost: {formatNumber(devotedPrestige_cost(data))} Devotion\n                                    </div>\n                                    <div>\n                                        Lose: Everything except divinity upgrades and increased reincarnation multiplier. <br />\n                                        Get: 100% increased reincarnation multiplier, +1 Divinity\n                                    </div>\n                                    <div>\n                                        x{data.followers.devotedPrestige + 1} -> x{data.followers.devotedPrestige + 2}\n                                    </div>\n                                </div>)\n                            }}\n                            warning={<div>\n                                {`You will lose everything except your devoted prestige level!`}\n                            </div>}\n                        />\n                    </div>\n                </div>\n\n                <div className='HeaderText'>Info</div>\n                <div>\n                    {`Holiness spent this life ${formatNumber(data.prophetData.startingHoliness - data.prophetData.holiness)}`}\n                    </div><div>\n                    {`Net Holiness after reincarnation ${formatNumber((prophet_prestige_gain(data) + data.prophetData.holiness - data.prophetData.startingHoliness))}`}\n                </div>\n                <div className='HolinessDiv'>\n                    {`Holiness Mult: x${holiness_mult(data).toFixed(1)}`}\n                </div>\n                <div>\n                    {`Reincarnation Mult: x${reincation_mult(data).toFixed(1)}`}\n                </div>\n                <div className='HeaderText'>Holiness Upgrades</div>\n                <div className='flexrow'>\n\n                <CommandButton2 \n                    name={()=>holiness_holyPumpUpgrade_command.name}\n                    command={()=>holiness_holyPumpUpgrade_command.command}\n                    hidden={holiness_holyPumpUpgrade_command.hidden}\n                    able={holiness_holyPumpUpgrade_command.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.holyPumpUpgrade}`}\n                    cost={holiness_holyPumpUpgradeCost}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        Double Holy Power gain from Prayer<br />\n                    </div>}\n                />\n                <CommandButton2 \n                    name={()=>holiness_maxHolyPowerUpgrade_command.name}\n                    command={()=>holiness_maxHolyPowerUpgrade_command.command}\n                    hidden={holiness_maxHolyPowerUpgrade_command.hidden}\n                    able={holiness_maxHolyPowerUpgrade_command.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.maxHolyPowerUpgrade}`}\n                    cost={holiness_maxHolyPowerUpgradeCost}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        Double maximum Holy Power. Holy power mult is a function of current Holy Power, which is limited my maximum holy power.<br/>\n                        Max holy power and holy power mult are not 1->1. <br />\n                    </div>}\n                />\n                <CommandButton2 \n                    name={()=>holiness_holypower1.name}\n                    command={()=>holiness_holypower1.command}\n                    hidden={holiness_holypower1.hidden}\n                    able={holiness_holypower1.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.holypowerUpgrade}`}\n                    cost={holiness_holyPowerEffectivenessUpgradeCost}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        Increase the effectiveness of Holy Power<br />\n                    </div>}\n                />\n                <CommandButton2 \n                    name={()=>holiness_buildingMulti_command.name}\n                    command={()=>holiness_buildingMulti_command.command}\n                    able={holiness_buildingMulti_command.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.buildingMulti}`}\n                    hidden={holiness_buildingMulti_command.hidden}\n                    cost={holiness_buildingMultiCost}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        +0.1 \"Relic Production Per 25 Relics\" Multiplier<br />\n                    </div>}\n                />\n                <CommandButton2 \n                    name={()=>holiness_believerRetention_command.name}\n                    command={()=>holiness_believerRetention_command.command}\n                    able={holiness_believerRetention_command.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.believerRetention}`}\n                    cost={holiness_believerRetentionCost}\n                    hidden={holiness_believerRetention_command.hidden}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        Halve the believers who leave each day.<br />\n                    </div>}\n                />\n                <CommandButton2 \n                    name={()=>holiness_exRelations_command.name}\n                    command={()=>holiness_exRelations_command.command}\n                    hidden={holiness_exRelations_command.hidden}\n                    able={holiness_exRelations_command.able}\n                    change={(data)=>`Level: ${data.holinessUpgrades.exRelations}`}\n                    cost={holiness_exRelationsCost}\n                    resource={()=>data.prophetData.holiness}\n                    costName={`holiness`}\n                    tip={<div>\n                        Make the influence of ex members less effective.<br />\n                    </div>}\n                />\n                <CommandButton2 \n                name={()=>holiness_devotionEffectiveness_command.name}\n                command={()=>holiness_devotionEffectiveness_command.command}\n                hidden={holiness_devotionEffectiveness_command.hidden}\n                able={holiness_devotionEffectiveness_command.able}\n                change={(data)=>`Level: ${data.holinessUpgrades.devotionEffectiveness}`}\n                cost={holiness_devotionEffectivenessCost}\n                resource={()=>data.prophetData.holiness}\n                costName={`holiness`}\n                tip={<div>\n                    Increase the total devotion multiplier by 2x<br />\n                </div>}\n                />\n                </div>\n                <div hidden={getDivinity(data) === 0}>\n                <div className='HeaderText'>Divinity Upgrades</div> \n                <div className='DivinityButtonWrapper'>\n\n                <CommandButtonFC command='followers divinity reset_toggle' \n                        name={data.followers.DPUpgrades.reset?`Reset on Reincarnation (ON)`:`Reset on Reincarnation (OFF)`} \n                        />\n                        </div>\n\n                    <div>Available divinity: {availableDivinity(data)}</div>\n                    <div className='flexrow DivinityButtonWrapper flexwrap'>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_beliverGain}/>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_fasterRelicProduction}/>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_superHolyPump}/>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_heavyHolyPower}/>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_monthMultiplier}/>\n                        <DPUpgradeComp dp={DP_Upgrades.DP_yearMultiplier}/>\n                    </div>\n\n                </div>\n\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nexport default ResetUI;\n\n\n\n\nconst DPUpgradeComp: React.FC<{ dp: DivinityPurchase }> = (props) => (\n    <AppContext.Consumer>\n        {({ data }) => (\n            <CommandButtonFC {...props.dp.command}\n                able={(datamap)=>{return dp_able(datamap, props.dp)}}\n                tip={<div>\n                    Cost: {divinityPurcase_getCost(data, props.dp)}<br />\n                    {props.dp.description}<br />\n                    Level : {props.dp.countFn(data)}\n                </div>}\n            />\n        )}\n    </AppContext.Consumer>\n)\n\n","import React from 'react';\nimport AppContext from '../../context/context';\nimport CommandButtonFC from './CommandButtonFC';\nimport { Paritioners, paritioner_able, paritioner_maxBuyAmount, paritioner_cost, paritioner_maxBuyCost, paritioner_buyHalfMax_amount, paritioner_buyHalfMax_cost, proudBeliever_believer_gain, WealthyBeliever_USD_gain, WealthyBeliever_Believer_gain } from '../../engine/modules/Followers';\nimport { formatNumber } from '../../engine/util';\n\n\nconst ParitionerBox: React.FC<{ paritionerIndex: number }> = (props) => (\n  <AppContext.Consumer>\n    {({ data, submitCommand }) => (\n      <div hidden={props.paritionerIndex > 0 && data.prophetData.congregation.paritioners[props.paritionerIndex - 1] === 0} className='ParitionerBox'>\n        <div style={{ display: 'flex', justifyContent: 'space-between', flexDirection: 'column' }}>\n          <div>\n            <span>\n           {Paritioners[props.paritionerIndex].name}\n            </span>\n            <div>\n            Count: {data.prophetData.congregation.paritioners[props.paritionerIndex]}\n          </div>\n          </div>\n          <div className='flexrow spacebetween'>\n\n          <CommandButtonFC\n            name={`Recruit`}\n            command={`followers recruitparitioner ${props.paritionerIndex}`}\n            able={(datamap) => { return paritioner_able(datamap, props.paritionerIndex) }}\n            />\n            <CommandButtonFC\n              name={`Recruit 50% (${paritioner_buyHalfMax_amount(props.paritionerIndex, data)})`}\n              command={`followers recruithalfmaxparitioner ${props.paritionerIndex}`}\n              able={(datamap) => { return paritioner_buyHalfMax_amount(props.paritionerIndex, datamap) > 0 }}\n              tip={(<div>\n                Cost: {paritioner_buyHalfMax_cost(props.paritionerIndex, data).toExponential(3)}\n              </div>)}\n            />\n          <CommandButtonFC\n            name={`Recruit max (${paritioner_maxBuyAmount(props.paritionerIndex, data)})`}\n            command={`followers recruitmaxparitioner ${props.paritionerIndex}`}\n            able={(datamap) => { return paritioner_maxBuyAmount(props.paritionerIndex, datamap) > 0 }}\n            tip={(<div>\n              Cost: {paritioner_maxBuyCost(props.paritionerIndex, data).toExponential(3)}\n            </div>)}\n          />\n              </div>\n\n              <div className='flexrow spacebetween'>\n                \n\n          \n          <div >\n            Cost: {formatNumber(paritioner_cost(data, props.paritionerIndex))} Devotion\n          </div>\n              </div>\n\n              <div>\n                <ParitionerDetailts index={props.paritionerIndex} />\n              </div>\n\n          \n        </div>\n      </div>\n    )}\n  </AppContext.Consumer>\n);\n\nexport default ParitionerBox;\n\nexport const ParitionerDetailts: React.FC<{ index: number }> = (props) => (\n  <AppContext.Consumer>\n    {({ data, submitCommand }) => (\n      <div>\n        {(props.index === 0) && `Bringing in ${proudBeliever_believer_gain(data)} other believers a day`}\n        {(props.index === 1) && `Tithing ${WealthyBeliever_USD_gain(data)} USD a day`}\n        {(props.index === 2) && `Asking ${data.prophetData.congregation.paritioners[props.index]} questions a day`}\n        {(props.index === 3) && `Providing ${data.prophetData.congregation.paritioners[props.index]} credibility a day `}\n        {(props.index === 4) && `Taking ${data.prophetData.congregation.paritioners[props.index]} crediblity a day`}\n        {(props.index === 5) && `Fix ${data.prophetData.congregation.paritioners[props.index]} a day`}\n\n        <br/>\n\n        {(props.index === 1 && data.pantheon.wealth.b > 0) && `Recruiting ${WealthyBeliever_Believer_gain(data)} believers a day`}\n\n      </div>\n    )}\n  </AppContext.Consumer>\n)","import React from 'react';\nimport AppContext from '../../context/context';\nimport { DecoupledCommand2 } from '../../engine/interfaces/ICommand';\nimport TipFC from './TipFC';\nimport './CommandButtonFC.scss'\nimport { percentOf, formatNumber } from '../../engine/util';\nimport ExpoCommand, { expoCommand_Able, expoCommand_Cost, expoCommand_maxAmmount } from '../../engine/interfaces/ExpoCommand';\n   \nconst ExpoButton: React.FC<ExpoCommand> = (props) => (\n    <AppContext.Consumer>\n      {({ data, submitCommand }) => {\n        \n        let command = props.command;\n        let name = props.name;\n        let level = props.countFns.get(data);\n\n        let change = props.change?props.change(data):undefined;\n\n        let able = expoCommand_Able(data, props)\n        let cost = expoCommand_Cost(data, props)\n        let max = expoCommand_maxAmmount(data, props)\n\n        return (\n          <div hidden={props.hidden?props.hidden(data):false}>\n\n          <div className='DCommandFC'  >\n            <div className='innerCommandRow flexrow'>\n              <button className='DCommandFC flexcolumn' disabled={!able}  onClick={()=>{submitCommand(command)}} >\n        <span>{name}</span> \n        <span>Level {level}</span>\n            {change && <span>{change}</span>} \n            <span>{formatNumber (cost)} <span>{props.currencyName}</span> </span>\n            </button>\n            <button className='DCommandFC' disabled={!able}  onClick={()=>{submitCommand(command+'max')}}>\n            Buy Max<br/> \n            ({max})\n            </button>\n            <img hidden={props.img === undefined} src={props.img} height={'30px'} alt=\"\" />\n            </div>\n            <TipFC tip={props.tip} />\n        </div>\n\n\n\n          </div>\n      )}}\n    </AppContext.Consumer>\n  );\n\nexport default ExpoButton;\n","import AppContext from \"../context/context\";\n\nimport { helper_prophet_maxBelieversDecay, CMD_prophet_proselytize, helper_prophet_maxBeliverGain, helper_prophet_exBeliever_harm, helper_prophet_maxBeliverGainNet, preachers_max_deovtion_gain, devotee_devotion_gain, doorknocker_beliver_gain, helper_prophet_exBeliever_believerDecay, helper_prophet_size_believerDecay, availablePeople } from \"../engine/modules/Prophet\";\n\nimport TipFC from \"./comps/TipFC\";\n\nimport { devotion_mult, upgrade_preacher_cmd, preacher_upgrade_cost, recruit_preacher_cmd, preacher_cost, upgrade_devotee_cmd, devotee_upgrade_cost, recruit_devotee_cmd, devotee_cost, upgrade_doorknocker_cmd, doorknocker_upgrade_cost, recruit_doorknocker_cmd, doorknocker_cost, proudBeliever_believer_gain, UnlockAdornments, UnlockAdornments_cost } from \"../engine/modules/Followers\";\n\nimport CommandButtonFC from \"./comps/CommandButtonFC\";\n\nimport ParitionerBox from \"./comps/ParitionerBox\";\nimport React from \"react\";\nimport { formatNumber, WORLD_POP } from \"../engine/util\";\nimport CommandButton2 from \"./comps/CommandButton2\";\nimport * as DevotionUpgrades from \"../engine/modules/PantheonBuys\";\nimport StatFC from \"./comps/StatFC\";\nimport { UnlockPantheonCommand } from \"../engine/modules/Pantheon/Pantheons\";\nimport ExpoButton from \"./comps/ExpoButton\";\nimport { USD_UpgradeTithe, USD_Upgrade_Pamphlets } from \"../engine/modules/USDPurchases\";\n\nconst FollowersUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({ data }) => (\n            <div>\n\n\n\n                <div>\n\n                    <div>\n                        <span className='HeaderText'>Congregation Info</span>\n                    </div>\n                    <div>\n                        {`Believers: ${data.prophetData.believers}`}<br />\n                        <TipFC tip={`Believers are useless on their own, but Preachers use them to genreate deovtion!`} />\n                    </div>\n                    <div>\n                        {`Daily Believer Gain: ${doorknocker_beliver_gain(data) + proudBeliever_believer_gain(data)}`}\n                    </div>\n                    <div>\n                        {`Max Daily Believer Loss: ${helper_prophet_maxBelieversDecay(data)}`}<br />\n                        <TipFC tip={<div>It feels like people stop believing every day!<br />Both total followers and total ex followers are influences.<br />\n                            Loss From Ex Followers: {helper_prophet_exBeliever_believerDecay(data)}<br />\n                            Loss From Congregation Size: {helper_prophet_size_believerDecay(data)}<br />\n                        </div>} />\n                    </div>\n                    <div>\n                        {`Former Belivers: ${data.prophetData.ex_believers}`}<br />\n                        <TipFC tip={<div>Pesky ex-believers influence people to not believe!<br />\n                            {`Removes ${helper_prophet_exBeliever_harm(data)} from possible gains`}<br />\n                            {`Makes up to ${helper_prophet_exBeliever_believerDecay(data)} believers leave each day`}<br />\n                        </div>} />\n                    </div>\n                    <div>\n                        {`Possible Converts ${availablePeople(data)}`}\n                        <TipFC tip={<div>\n                            {`World Pop - ExBelievers - Believers`}<br />\n                            {`${WORLD_POP} - ${data.prophetData.ex_believers} - ${data.prophetData.believers}`}<br />\n                        </div>} />\n                    </div>\n                    <div>\n                        {`Devotion Mult to Piety: x${devotion_mult(data).toFixed(1)}`}\n                    </div>\n                </div>\n\n                <div>\n\n                    <div className='HeaderText'>Commands</div>\n                    <div className='flexrow'>\n                        <div className='HolinessButtonWrapper'>\n\n                            <CommandButtonFC {...CMD_prophet_proselytize}\n                                tip={<div>\n                                    Spend Holiness to make people believe<br />\n                                    {`Proselytize Beliver Gain: (${helper_prophet_maxBeliverGain(data)}-${helper_prophet_exBeliever_harm(data)})=${helper_prophet_maxBeliverGainNet(data)}`}<br />\n                                    (How many believers your piety attracts) - (How many believers your ex-believers detract)\n                            </div>}\n                            />\n                        </div>\n\n                        <div className='DevotionButtonWrapper'>\n\n\n                        <CommandButton2\n                            name ={()=>UnlockAdornments.name}\n                            command ={()=>UnlockAdornments.command}\n                            hidden= {UnlockAdornments.hidden}\n                            able={UnlockAdornments.able}\n                            cost={UnlockAdornments_cost}\n                            costName='Devotion'\n                                tip={`Unlock Adornments that aren't lost through ANY reincarnation, or for any reason ever. You keep these!`}\n                            />\n                        </div>\n                            \n                            <div className='USDCommand'>\n                                <CommandButton2 {...UnlockPantheonCommand} />\n                            </div>\n\n                    </div>\n                    <div className='HeaderText'>Upgrades</div>\n                    <div className='flexrow'>\n\n                        <div className='USDCommand'>\n                            <ExpoButton {...USD_UpgradeTithe} />\n                        </div>\n\n                        <div className='USDCommand'>\n                            <ExpoButton {...USD_Upgrade_Pamphlets} />\n                        </div>\n\n\n\n                    </div>\n\n                    <div className='flexrow'>\n\n                        <div className='flexrow'>\n                            {DevotionUpgrades.ABC_hidden(data) === false && <div className='flexcolumn godbox' style={{ border: '2px solid white' }}>\n                                <div>Choose a god for your believers to be proud of, and add it to your Pantheon</div>\n                                <div className='flexrow DevotionButtonWrapper '>\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_ShorterDays} />\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_NoHPDecay} />\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_RelicPower} />\n                                </div>\n                            </div>}\n                        </div>\n                        <div className='flexrow'>\n                            {DevotionUpgrades.DEF_hidden(data) === false && <div className='flexcolumn godbox' style={{ border: '2px solid white' }}>\n                                <div>Choose a god that gives your believers a reason to give, and add it to your Pantheon.</div>\n                                <div className='flexrow DevotionButtonWrapper'>\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_D} />\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_E} />\n                                    <CommandButton2 {...DevotionUpgrades.Devotion_Upgrade_F} />\n                                </div>\n                            </div>}\n\n                        </div>\n\n                    </div>\n\n                </div>\n\n                <div>\n                    <div className='flexrow'>\n                        <span className='HeaderText'>Use your Holiness to convert basic believers into Clergy</span>\n                        <div className='HolinessButtonWrapper'>\n                            <CommandButtonFC command='followers recruit autotoggle'\n                                name={data.automation.auto_buyToNext ? `Auto Rebuy (ON)` : `Auto Rebuy (OFF)`}\n                            />\n                        </div>\n                    </div>\n\n                    <div className='FollowerBox'>\n\n                        <div className='FollowerDiv'>\n                            <div>\n                                <div>\n                                    {data.prophetData.congregation.preachers} Preachers - Level {data.prophetData.congregation.preacherLevel + 1}<br />\n                                    <span hidden={data.prophetData.congregation.preachers >= data.prophetData.congregation.old.preachers\n                                        && data.prophetData.congregation.preacherLevel >= data.prophetData.congregation.old.preacherLevel}>\n                                        Last:<br />\n                                        {data.prophetData.congregation.old.preachers} Preachers - Level {data.prophetData.congregation.old.preacherLevel + 1}\n                                        <CommandButtonFC\n                                            command='followers recruit preachermax'\n                                            name='Buy To Last'\n                                        />\n                                    </span>\n\n                                </div>\n                                <div>\n                                    {`Up to ${formatNumber(preachers_max_deovtion_gain(data))} devotion per day from believers`}\n                                </div>\n                                <div>\n                                    <CommandButtonFC {...upgrade_preacher_cmd} />\n                                    <span>\n                                        {`Cost: ${formatNumber(preacher_upgrade_cost(data))} Holiness`}\n                                    </span>\n                                </div>\n                            </div>\n                            <div>\n                                <CommandButtonFC {...recruit_preacher_cmd} />\n                                <span>\n                                    {`Cost: ${formatNumber(preacher_cost(data))} Holiness, 1 Believer`}\n                                </span>\n                            </div>\n\n                        </div>\n\n                        <div className='FollowerDiv'>\n                            <div>\n                                <div>\n                                    {data.prophetData.congregation.devotee} Devotees - Level {data.prophetData.congregation.devoteeLevel + 1}<br />\n                                    <span hidden={data.prophetData.congregation.devotee >= data.prophetData.congregation.old.devotee\n                                        && data.prophetData.congregation.devoteeLevel >= data.prophetData.congregation.old.devoteeLevel}>\n                                        Last:<br />\n                                        {data.prophetData.congregation.old.devotee} Devotees - Level {data.prophetData.congregation.old.devoteeLevel + 1}\n                                        <CommandButtonFC\n                                            command='followers recruit devoteemax'\n                                            name='Buy To Last'\n                                        />\n                                    </span>\n                                </div>\n                                <div>\n                                    {`${devotee_devotion_gain(data)} devotion per day`}\n                                </div>\n                                <div>\n                                    <CommandButtonFC {...upgrade_devotee_cmd} />\n                                    <span>\n                                        {`Cost: ${formatNumber(devotee_upgrade_cost(data))} Holiness`}\n                                    </span>\n                                </div>\n                            </div>\n                            <div>\n                                <CommandButtonFC {...recruit_devotee_cmd} />\n                                <span>\n                                    {`Cost: ${formatNumber(devotee_cost(data))} Holiness, 1 Believer`}\n                                </span>\n                            </div>\n\n                        </div>\n\n                        <div className='FollowerDiv'>\n                            <div>\n                                <div>\n                                    {data.prophetData.congregation.doorknocker} Recruiters - Level {data.prophetData.congregation.doorknockerLevel + 1}<br />\n                                    <span hidden={data.prophetData.congregation.doorknocker >= data.prophetData.congregation.old.doorknocker\n                                        && data.prophetData.congregation.doorknockerLevel >= data.prophetData.congregation.old.doorknockerLevel}>\n                                        Last:<br />\n                                        {data.prophetData.congregation.old.doorknocker} Recruiters - Level {data.prophetData.congregation.old.doorknockerLevel + 1}\n                                        <CommandButtonFC\n                                            command='followers recruit doorknockermax'\n                                            name='Buy To Last'\n                                        />\n                                    </span>\n\n                                </div>\n                                <div>\n                                    {`Recruiting ${doorknocker_beliver_gain(data)} belivers per day`}\n                                </div>\n                                <div>\n                                    <CommandButtonFC {...upgrade_doorknocker_cmd} />\n                                    <span>\n                                        {`Cost: ${formatNumber(doorknocker_upgrade_cost(data))} Holiness`}\n                                    </span>\n                                </div>\n                            </div>\n                            <div>\n                                <CommandButtonFC {...recruit_doorknocker_cmd} />\n                                <span>\n                                    {`Cost: ${formatNumber(doorknocker_cost(data))} Holiness, 1 Believer`}\n                                </span>\n                            </div>\n                        </div>\n\n\n\n                    </div>\n                </div>\n\n                <div>\n\n\n                    <span className='HeaderText'>Use your Devotion to create exceptional Believers.</span>\n\n                    <div className='FollowerBox'>\n                        <ParitionerBox paritionerIndex={0} />\n                        <ParitionerBox paritionerIndex={1} />\n                        <ParitionerBox paritionerIndex={2} />\n                    </div>\n                </div>\n\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nexport default FollowersUI;","import AppContext from \"../../context/context\";\n\nimport React from \"react\";\nimport CommandButtonFC from \"./CommandButtonFC\";\nimport CommandButton2 from \"./CommandButton2\";\nimport { currentSalary, availableExplorers, AreaData, getAreaGoal, getAreaETA, show_explore_area, AREA_STRS } from \"../../engine/modules/Exploring\";\nimport { AdornmentItem, getFullAdornmentItem } from \"../../engine/modules/Adornments\";\nimport TipFC from \"./TipFC\";\n\nconst AdornmentUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({ data, submitCommand }) => (\n            <div>\n                <div className='HeaderText'>Adornments</div>\n                <div>\n                    Hire Believers to explore the world looking for Adornments for you. Not 100% useful yet!\n                    <TipFC tip={`Only all the items from the ruins do something. Only 40% of the items from each other area have been given stats.`} />\n                </div>\n                <hr/>\n                <div className='flexrow'>\n\n                    <div className='flexcolumn flexequal'>\n                        <div className='HeaderText'>Explorers</div>\n                        <div>\n                            No believers... no explorers.\n                        </div>\n                        <div className='HeaderText'>Info</div>\n                        <div className='flexcolumn flexwrap'>\n                            <div>\n                                \n                            Available Believers: {data.prophetData.believers}\n                            </div><div>\n\n                            Explorers: {data.adornments.explorers.explorerCount}\n                            </div><div>\n\n                            Available Explorers: {availableExplorers(data)}\n                            </div>\n                            <div>\n                            Daily Salary: <span className='USDDiv'>${currentSalary(data)}</span>\n                            </div>\n                        </div>\n\n                        <div className='HeaderText'>Commands</div>\n                        <div className='flexrow flexwrap'>\n\n                        <CommandButton2  command={() => 'adornments explorer hire'} name={() => `Hire Explorer`} />\n                        <CommandButton2 hidden={()=>data.adornments.explorers.explorerCount < 10} command={() => 'adornments explorer hire10'} name={() => `Hire 10 Explorers`} />\n                        <CommandButton2 hidden={()=>data.adornments.explorers.explorerCount < 100} command={() => 'adornments explorer hiremax'} name={() => `Hire Max? Explorers`} />\n                        <CommandButton2 command={() => 'adornments explorer fire'} name={() => `Fire Explorer`} />\n                        </div>\n\n                        <div className='HeaderText'>Party</div>\n                        <div className='flexrow flexwrap'>\n                        <div>\n                        Explorers to send {data.adornments.explorers.readyForMission}\n                        </div>\n                        <CommandButton2 command={() => 'adornments explorer senddown'} name={() => `<-`} />\n                        <CommandButton2 command={() => 'adornments explorer sendup'} name={() => `->`} />\n                        <CommandButton2 command={() => 'adornments explorer sendall'} name={() => `-->`} />\n                        </div>\n\n                        <div className='HeaderText'>Areas</div>\n\n                      \n                        <div className='flexrow flexwrap'>\n\n        {show_explore_area(data, AREA_STRS.RUINS_STRS.key) && <AreaBox commandKey='ruins' area={data.adornments.explorers.areas.ruins} />   }         \n        {show_explore_area(data, AREA_STRS.MART_STRS.key) && <AreaBox commandKey='mart' area={data.adornments.explorers.areas.mart} />  }        \n        {show_explore_area(data, AREA_STRS.SHOP_STRS.key) && <AreaBox commandKey='shop' area={data.adornments.explorers.areas.shop} />  }          \n                        </div>\n\n                    </div>\n                    \n                    <div className='flexcolumn flexequal'>\n                        <div className='HeaderText'>Found Adornments</div>\n                        Total Found: {data.adornments.adornmentCount}<br/>\n                        Gems: {data.adornments.gems}<br/>\n                        <div className='HeaderText'>Inventory</div>\n\n                        <div className='flexrow'>\n                        { <CommandButton2 command={() => `adornments sort origin`} name={() => `sort by origin`} />}\n                        { <CommandButton2 command={() => `adornments sort level`} name={() => `sort by level`} />}\n                        { <CommandButton2 command={() => `adornments sort type`} name={() => `sort by type`} />}\n                        { <CommandButton2 command={() => `adornments combineall`} name={() => `combine all`} />}\n\n                        </div>\n\n                        <div className='flexrow flexwrap'>\n                        {data.adornments.items.map(((itemData,index)=><ItemBox itemData={itemData} index={index} key={`item ${index}`} />))}\n                        </div>\n                        <div className='HeaderText'>Equipped</div>\n                        <div className='flexrow flexwrap'>\n                        {data.adornments.equiped.book !== null &&  <EquippedItemBox itemData={data.adornments.equiped.book} slot={'book'} />}\n                        {data.adornments.equiped.cane !== null && <EquippedItemBox itemData={data.adornments.equiped.cane} slot={'cane'} /> }\n                        {data.adornments.equiped.cap !== null && <EquippedItemBox itemData={data.adornments.equiped.cap} slot={'cap'} /> }\n                        {data.adornments.equiped.ring !== null && <EquippedItemBox itemData={data.adornments.equiped.ring} slot={'ring'} />}\n                        {data.adornments.equiped.robe !== null && <EquippedItemBox itemData={data.adornments.equiped.robe} slot={'robe'} /> }\n                        </div>\n                        \n\n                    </div>\n\n                </div>\n\n\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nexport default AdornmentUI;\n\nconst AreaBox: React.FC<{commandKey: string, area: AreaData}> = (props) => (\n    <AppContext.Consumer>\n        {({ data, submitCommand }) => (\n            <div className='areabox'>\n                            {props.commandKey}<br/>\n                            Active: {props.area.beingExplored.toString()}<br/>\n                            Current Explorers: {props.area.assignedExplorers}<br/>\n                            Man-Days Spent: {props.area.investedDays}<br/>\n                            Goal: {getAreaGoal(props.area, props.commandKey)}<br/>\n                            ETA: {getAreaETA(props.area, props.commandKey)} days<br/>\n                            Items Found: {props.area.exploredCount}\n                            {props.area.beingExplored===false && <CommandButton2 command={() => `adornments explorer ${props.commandKey}`} name={() => `Send Party`} />}\n                            {props.area.beingExplored===true && <CommandButton2 command={() => `adornments explorer stop${props.commandKey}`} name={() => `Recall Party`} />}\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nconst ItemBox: React.FC<{itemData: AdornmentItem, index: number}> = (props) => (\n    <AppContext.Consumer>\n        {({ data, submitCommand }) => {\n            let full = getFullAdornmentItem(props.itemData)\n            return (\n            <div className='itembox'>\n                            {full.name}<br/>\n                            {full.power}<br/>\n                            Level: {full.data.level}\n                            <div className='flexrow flexwrap'>\n                            <CommandButton2 command={() => `adornments equip ${props.index}`} name={() => `Equip`} />\n                            <CommandButton2 command={() => `adornments sell ${props.index}`} name={() => `Sell`} />\n                            <CommandButton2 command={() => `adornments combine ${props.index}`} name={() => `Combine`} />\n                            </div>\n            </div>\n        )}}\n    </AppContext.Consumer>\n)\n\nconst EquippedItemBox: React.FC<{itemData: AdornmentItem | null, slot: string}> = (props) => (\n    <AppContext.Consumer>\n        {({ data, submitCommand }) => {\n            let full = getFullAdornmentItem({iNo:0,level:0,origin:\"\"});\n            if (props.itemData !== null) full = getFullAdornmentItem(props.itemData)\n            return (\n            <div className='itembox'>\n                            {props.slot}-{full.data.origin}<br/>\n                            {full.name}<br/>\n                            {full.power}<br/>\n                            Level: {full.data.level}\n                            <CommandButton2 command={() => `adornments unequip ${props.slot}`} name={() => `Unequip`} />\n            </div>\n        )}}\n    </AppContext.Consumer>\n)","import React from 'react';\nimport AppContext from '../../context/context';\nimport './CommandButtonFC.scss'\nimport { msToFullHMS } from '../../engine/util';\n\n\nexport default class OfflineOverlay extends React.Component { \n\n  static contextType = AppContext;\n\n  fakeBuy () {\n\n  }\n\n  render () {\n    let data = this.context.data;\n\n    return (\n\n        <div className='WarningBox' hidden={data.offline.happening === false}>\n            <div className='WarningOverlay'>\n              <div className='WarningPopup'>\n                Offline Progress<br/>\n                HH:MM:SS<br/>\n                {msToFullHMS(data.offline.totaltime)}<br/>\n                Relic gain is calculated all at once, then days pass.\n              </div>\n            </div>\n        </div>\n    )\n  }\n}\n\n\n","import AppContext from \"../../context/context\";\nimport React from \"react\";\n   \nconst StatFC: React.FC<{name: string, value: number, units?: string, estimate? :number}> = (props) => (\n    <AppContext.Consumer>\n      {({ data, submitCommand }) => {\n\n\n        return (\n            <div className='flexrow spacebetween'>\n            <span>{props.name}</span>\n            <div className='flexcolumn flexgrow'>\n\n            <span className='flexrow flexend'>\n                <span>\n                    {`${props.value.toFixed(2)}`}\n                </span>\n                <span style={{textAlign:'right'}}>\n                    {`${props.units}`}\n                    </span>\n            </span>\n            {props.estimate !== undefined && \n            <span className='flexrow flexend'>\n                <span>\n                    {`${props.estimate.toFixed(2)}`}\n                </span>\n                <span style={{textAlign:'right'}}>\n                    {`${props.units}`}\n                </span>\n            </span>}\n            </div>\n            </div>\n      )}}\n    </AppContext.Consumer>\n  );\n\nexport default StatFC;","import AppContext from \"../../context/context\";\n\nimport React from \"react\";\n\n\n\nimport CommandButton2 from \"./CommandButton2\";\nimport { cmd_ballheightplus, cmd_dropball, cmd_ballmassplus, cmd_throwball, cmd_ballvelocityplus, cmd_bouncyball, cmd_ballbouncesplus } from \"../../engine/modules/Rocket\";\nimport StatFC from \"./StatFC\";\n\nconst RocketUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({ data, submitCommand }) => (\n            <div className='flexcolumn'>\n                <span className='HeaderText'>\n                    Miracles\n                </span>\n                <span>\n                    Use some of the energy your body generates each day (joules) and the power of prophecy (math) to impress your followers by foretelling physical phenomena.\n                </span>\n                <span className='HeaderText'>Info</span>\n                {`Joules: ${data.rocketData.joules}`}\n                <span className='HeaderText'>Modify Ball / Begin Miracle</span>\n                <div className='flexrow'>\n                    {false&&<CommandButton2 {...cmd_ballmassplus} />}\n                    <CommandButton2 {...cmd_ballheightplus} />\n                    <CommandButton2 {...cmd_dropball} />\n                    <CommandButton2 {...cmd_ballvelocityplus} />\n                    <CommandButton2 {...cmd_throwball} />\n                    <CommandButton2 {...cmd_ballbouncesplus} />\n                    <CommandButton2 {...cmd_bouncyball} />\n                </div>\n                <span className='HeaderText'>Dropped Ball</span>\n                <div className='flexrow'>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Stats</div>\n                        <StatFC name='Mass' value={data.rocketData.ball.mass} units='kg' />\n                        <StatFC name='Starting Height' value={data.rocketData.ball.height} units='m' />\n                        <StatFC name='Estimated VMax' value={data.rocketData.ball.derived.estimatedVMax} units='m/s' />\n                        <StatFC name='Estimated Time' value={data.rocketData.ball.derived.estimatedTime} units='s' />\n                        <StatFC name='Estimated Joules' value={data.rocketData.ball.derived.estimatedJouls} units='j' />\n                    </div>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Sim</div>\n                        <StatFC name='Mass' value={data.rocketData.ball.sim.mass} units='kg' />\n                        <StatFC name='Current Height' value={data.rocketData.ball.sim.current_h} units='m' />\n                        <StatFC name='Current Speed' value={data.rocketData.ball.sim.current_v} units='m/s' />\n                        <StatFC name='Elapsed Time' value={data.rocketData.ball.sim.elapsedTime} units='s' />\n                        <StatFC name='Joules from Impact' value={data.rocketData.ball.sim.impactJouls} units='j' />\n                    </div>\n                </div>\n                <span className='HeaderText'>Thrown Ball</span>\n                <div className='flexrow'>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Stats</div>\n                        <StatFC name='Starting Velocity' value={data.rocketData.thrown_ball.initial_velocity} units='m/s' />\n                        <StatFC name='Estimated VMax' value={data.rocketData.thrown_ball.derived.estimatedVMax} units='m/s' />\n                        <StatFC name='Estimated Time' value={data.rocketData.thrown_ball.derived.estimatedTime} units='s' />\n                        <StatFC name='Estimated Joules' value={data.rocketData.thrown_ball.derived.estimatedJouls} units='j' />\n                    </div>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Sim</div>\n                        <StatFC name='Mass' value={data.rocketData.thrown_ball.sim.mass} units='kg' />\n                        <StatFC name='Current Height' value={data.rocketData.thrown_ball.sim.current_h} units='m' />\n                        <StatFC name='Current Speed' value={data.rocketData.thrown_ball.sim.current_v} units='m/s' />\n                        <StatFC name='Elapsed Time' value={data.rocketData.thrown_ball.sim.elapsedTime} units='s' />\n                        <StatFC name='Joules from Impact' value={data.rocketData.thrown_ball.sim.impactJouls} units='j' />\n                    </div>\n                </div>\n                <span className='HeaderText'>Bouncy Ball</span>\n                <div className='flexrow'>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Stats</div>\n                        <StatFC name='Bounces' value={data.rocketData.bouncyball.bounces_upgrades+1} units='m/s' />\n                        <StatFC name='Estimated VMax' value={data.rocketData.bouncyball.derived.estimatedVMax} units='m/s' />\n                        <StatFC name='Estimated Time' value={data.rocketData.bouncyball.derived.estimatedTime} units='s' />\n                        <StatFC name='Estimated Joules' value={data.rocketData.bouncyball.derived.estimatedJouls} units='j' />\n                    </div>\n                    <div className='flexcolumn flexequal' style={{padding:'10px'}}>\n                        <div className='HeaderText'>Sim</div>\n                        <StatFC name='Mass' value={data.rocketData.bouncyball.sim.mass} units='kg' />\n                        <StatFC name='Bounces' value={data.rocketData.bouncyball.sim.bounces} units='kg' />\n                        <StatFC name='Current Height' value={data.rocketData.bouncyball.sim.current_h} units='m' />\n                        <StatFC name='Current Speed' value={data.rocketData.bouncyball.sim.current_v} units='m/s' />\n                        <StatFC name='Elapsed Time' value={data.rocketData.bouncyball.sim.elapsedTime} units='s' />\n                        <StatFC name='Joules from Impact' value={data.rocketData.bouncyball.sim.impactJouls} units='j' />\n                    </div>\n                </div>\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nexport default RocketUI;\n\n","import React from 'react';\nimport AppContext from '../../context/context';\nimport CommandButtonFC from './CommandButtonFC';\nimport { RELICS, relic_canBuy, relic_getCost, relic_getTime, relic_getProductionPerecond, relic_getProductionMulti, relic_maxBuyAmount, relic_canBuyNext, relic_buyNextCost, relic_getProduction, Building_Multi, relic_maxBuyCost, relicDeltaMult } from '../../engine/modules/Prophet';\nimport ProgressFC from './ProgressFC';\nimport TipFC from './TipFC';\nimport { relicUSDupgrade_able, relicUSDupgrade_cost } from '../../engine/modules/USDRelicPurchases';\nimport { formatNumber } from '../../engine/util';\n\n\nconst RelicTip: React.FC<{ relicIndex: number }> = (props) => (\n  <AppContext.Consumer>\n    {({ data, submitCommand }) => (\n      \n                <div>\n                  <div>\n                    Time: {(RELICS[props.relicIndex].initialTime/relicDeltaMult(data)).toFixed(2)}\n                  </div>\n                  <div className='PietyDiv'>\n                    Production: {RELICS[props.relicIndex].initialRevenue}\n                  </div>\n                  <div>\n                    Multi: {formatNumber( relic_getProductionMulti(props.relicIndex, data))}\n                  </div>\n                  <div>\n                  {`x${Building_Multi(data, props.relicIndex)} production per 25 relics`} \n                  </div>\n                  \n                </div>\n              \n    )}\n  </AppContext.Consumer>\n);\n\nexport default RelicTip;","import React from 'react';\nimport AppContext from '../../context/context';\nimport CommandButtonFC from './CommandButtonFC';\nimport { RELICS, relic_canBuy, relic_getCost, relic_getTime, relic_getProductionPerecond, relic_getProductionMulti, relic_maxBuyAmount, relic_canBuyNext, relic_buyNextCost, relic_getProduction, Building_Multi, relic_maxBuyCost } from '../../engine/modules/Prophet';\nimport ProgressFC from './ProgressFC';\nimport TipFC from './TipFC';\nimport { relicUSDupgrade_able, relicUSDupgrade_cost } from '../../engine/modules/USDRelicPurchases';\nimport RelicTip from './RelicTip';\nimport { formatNumber } from '../../engine/util';\n\n\nconst RelicBox: React.FC<{ relicIndex: number }> = (props) => (\n  <AppContext.Consumer>\n    {({ data, submitCommand }) => (\n      <div hidden={props.relicIndex > 0 && data.prophetData.relics[props.relicIndex - 1] === 0} className='RelicBox'>\n        <ProgressFC background={'yellow'} color='green' value={data.prophetData.relicTimers[props.relicIndex]} max={relic_getTime(props.relicIndex)} \n          label={`${RELICS[props.relicIndex].name} x${data.prophetData.relics[props.relicIndex]}`}\n          />\n        <div className='relicboxrow'>\n\n          <div hidden={data.prophetData.relicsetbuy !== 1}>\n\n            <CommandButtonFC name={`Make`} command={`prophet buyrelic ${props.relicIndex}`} able={(datamap) => { return relic_canBuy(props.relicIndex, datamap) }}\n              tip={<RelicTip relicIndex={props.relicIndex}/>}\n            />\n          </div>\n            \n          <div hidden={data.prophetData.relicsetbuy !== 99}>\n            <CommandButtonFC name={`Make Max (${relic_maxBuyAmount(props.relicIndex, data)})`} command={`prophet buymaxrelic ${props.relicIndex}`} \n              able={(datamap) => { return relic_maxBuyAmount(props.relicIndex, data) > 0 }}\n              tip={<RelicTip relicIndex={props.relicIndex}/>}\n             />\n          </div>\n            \n          <div hidden={data.prophetData.relicsetbuy !== 25}>\n\n            <CommandButtonFC name={`Make to 25x`} command={`prophet buyto25relic ${props.relicIndex}`} able={(datamap) => { return relic_canBuyNext(props.relicIndex, data, 25) }}\n              tip={<RelicTip relicIndex={props.relicIndex}/>}\n            />\n            </div>\n            <div className='PietyDiv' hidden={data.prophetData.relicsetbuy !== 1}>\n            Cost: {formatNumber( relic_getCost(props.relicIndex, data))}\n            </div>\n            <div className='PietyDiv' hidden={data.prophetData.relicsetbuy !== 99}>\n            Cost: {formatNumber(Math.max(relic_maxBuyCost(props.relicIndex, data),   relic_getCost(props.relicIndex, data)  ))}\n          </div>\n            <div className='PietyDiv' hidden={data.prophetData.relicsetbuy !== 25}>\n            Cost: {formatNumber(relic_buyNextCost(props.relicIndex, data,25))}\n          </div>\n            <div className='USDCommand' hidden={data.prophetData.congregation.paritioners[1] === 0}>\n              <CommandButtonFC\n                name={`Upgrade`}\n                command={`prophet relicupgrade ${props.relicIndex}`}\n                hidden={(datamap) => { return datamap.prophetData.congregation.paritioners[1] === 0 }}\n                able={(datamap) => { return relicUSDupgrade_able(datamap, props.relicIndex) }}\n                tip={<div>\n                  Level: {data.prophetData.relicUSDUpgrades[props.relicIndex]}<br />\n                  <div className='USDDiv'>\n                    Cost: {formatNumber(relicUSDupgrade_cost(data, props.relicIndex))} USD\n              </div>\n                  +0.1 to production mult per 25 relics<br />\n                {`x${Building_Multi(data, props.relicIndex)} production per 25 relics`}\n\n                </div>}\n              />\n            </div>\n\n\n          \n          \n\n          <div className='PietyDiv'>\n            <div>\n              Total P/S: {formatNumber(relic_getProductionPerecond(props.relicIndex, data))}\n            </div>\n            <TipFC tip={<div>\n              Total Production: {formatNumber(relic_getProduction(props.relicIndex, data))}\n            </div>} />\n          </div>\n        </div>\n      </div>\n    )}\n  </AppContext.Consumer>\n);\n\nexport default RelicBox;","import AppContext from \"../../context/context\"\n\nimport CommandButtonFC from \"./CommandButtonFC\"\n\nimport { CMD_prophet_pray, prophet_maxHolyPower, relic_hoylPowerMulti, holiness_mult, reincation_mult, special_relic_mult, time_relic_mult, reincation_mult_from_superPrestiges, item_relic_mult, relicDeltaMult, CMD_prophet_buymax, CMD_prophet_buymaxreverse } from \"../../engine/modules/Prophet\"\n\nimport { piety_purchase_hide_holypower, piety_purchase_canBuy_holypower, holyPowerCost, piety_purchase_hide_reincarnation, piety_purchase_canBuy_reincarnation, reincarnationCost, piety_purchase_hide_congregation, piety_purchase_canBuy_congregation, congregationCost, UnlockMiracles } from \"../../engine/modules/PietyPurchases\"\n\nimport RelicBox from \"./RelicBox\"\n\nimport ProgressFC from \"./ProgressFC\"\n\nimport { devotion_mult } from \"../../engine/modules/Followers\"\n\nimport TipFC from \"./TipFC\"\nimport React from \"react\"\nimport StatFC from \"./StatFC\"\nimport CommandButton2 from \"./CommandButton2\"\n\nconst RelicUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({ data }) => {return(\n            <div className='RelicUI'>\n\n                <div className='flexrow'>\n\n                    <div className='flexcolumn flexgrow'>\n\n                        <div className='HeaderText'>Commands</div>\n\n                        <div className='ProphetCommands'>\n                            <CommandButtonFC {...CMD_prophet_pray} tip={<div>Pray to increase your piety.</div>} />\n                            <div>\n                            <CommandButtonFC {...CMD_prophet_buymax} />\n                            </div>\n                            <div>\n                            <CommandButtonFC {...CMD_prophet_buymaxreverse} />\n                            </div>\n\n                            <CommandButtonFC name='Empowering Prayer' command='prophet holypower'\n                                hidden={piety_purchase_hide_holypower}\n                                able={piety_purchase_canBuy_holypower}\n                                tip={<div className='PietyDiv'>Cost: {holyPowerCost}</div>}\n                            />\n                            <CommandButtonFC name='Blessing of Reincarnation' command='prophet reincarnate'\n                                hidden={piety_purchase_hide_reincarnation}\n                                able={piety_purchase_canBuy_reincarnation}\n                                tip={<div className='PietyDiv'>Cost: {reincarnationCost}</div>}\n                            />\n                            <CommandButtonFC name='Create Congregation!' command='prophet congregate'\n                                hidden={piety_purchase_hide_congregation}\n                                able={piety_purchase_canBuy_congregation}\n                                tip={<div className='PietyDiv'>Cost: {congregationCost}</div>}\n                            />\n                        </div>\n\n                        <div className='flexrow spacebetween'>\n                        <div className='HeaderText'>Relics</div>\n                        <div className='flexrow'>\n\n                        Make:\n                        <div>\n                                <CommandButtonFC\n                                    name='1'\n                                    command='prophet setbuyrelic 1'\n                                    />\n                        </div>\n                                <CommandButtonFC\n                                    name='x25'\n                                    command='prophet setbuyrelic 25'\n                                />\n                                <CommandButtonFC\n                                    name='Max'\n                                    command='prophet setbuyrelic max'\n                                    />\n                        </div>\n                                    </div>\n\n                        <div className='flexrow'>\n\n                        <div className='flexcolumn flexequal flexgrow'>\n\n                            <RelicBox relicIndex={0} />\n                            <RelicBox relicIndex={1} />\n                            <RelicBox relicIndex={2} />\n                            <RelicBox relicIndex={3} />\n                            <RelicBox relicIndex={4} />\n                        </div>\n                        {(data.prophetData.relics[4] != 0)&&\n                        <div className='flexcolumn flexequal flexgrow'>\n                            <RelicBox relicIndex={5} />\n                            <RelicBox relicIndex={6} />\n                            <RelicBox relicIndex={7} />\n                            <RelicBox relicIndex={8} />\n                            <RelicBox relicIndex={9} />\n                        </div>}\n                        </div>\n\n                    </div>\n\n                    <div className='flexcolumn'>\n                        <div className='HeaderText'>Relic Production Multipliers</div>\n                        <div className='multbox'>\n                            <div hidden={data.prophetData.holyPowerUnlocked === false} >\n\n                                <div hidden={data.prophetData.holyPowerUnlocked === false} className='HolyPowerWrapper'>\n                                    <ProgressFC max={prophet_maxHolyPower(data)}\n                                        label={<div className='flexrow spacebetween'>\n                                            <div>\n                                            {`Holy Power (${Math.floor(100 * data.prophetData.holyPower / prophet_maxHolyPower(data))}%) `} \n                                            </div>\n                                            <div>\n                                            {` x${relic_hoylPowerMulti(data)}`}\n                                            </div>\n                                        </div>}\n                                        value={data.prophetData.holyPower}\n                                        tip={<div>\n                                            Make more relics to increase your max Holy Power!\n                                        </div>}\n                                    />\n                                </div>\n                            </div>\n                            <div hidden={data.prophetData.holiness === 0} className='HolinessDiv'>\n                                <StatFC value={holiness_mult(data)} units=\"x\" name='Holiness' />\n                            </div>\n                            <div hidden={data.prophetData.devotion === 0} className='DevotionDiv'>\n                                <StatFC value={devotion_mult(data)} units=\"x\" name='Devotion' />\n                            </div>\n                            <div hidden={data.prophetData.save.reincarnationCount === 0}>\n                                <StatFC value={reincation_mult(data)} units=\"x\" name='Reincarnation'/>\n                                {data.followers.devotedPrestige > 0 && <TipFC tip={<div>\n                                    {`x${reincation_mult_from_superPrestiges(data)} from Divine Reincarnations`}\n                                </div>} />}\n                            </div>\n                            \n                            <div hidden={special_relic_mult(9, data) === 1}>\n                            <StatFC value={special_relic_mult(0,data)} units=\"x\" name='Special Mult(0)'/>                \n                            <StatFC value={special_relic_mult(9,data)} units=\"x\" name='Special Mult(9)'/>                \n                                <TipFC tip={<div>\n\n                                    <div>\n                                        {`Base: x1`}\n                                    </div>\n                                    <div hidden={data.followers.DPUpgrades.monthMultiplier + data.followers.DPUpgrades.yearMultiplier === 0}>\n                                        {`Time Based Mult: +x${time_relic_mult(data).toFixed(1)}`}\n                                    </div>\n                                </div>}\n                                />\n                            </div>\n                            {item_relic_mult(0,data)>1 && <StatFC value={item_relic_mult(0,data)} units='x' name='Item' />}\n                        </div>\n                        <div className='HeaderText'>\n                            Info\n                        </div>\n                                {<StatFC value={relicDeltaMult(data)} units=\"x\" name='Relic Production Speed'/>}                \n                        \n\n                    </div>\n\n                </div>\n\n\n\n\n\n            </div>\n        )}}\n    </AppContext.Consumer>\n)\n\n\nexport default RelicUI;","import AppContext from \"../../context/context\";\n\nimport './PantheonUI.scss'\n\nimport React from \"react\";\nimport CommandButtonFC from \"./CommandButtonFC\";\nimport { BasePantheonUpgrade, pantheonPurchase_able, pantheonPurchaseCost, pantheonPurchase_maxCost, pantheonPurchase_maxAmmount } from \"../../engine/modules/Pantheon/Types\";\nimport CommandButton2 from \"./CommandButton2\";\nimport * as TIME from '../../engine/modules/Pantheon/Time';\nimport TipFC from \"./TipFC\";\nimport Pantheons from '../../engine/modules/Pantheon/Pantheons';\nimport { formatNumber } from \"../../engine/util\";\n\nconst PantheonUI: React.FC = () => (\n    <AppContext.Consumer>\n        {({data, submitCommand}) => (\n            <div className='PantheonUI'>\n                <span className='HeaderText'>\n                    Pantheon\n                </span>\n                <div>\n                    Upgrades, once bought, persist through normal reincarnations ... and work even before you add that God to your pantheon. Reincarnate to choose new gods for your Pantheon. \n                </div>\n                <div>\n                \n                    <TipFC tip={`Not 100% usefull yet. Only the first tier of god (Proud) has additional upgrades. Feel free to suggest upgrades for the missing ones.`}/>\n\n                </div>\n                <div className='pantheoncolumn'>\n\n                {data.prophetData.devotionUpgrades.abc.a && <div>\n                    <span className='HeaderText'>\n                        God of Time\n                        </span>\n                        <div>\n                    <PantheonUpgradeComp dp={TIME.Upgrade_A} />\n                    <PantheonUpgradeComp dp={TIME.Upgrade_B} />\n                    <PantheonUpgradeComp dp={TIME.Upgrade_C} />\n                    <div>\n                        {data.pantheon.time.bonusDays}   \n                    </div>\n                        </div>\n                    </div>}\n                {data.prophetData.devotionUpgrades.abc.b && <div>\n                    <span className='HeaderText'>\n                    God of Production\n                        </span>\n                        <div>\n                    <PantheonUpgradeComp dp={Pantheons.PRODUCTION.Upgrade_A} />\n                    <PantheonUpgradeComp dp={Pantheons.PRODUCTION.Upgrade_B} />\n                    <PantheonUpgradeComp dp={Pantheons.PRODUCTION.Upgrade_C} />\n                        </div>\n                    </div>}\n                {data.prophetData.devotionUpgrades.abc.c && <div>\n                    <span className='HeaderText'>\n                    God of Wealth\n                        </span>\n                        <div>\n                    <PantheonUpgradeComp dp={Pantheons.WEALTH.Upgrade_A} />\n                    <PantheonUpgradeComp dp={Pantheons.WEALTH.Upgrade_B} />\n                    <PantheonUpgradeComp dp={Pantheons.WEALTH.Upgrade_C} />\n                        </div>\n                    </div>}\n\n                <PantheonUpgradeBox_v2 active={data.prophetData.devotionUpgrades.def.a}\n                    dps={[Pantheons.PERSUASION.Upgrade_A,Pantheons.PERSUASION.Upgrade_B, Pantheons.PERSUASION.Upgrade_C]}>\n                    <span className='HeaderText'>\n                    God of Persuasion\n                    </span>          \n                </PantheonUpgradeBox_v2>\n\n                {data.prophetData.devotionUpgrades.def.b && <div>\n                    <span className='HeaderText'>\n                    God of Maintainance\n                        </span>\n                        <div>\n                    <PantheonUpgradeComp dp={Pantheons.MAINTAINANCE.Upgrade_A} />\n                    <PantheonUpgradeComp dp={Pantheons.MAINTAINANCE.Upgrade_B} />\n                    <PantheonUpgradeComp dp={Pantheons.MAINTAINANCE.Upgrade_C} />\n                        </div>                    </div>}\n                {data.prophetData.devotionUpgrades.def.c && <div>\n                    <span className='HeaderText'>\n                    God of Greed\n                        </span>\n                        <div>\n                    <PantheonUpgradeComp dp={Pantheons.GREED.Upgrade_A} />\n                    <PantheonUpgradeComp dp={Pantheons.GREED.Upgrade_B} />\n                    <PantheonUpgradeComp dp={Pantheons.GREED.Upgrade_C} />\n                        </div>                    </div>}\n                </div>\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nexport default PantheonUI;\n\n\nconst PantheonUpgradeComp: React.FC<{ dp: BasePantheonUpgrade }> = (props) => (\n    <AppContext.Consumer>\n        {({ data }) => (\n            <div className='PietyCommand flexcolumn pantheonupgrade'>\n            <CommandButton2 {...props.dp.command}\n                cost={(data)=>pantheonPurchaseCost(data,props.dp)}\n                able={(data)=>pantheonPurchase_able(data, props.dp)}\n                costName='Piety'\n                tip={<div>\n                    Cost: {formatNumber(pantheonPurchaseCost(data, props.dp))}<br />\n                    {props.dp.description}<br />\n                    Level : {props.dp.countFn(data)}\n                </div>}\n            />\n            <CommandButton2 name={()=>`Level ${props.dp.countFn(data)} - Buy Max (${pantheonPurchase_maxAmmount(data,props.dp)})`} command={(data)=>props.dp.command.command(data)+'max'} \n                        able={(data)=>pantheonPurchase_able(data, props.dp)}\n                        />\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nconst PantheonUpgradeBox_v2: React.FC<{active: boolean, dps: BasePantheonUpgrade[]}> = (props) => (\n    <AppContext.Consumer>\n        {({data}) => (\n            <div>\n                {props.children}\n                <div>\n                {props.dps.map((dp, index)=>(<PantheonUpgradeComp_v2 dp={dp} active={props.active} key={'pantehon'+index}  />))}\n                </div>\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n\nconst PantheonUpgradeComp_v2: React.FC<{ dp: BasePantheonUpgrade, active:boolean }> = (props) => (\n    <AppContext.Consumer>\n        {({ data }) => (\n            <div className='PietyCommand flexcolumn pantheonupgrade'>\n            <CommandButton2 {...props.dp.command}\n                cost={(data)=>pantheonPurchaseCost(data,props.dp)}\n                able={(data)=>pantheonPurchase_able(data, props.dp) && props.active}\n                costName='Piety'\n                tip={<div>\n                    Cost: {formatNumber(pantheonPurchaseCost(data, props.dp))}<br />\n                    {props.dp.description}<br />\n                    Level : {props.dp.countFn(data)}\n                </div>}\n            />\n            {props.active && <CommandButton2 name={()=>`Level ${props.dp.countFn(data)} - Buy Max (${pantheonPurchase_maxAmmount(data,props.dp)})`} command={(data)=>props.dp.command.command(data)+'max'} \n                        able={(data)=>pantheonPurchase_able(data, props.dp) && props.active}\n                        />}\n            {!props.active && <div style={{textAlign:'center'}}>\n                {`Level ${props.dp.countFn(data)}`}\n                </div>}\n            </div>\n        )}\n    </AppContext.Consumer>\n)\n","import React, { FormEvent } from 'react';\nimport Engine from '../engine/Engine';\nimport AppContext from '../context/context';\nimport { Datamap } from '../engine/Datamap';\nimport BottomBar from './BottomBar';\nimport CommandButtonFC from './comps/CommandButtonFC';\nimport ProphetUI from './ProphetUI';\nimport './App.scss'\nimport NavBar from './comps/NavBar';\nimport ResetUI from './comps/ResetUI';\nimport FollowersUI from './FollowersUI';\nimport { msToFullHMS, compressString } from '../engine/util';\nimport AdornmentUI from './comps/AdornmentUI';\nimport OfflineOverlay from './comps/OfflineOverlay';\nimport RocketUI from './comps/RocketUI';\nimport RelicUI from './comps/RelicUI';\nimport TipFC from './comps/TipFC';\nimport PantheonUI from './comps/PantheonUI';\n\n\nexport default class App extends React.Component<{}, { data: Datamap }> {\n\n    engine: Engine;\n\n    constructor(props: Readonly<{}>) {\n        super(props);\n        this.engine = new Engine(this.notify)\n        //this.engine.quietLoad();\n        this.state = {\n            data: this.engine.datamap\n        }\n        //this.engine.quietLoad();\n        window.addEventListener(\"keypress\", this.handleKey);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener('keypress', this.handleKey);\n    }\n\n    handleKey = (e: KeyboardEvent) => {\n        if (this.engine.datamap.nacData.timeSet != 0) this.engine.executeCommand(`keypress ` + e.key)\n    }\n\n    notify = () => {\n        this.setState({ data: this.engine.datamap })\n    }\n\n    submitCommand = (command: string) => {\n        this.engine.executeCommand(command)\n    }\n\n    setname = (ev: FormEvent<HTMLFormElement>) => {\n        let target = ev.target as HTMLFormElement;\n        let children = target.children;\n        let textInput = children[0] as HTMLInputElement;\n        console.log(textInput.value);\n        this.submitCommand(`nac setname ${textInput.value}`)\n\n        ev.preventDefault();\n    }\n\n    render() {\n        return (\n            <div className='App' style={{ width: `100%`, height: `100%` }}>\n                <AppContext.Provider value={{\n                    data: this.state.data,\n                    submitCommand: this.submitCommand\n                }}>\n                    <div style={{ display: 'flex', flexDirection: 'column', height: '100%' }}>\n\n                        <div className='TopBar'>\n                            <CommandButtonFC command='save' name='Save' />\n\n                            {(this.state.data.nacData.name === '') && <form onSubmit={this.setname}>\n                                <input type='text' defaultValue='noname' />\n                                <button className='DCommandFC' type='submit'>Set Name</button>\n                            </form>}\n\n                            {(this.state.data.nacData.name !== '') && <div onClick={() => { this.submitCommand(`nac clearname`) }}>\n                                {`The Prophet, ${this.state.data.nacData.name}!`}<TipFC tip={<div>Click to rename!</div>} />\n                            </div>}\n\n                            <div>\n                                {msToFullHMS(this.state.data.gameTime.currentRun.time)}\n                            </div>\n\n                            <CommandButtonFC command='load' name='Load' />\n                            <CommandButtonFC command='export' name='Export' />\n                            <div>\n                                <button className='DCommandFC' onClick={() => { (document.getElementById('file-input') as HTMLInputElement).click() }} >\n                                    Import\n                            </button>\n                                <input id=\"file-input\" type=\"file\" name=\"name\" style={{ display: \"none\" }}\n                                    onChange={(e) => {\n                                        let list = e.target.files;\n                                        if (list) {\n                                            let file = list[0];\n                                            var reader = new FileReader();\n                                            \n                                            //reader.readAsArrayBuffer(file)\n                                            reader.readAsText(file, 'UTF-8');\n\n                                            // here we tell the reader what to do when it's done reading...\n                                            reader.onload = readerEvent => {\n                                                let target = readerEvent.target;\n                                                if (target) {\n                                                    let content = target.result;\n                                                    console.log(content);\n                                                    this.submitCommand(`import ${content}`)\n\n                                                }\n                                            }\n\n                                        }\n\n                                    }} />\n                            </div>\n                        </div>\n\n                        <ProphetUI />\n\n                        <NavBar />\n\n                        <div className='SelectedArea'>\n                            {MAINNAVS[this.state.data.nav.mainArea]}\n                        </div>\n\n                        <BottomBar />\n                        <OfflineOverlay />\n                    </div>\n                </AppContext.Provider>\n            </div>\n        )\n    }\n}\n\n\n\nconst MAINNAVS = [<RelicUI />, <ResetUI />, <FollowersUI />, <AdornmentUI />, <RocketUI />, <PantheonUI />]","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './ui/App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}